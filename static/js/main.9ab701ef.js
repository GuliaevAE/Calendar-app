/*! For license information please see main.9ab701ef.js.LICENSE.txt */
!function(){var e={4569:function(e,t,n){n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var x=u(e.baseURL,e.url);function _(){if(k){var r="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(x,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=_:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(_)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(x))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),y&&"json"!==y&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var I=d(x);I&&-1===["http","https","file"].indexOf(I)?n(new f("Unsupported protocol "+I+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(1709));u.Axios=a,u.CanceledError=n(6569),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.toFormData=n(1397),u.AxiosError=n(4531),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(s),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},f.prototype.getUri=function(e){e=u(this.defaults,e);var t=s(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(u(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,u,s){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,u),c.name=e.name,s&&Object.assign(c,s),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),u=n(6569);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),u=n(1397),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return u(n?{"files[]":e}:e,s&&new s)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a.from(u,a.ERR_BAD_RESPONSE,this,null,this.response);throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var u,s=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(u=r.toArray(n)))return void u.forEach((function(e){!r.isUndefined(e)&&t.append(s,i(e))}));e(n,s)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,u){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,u)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],u=t[o];if(u){var s=e[o],c=void 0===s||u(s,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function u(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function s(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=u("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=u("Date"),p=u("File"),v=u("Blob"),m=u("FileList");function y(e){return"[object Function]"===a.call(e)}var g=u("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:s,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},7450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a={animationTimingFunction:(0,i.cubicBezier)(.215,.61,.355,1)},o={from:a,"0%":{opacity:0,transform:(0,i.translate3d)(0,"-3000px",0)},"60%":r({},a,{opacity:1,transform:(0,i.translate3d)(0,"25px",0)}),"75%":r({},a,{transform:(0,i.translate3d)(0,"-10px",0)}),"90%":r({},a,{transform:(0,i.translate3d)(0,"5px",0)}),to:r({},a,{transform:"none"})};t.default=o},3983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a={animationTimingFunction:(0,i.cubicBezier)(.215,.61,.355,1)},o={from:a,"0%":{opacity:0,transform:(0,i.translate3d)("-3000px",0,0)},"60%":r({},a,{opacity:1,transform:(0,i.translate3d)("25px",0,0)}),"75%":r({},a,{transform:(0,i.translate3d)("-10px",0,0)}),"90%":r({},a,{transform:(0,i.translate3d)("5px",0,0)}),to:r({},a,{transform:"none"})};t.default=o},1524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a={animationTimingFunction:(0,i.cubicBezier)(.215,.61,.355,1)},o={from:a,"0%":{opacity:0,transform:(0,i.translate3d)("3000px",0,0)},"60%":r({},a,{opacity:1,transform:(0,i.translate3d)("-25px",0,0)}),"75%":r({},a,{transform:(0,i.translate3d)("10px",0,0)}),"90%":r({},a,{transform:(0,i.translate3d)("-5px",0,0)}),to:r({},a,{transform:"none"})};t.default=o},3046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a={animationTimingFunction:(0,i.cubicBezier)(.215,.61,.355,1)},o={from:a,"0%":{opacity:0,transform:(0,i.translate3d)(0,"3000px",0)},"60%":r({},a,{opacity:1,transform:(0,i.translate3d)(0,"-20px",0)}),"75%":r({},a,{transform:(0,i.translate3d)(0,"10px",0)}),"90%":r({},a,{transform:(0,i.translate3d)(0,"-5px",0)}),to:r({},a,{transform:"none"})};t.default=o},7078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a={animationTimingFunction:(0,i.cubicBezier)(.215,.61,.355,1)},o={from:a,"0%":{opacity:0,transform:(0,i.scale3d)(.3,.3,.3)},"20%":r({},a,{transform:(0,i.scale3d)(1.1,1.1,1.1)}),"40%":r({},a,{transform:(0,i.scale3d)(.9,.9,.9)}),"60%":r({},a,{opacity:1,transform:(0,i.scale3d)(1.03,1.03,1.03)}),"80%":r({},a,{transform:(0,i.scale3d)(.97,.97,.97)}),to:r({},a,{opacity:1,transform:(0,i.scale3d)(1,1,1)})};t.default=o},3948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={"20%":{transform:(0,r.translate3d)(0,"10px",0)},"40%":{transform:(0,r.translate3d)(0,"-20px",0)},"45%":{transform:(0,r.translate3d)(0,"-20px",0)},to:{opacity:0,transform:(0,r.translate3d)(0,"2000px",0)}};t.default=i},7982:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={"20%":{opacity:1,transform:(0,r.translate3d)("20px",0,0)},to:{opacity:0,transform:(0,r.translate3d)("-2000px",0,0)}};t.default=i},1993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={"20%":{opacity:1,transform:(0,r.translate3d)("-20px",0,0)},to:{opacity:1,transform:(0,r.translate3d)("2000px",0,0)}};t.default=i},6457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={"20%":{transform:(0,r.translate3d)(0,"-10px",0)},"40%":{opacity:1,transform:(0,r.translate3d)(0,"20px",0)},"45%":{opacity:1,transform:(0,r.translate3d)(0,"20px",0)},to:{opacity:0,transform:(0,r.translate3d)(0,"-2000px",0)}};t.default=i},7934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={"20%":{transform:(0,r.scale3d)(.9,.9,.9)},"50%":{transform:(0,r.scale3d)(1.1,1.1,1.1)},"55%":{transform:(0,r.scale3d)(1.1,1.1,1.1)},to:{opacity:0,transform:(0,r.scale3d)(.3,.3,.3)}};t.default=i},8529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={animationTimingFunction:(0,r.cubicBezier)(.2125,.61,.355,1),transform:(0,r.translate3d)(0,0,0)},a={"0%":i,"20%":i,"40%":{animationTimingFunction:(0,r.cubicBezier)(.755,.05,.855,.06),transform:(0,r.translate3d)(0,"-30px",0)},"43%":{animationTimingFunction:(0,r.cubicBezier)(.755,.05,.855,.06),transform:(0,r.translate3d)(0,"-30px",0)},"53%":i,"70%":{animationTimingFunction:(0,r.cubicBezier)(.755,.05,.855,.06),transform:(0,r.translate3d)(0,"-50px",0)},"80%":i,"90%":{transform:(0,r.translate3d)(0,"-4px",0)},"100%":i};t.default=a},7362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)(0,"-2000px",0)},to:{opacity:1,transform:"none"}};t.default=r},2679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)(0,"-100%",0)},to:{opacity:1,transform:"none"}};t.default=r},6860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)("-2000px",0,0)},to:{opacity:1,transform:"none"}};t.default=r},7136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)("-100%",0,0)},to:{opacity:1,transform:"none"}};t.default=r},3465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)("2000px",0,0)},to:{opacity:1,transform:"none"}};t.default=r},6292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)("100%",0,0)},to:{opacity:1,transform:"none"}};t.default=r},8722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)(0,"2000px",0)},to:{opacity:1,transform:"none"}};t.default=r},7691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).translate3d)(0,"100%",0)},to:{opacity:1,transform:"none"}};t.default=r},6637:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={from:{opacity:0},to:{opacity:1}}},5539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)(0,"2000px",0)}};t.default=r},1491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)(0,"100%",0)}};t.default=r},6130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)("-2000px",0,0)}};t.default=r},4618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)("-100%",0,0)}};t.default=r},4898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)("2000px",0,0)}};t.default=r},6354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)("100%",0,0)}};t.default=r},2969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)(0,"-2000px",0)}};t.default=r},7294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},to:{opacity:0,transform:(0,n(643).translate3d)(0,"-100%",0)}};t.default=r},6095:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={from:{opacity:1},to:{opacity:0}}},1092:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={opacity:1},r={opacity:0},i={from:n,"25%":r,"50%":n,"75%":r,to:n};t.default=i},6414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.perspective,r.rotate3d),a={from:{animationTimingFunction:"ease-out",transform:i("400px",[1,0,0,90]),opacity:0},"40%":{animationTimingFunction:"ease-in",transform:i("400px",[1,0,0,-20])},"60%":{transform:i("400px",[1,0,0,10])},"80%":{transform:i("400px",[1,0,0,-5])},to:{transform:(0,r.perspective)("400px")}};t.default=a},2759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.perspective,r.rotate3d),a={from:{animationTimingFunction:"ease-out",transform:i("400px",[0,1,0,90]),opacity:0},"40%":{animationTimingFunction:"ease-in",transform:i("400px",[0,1,0,-20])},"60%":{transform:i("400px",[0,1,0,10])},"80%":{transform:i("400px",[0,1,0,-5])},to:{transform:(0,r.perspective)("400px")}};t.default=a},7379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.perspective,r.rotate3d),a={from:{transform:(0,r.perspective)("400px")},"30%":{transform:i("400px",[1,0,0,-20]),opacity:1},to:{transform:i("400px",[1,0,0,90]),opacity:0}};t.default=a},3913:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.perspective,r.rotate3d),a={from:{transform:(0,r.perspective)("400px")},"30%":{transform:i("400px",[0,1,0,-15]),opacity:1},to:{transform:i("400px",[0,1,0,90]),opacity:0}};t.default=a},4825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.perspective,r.rotate3d),a=(0,r.compose)(r.perspective,r.scale3d),o=(0,r.compose)(r.perspective,r.translate3d,r.rotate3d),u={from:{animationTimingFunction:"ease-out",transform:i("400px",[0,1,0,-360])},"40%":{animationTimingFunction:"ease-out",transform:o("400px",[0,0,"150px"],[0,1,0,-190])},"50%":{animationTimingFunction:"ease-in",transform:o("400px",[0,0,"150px"],[0,1,0,-170])},"80%":{animationTimingFunction:"ease-in",transform:a("400px",[.95,.95,.95])},to:{animationTimingFunction:"ease-in",transform:(0,r.perspective)("400px")}};t.default=u},736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.translateX,r.rotateY),a={transform:(0,r.translateX)(0)},o={"0%":a,"6.5%":{transform:i("-6px","-9deg")},"18.5%":{transform:i("5px","7deg")},"31.5%":{transform:i("-3px","-5deg")},"43.5%":{transform:i("2px","3deg")},"50%":a};t.default=o},8465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={transform:(0,r.rotate3d)(0,0,1,80),transformOrigin:"top left",animationTimingFunction:"ease-in-out"},a={transform:(0,r.rotate3d)(0,0,1,60),transformOrigin:"top left",animationTimingFunction:"ease-in-out",opacity:1},o={"0%":{transformOrigin:"top left",animationTimingFunction:"ease-in-out"},"20%":i,"40%":a,"60%":i,"80%":a,to:{transform:(0,r.translate3d)(0,"700px",0),opacity:0}};t.default=o},7845:function(e,t,n){"use strict";t.O2=t.Ji=void 0;var r=Ee(n(6199)),i=Ee(n(8529)),a=Ee(n(1092)),o=Ee(n(2508)),u=Ee(n(5767)),s=Ee(n(9872)),c=Ee(n(736)),l=Ee(n(2983)),f=Ee(n(9921)),h=Ee(n(2834)),d=Ee(n(9384)),p=Ee(n(7078)),v=Ee(n(7450)),m=Ee(n(3983)),y=Ee(n(1524)),g=Ee(n(3046)),k=Ee(n(7934)),b=Ee(n(3948)),w=Ee(n(7982)),x=Ee(n(1993)),_=Ee(n(6457)),S=Ee(n(6637)),I=Ee(n(2679)),E=Ee(n(7362)),T=Ee(n(7136)),C=Ee(n(6860)),A=Ee(n(6292)),O=Ee(n(3465)),N=Ee(n(7691)),D=Ee(n(8722)),P=Ee(n(6095)),R=Ee(n(1491)),L=Ee(n(5539)),M=Ee(n(4618)),F=Ee(n(6130)),j=Ee(n(6354)),U=Ee(n(4898)),V=Ee(n(7294)),B=Ee(n(2969)),z=Ee(n(4825)),q=Ee(n(6414)),K=Ee(n(2759)),W=Ee(n(7379)),G=Ee(n(3913)),H=Ee(n(5303)),Q=Ee(n(5601)),$=Ee(n(5506)),Y=Ee(n(5350)),J=Ee(n(8364)),X=Ee(n(5278)),Z=Ee(n(8821)),ee=Ee(n(8014)),te=Ee(n(6735)),ne=Ee(n(5284)),re=Ee(n(5471)),ie=Ee(n(2234)),ae=Ee(n(9297)),oe=Ee(n(1082)),ue=Ee(n(1865)),se=Ee(n(4905)),ce=Ee(n(2015)),le=Ee(n(4065)),fe=Ee(n(8225)),he=Ee(n(6114)),de=Ee(n(8465)),pe=Ee(n(1023)),ve=Ee(n(5311)),me=Ee(n(9953)),ye=Ee(n(1794)),ge=Ee(n(1775)),ke=Ee(n(4209)),be=Ee(n(2315)),we=Ee(n(389)),xe=Ee(n(1789)),_e=Ee(n(695)),Se=Ee(n(5127)),Ie=Ee(n(5251));function Ee(e){return e&&e.__esModule?e:{default:e}}r.default,i.default,a.default,o.default,u.default,s.default,c.default,l.default,f.default,h.default,d.default,p.default,v.default,m.default,y.default,g.default,k.default,b.default,w.default,x.default,_.default,t.Ji=S.default,I.default,E.default,t.O2=T.default,C.default,A.default,O.default,N.default,D.default,P.default,R.default,L.default,M.default,F.default,j.default,U.default,V.default,B.default,z.default,q.default,K.default,W.default,G.default,H.default,Q.default,$.default,Y.default,J.default,X.default,Z.default,ee.default,te.default,ne.default,re.default,ie.default,ae.default,oe.default,ue.default,se.default,ce.default,le.default,fe.default,he.default,de.default,pe.default,ve.default,me.default,ye.default,ge.default,ke.default,be.default,we.default,xe.default,_e.default,Se.default,Ie.default},5767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={transform:"none"},a={from:i,"11.1%":i,"22.2%":{transform:(0,r.skewXY)(-12.5,-12.5)},33.3:{transform:(0,r.skewXY)(6.25,6.25)},44.4:{transform:(0,r.skewXY)(-3.125,-3.125)},55.5:{transform:(0,r.skewXY)(1.5625,1.5625)},66.6:{transform:(0,r.skewXY)(-.78125,-.78125)},77.7:{transform:(0,r.skewXY)(.390625,.390625)},88.8:{transform:(0,r.skewXY)(-.1953125,-.1953125)},to:i};t.default=a},5303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a={animationTimingFunction:"ease-out"},o={from:r({},a,{opacity:0,transform:(0,i.compose)(i.translate3d,i.skewX)(["100%",0,0],-30)}),"60%":r({},a,{opacity:1,transform:(0,i.skewX)(20)}),"80%":r({},a,{opacity:1,transform:(0,i.skewX)(-5)}),to:r({},a,{transform:"none",opacity:1})};t.default=o},5601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(643),a=(0,i.compose)(i.translate3d,i.skewX),o={animationTimingFunction:"ease-out"},u={from:r({},o,{opacity:1}),to:r({},o,{transform:a(["100%",0,0],30),opacity:0})};t.default=u},6199:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={},r={},i=a(e,n),s=a(t,n);for(var c in n){var l=i[c],f=s[c],h=r[c]||(r[c]={});if(l&&f)o(l,f,h);else{var d=u(l,f);d&&(r[c]=d)}}return r};var n={from:"from","0%":"from",to:"to","100%":"to"},r=function(e){return e.filter((function(t,n){return"none"!==t&&e.indexOf(t)===n})).join(" ")},i=function(e,t){return"undefined"!==typeof e?e:t},a=function(e,t){var r={};for(var i in e){var a=n[i]||10*Math.round(parseFloat(i)/10)+"%";r[a]=e[i],t[a]=a}return r},o=function(e,t,n){for(var a in e)if("transform"===a)if(t[a]){var o=r([e[a],t[a]]);"none"!==o&&(n[a]=o)}else{var u=i(e[a],t[a]);n[a]=u}else{var s=i(e[a],t[a]);n[a]=s}for(var c in t){var l=t[c];"transform"===c&&"none"===l||(n[c]=n[c]||l)}},u=function(e,t){var n=e||t,r={};for(var i in n){var a=n[i];"transform"===i&&"none"===a||(r[i]=a)}return Object.keys(r).length?r:null}},2508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.scale3d)(1,1,1)},"50%":{transform:(0,r.scale3d)(1.05,1.05,1.05)},to:{transform:(0,r.scale3d)(1,1,1)}};t.default=i},1023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{opacity:0,transform:(0,r.compose)(r.translate3d,r.rotate3d)(["-100%",0,0],[0,0,1,-120])},to:{opacity:1,transform:"none"}};t.default=i},5311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{opacity:1},to:{opacity:0,transform:(0,r.compose)(r.translate3d,r.rotate3d)(["100%",0,0],[0,0,1,120])}};t.default=i},5350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"left bottom",transform:(0,n(643).rotate3d)(0,0,1,-45),opacity:0},to:{transformOrigin:"left bottom",transform:"none",opacity:1}};t.default=r},8364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"right bottom",transform:(0,n(643).rotate3d)(0,0,1,45),opacity:0},to:{transformOrigin:"right bottom",transform:"none",opacity:1}};t.default=r},5278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"left bottom",transform:(0,n(643).rotate3d)(0,0,1,45),opacity:0},to:{transformOrigin:"left bottom",transform:"none",opacity:1}};t.default=r},8821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"right bottom",transform:(0,n(643).rotate3d)(0,0,1,-90),opacity:0},to:{transformOrigin:"right bottom",transform:"none",opacity:1}};t.default=r},5506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"center",transform:(0,n(643).rotate3d)(0,0,1,-200),opacity:0},to:{transformOrigin:"center",transform:"none",opacity:1}};t.default=r},6735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"left bottom",opacity:1},to:{transformOrigin:"left bottom",transform:(0,n(643).rotate3d)(0,0,1,45),opacity:0}};t.default=r},5284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"right bottom",opacity:1},to:{transformOrigin:"right bottom",transform:(0,n(643).rotate3d)(0,0,1,-45),opacity:0}};t.default=r},5471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"left bottom",opacity:1},to:{transformOrigin:"left bottom",transform:(0,n(643).rotate3d)(0,0,1,-45),opacity:0}};t.default=r},2234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"right bottom",opacity:1},to:{transformOrigin:"right bottom",transform:(0,n(643).rotate3d)(0,0,1,90),opacity:0}};t.default=r},8014:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{transformOrigin:"center",opacity:1},to:{transformOrigin:"center",transform:(0,n(643).rotate3d)(0,0,1,200),opacity:0}};t.default=r},2983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={transform:(0,r.scale3d)(1,1,1)},a={from:i,"30%":{transform:(0,r.scale3d)(1.25,.75,1)},"40%":{transform:(0,r.scale3d)(.75,1.25,1)},"50%":{transform:(0,r.scale3d)(1.15,.85,1)},"65%":{transform:(0,r.scale3d)(.95,1.05,1)},"75%":{transform:(0,r.scale3d)(1.05,.95,1)},to:i};t.default=a},9921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={transform:(0,r.translate3d)(0,0,0)},a={transform:(0,r.translate3d)("-10px",0,0)},o={transform:(0,r.translate3d)("10px",0,0)},u={from:i,"10%":a,"20%":o,"30%":a,"40%":o,"50%":a,"60%":o,"70%":a,"80%":o,"90%":a,to:i};t.default=u},9297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)(0,"-100%",0),visibility:"visible"},to:{transform:(0,r.translate3d)(0,0,0)}};t.default=i},1082:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)("-100%",0,0),visibility:"visible"},to:{transform:(0,r.translate3d)(0,0,0)}};t.default=i},1865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)("100%",0,0),visibility:"visible"},to:{transform:(0,r.translate3d)(0,0,0)}};t.default=i},4905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)(0,"100%",0),visibility:"visible"},to:{transform:(0,r.translate3d)(0,0,0)}};t.default=i},2015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)(0,0,0)},to:{visibility:"hidden",transform:(0,r.translate3d)(0,"100%",0)}};t.default=i},4065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)(0,0,0)},to:{visibility:"hidden",transform:(0,r.translate3d)("-100%",0,0)}};t.default=i},8225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)(0,0,0)},to:{visibility:"hidden",transform:(0,r.translate3d)("100%",0,0)}};t.default=i},6114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i={from:{transform:(0,r.translate3d)(0,0,0)},to:{visibility:"hidden",transform:(0,r.translate3d)(0,"-100%",0)}};t.default=i},2834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=n(643),i={"20%":{transform:(0,r.rotate3d)(0,0,1,15)},"40%":{transform:(0,r.rotate3d)(0,0,1,-10)},"60%":{transform:(0,r.rotate3d)(0,0,1,5)},"80%":{transform:(0,r.rotate3d)(0,0,1,-5)},to:{transform:(0,r.rotate3d)(0,0,1,15)}};t.styles={transformOrigin:"top center"};t.default=i},9384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.rotate3d),a={transform:(0,r.scale3d)(1,1,1)},o={transform:i([.9,.9,.9],[0,0,1,-3])},u={transform:i([1.1,1.1,1.1],[0,0,1,3])},s={transform:i([1.1,1.1,1.1],[0,0,1,-3])},c={from:a,"10%":o,"20%":o,"30%":u,"40%":s,"50%":u,"60%":s,"70%":u,"80%":s,"90%":u,to:a};t.default=c},643:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.compose=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=t.reduce((function(e,t,i){var a=r[i];return e+" "+(Array.isArray(a)?t.apply(void 0,n(a)):t(a))}),"");return a.trim()}},t.cubicBezier=function(e,t,n,r){return"cubic-bezier("+e+", "+t+", "+n+", "+r+")"},t.translate3d=function(e,t,n){return"translate3d("+e+", "+t+", "+n+")"},t.translateX=function(e){return"translateX("+e+")"},t.scale3d=function(e,t,n){return"scale3d("+e+", "+t+", "+n+")"},t.scale=function(e){return"scale("+e+")"};var r=t.skewX=function(e){return"skewX("+e+"deg)"},i=t.skewY=function(e){return"skewY("+e+"deg)"};t.skewXY=function(e,t){return r(e)+" "+i(t)},t.rotateY=function(e){return"rotateY("+e+")"},t.rotate3d=function(e,t,n,r){return"rotate3d("+e+", "+t+", "+n+", "+r+"deg)"},t.perspective=function(e){return"perspective("+e+")"}},9872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.translate3d,r.rotate3d),a={transform:"none"},o={from:a,"15%":{transform:i(["-25%",0,0],[0,0,1,-5])},"30%":{transform:i(["20%",0,0],[0,0,1,-5])},"45%":{transform:i(["-15%",0,0],[0,0,1,-3])},"60%":{transform:i(["10%",0,0],[0,0,1,2])},"75%":{transform:i(["-5%",0,0],[0,0,1,-1])},to:a};t.default=o},1794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a={from:{opacity:0,transform:i([.1,.1,.1],[0,"-1000px",0]),animationTimingFunction:(0,r.cubicBezier)(.55,.055,.675,.19)},"60%":{opacity:1,transform:i([.475,.475,.475],[0,"60px",0]),animationTimingFunction:(0,r.cubicBezier)(.175,.885,.32,1)}};t.default=a},1775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a={from:{opacity:0,transform:i([.1,.1,.1],["-1000px",0,0]),animationTimingFunction:(0,r.cubicBezier)(.55,.055,.675,.19)},"60%":{opacity:1,transform:i([.475,.475,.475],["10px",0,0]),animationTimingFunction:(0,r.cubicBezier)(.175,.885,.32,1)}};t.default=a},4209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a={from:{opacity:0,transform:i([.1,.1,.1],["1000px",0,0]),animationTimingFunction:(0,r.cubicBezier)(.55,.055,.675,.19)},"60%":{opacity:1,transform:i([.475,.475,.475],["-10px",0,0]),animationTimingFunction:(0,r.cubicBezier)(.175,.885,.32,1)}};t.default=a},2315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a={from:{opacity:0,transform:i([.1,.1,.1],[0,"1000px",0]),animationTimingFunction:(0,r.cubicBezier)(.55,.055,.675,.19)},"60%":{opacity:1,transform:i([.475,.475,.475],[0,"-60px",0]),animationTimingFunction:(0,r.cubicBezier)(.175,.885,.32,1)}};t.default=a},9953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:0,transform:(0,n(643).scale3d)(.3,.3,.3)},"50%":{opacity:1}};t.default=r},1789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a={"40%":{opacity:1,transform:i([.475,.475,.475],[0,"-60px",0]),animationTimingFunction:(0,r.cubicBezier)(.55,.055,.675,.19)},to:{opacity:0,transform:i([.1,.1,.1],[0,"2000px",0]),transformOrigin:"center bottom",animationTimingFunction:(0,r.cubicBezier)(.175,.885,.32,1)}};t.default=a},695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a=(0,r.compose)(r.scale,r.translate3d),o={"40%":{opacity:1,transform:i([.475,.475,.475],["42px",0,0])},to:{opacity:0,transform:a(.1,["-2000px",0,0]),transformOrigin:"left center"}};t.default=o},5127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a=(0,r.compose)(r.scale,r.translate3d),o={"40%":{opacity:1,transform:i([.475,.475,.475],["-42px",0,0])},to:{opacity:0,transform:a(.1,["2000px",0,0]),transformOrigin:"right center"}};t.default=o},5251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=(0,r.compose)(r.scale3d,r.translate3d),a={"40%":{opacity:1,transform:i([.475,.475,.475],[0,"60px",0]),animationTimingFunction:(0,r.cubicBezier)(.55,.055,.675,.19)},to:{opacity:0,transform:i([.1,.1,.1],[0,"-2000px",0]),transformOrigin:"center bottom",animationTimingFunction:(0,r.cubicBezier)(.175,.885,.32,1)}};t.default=a},389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={from:{opacity:1},"50%":{opacity:0,transform:(0,n(643).scale3d)(.3,.3,.3)},to:{opacity:0}};t.default=r},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Ot=null,Nt=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),Nt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Ot&&Bt(Ot,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Nn),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Wn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Or=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Or.set(e,t),s(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Rr=Nr[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=On;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Oi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ai),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Wi=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){qi[Ki++]=Gi,qi[Ki++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Oa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Oi:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ps,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ps,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ps,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ps,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Oi:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Di(n)?Oi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Oa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Oa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Oa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Di(n)?Oi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Oa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Oa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Oa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ou(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Pi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var _s,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Os=null,Ns=0,Ds=0,Ps=Si(0),Rs=0,Ls=null,Ms=0,Fs=0,js=0,Us=null,Vs=null,Bs=0,zs=1/0,qs=null,Ks=!1,Ws=null,Gs=null,Hs=!1,Qs=null,$s=0,Ys=0,Js=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?Je():-1!==Xs?Xs:Xs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Je()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ns===t||(qs=null,zs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Os?t=0:(As=null,Ns=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Je()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ds=Ps.current,Ii(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Os=e=Pc(e.current,null),Ns=Ds=t,Rs=0,Ls=null,js=Fs=Ms=0,Vs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Rs=1,Ls=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Ns)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ns===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Os)throw Error(a(261));return As=null,Ns=0,Rs}function yc(){for(;null!==Os;)kc(Os)}function gc(){for(;null!==Os&&!$e();)kc(Os)}function kc(e){var t=_s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):Os=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ds)))return void(Os=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Rs=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Os=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Js?Ys++:(Ys=0,Js=e):Ys=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(130023424&Ns)===Ns&&500>Je()-Bs?hc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=Nc(19,n,t,i)).elementType=O,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Ou(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ou(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(zs=Je()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function O(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=O,_=function(){D.postMessage(null)}}else _=function(){y(O,0)};function P(e){I=e,S||(S=!0,_())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Calendar-app/";var r={};!function(){"use strict";n.d(r,{_:function(){return UA}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return an},SDK_VERSION:function(){return mr},_DEFAULT_ENTRY_NAME:function(){return rr},_addComponent:function(){return ur},_addOrOverwriteComponent:function(){return sr},_apps:function(){return ar},_clearComponents:function(){return hr},_components:function(){return or},_getProvider:function(){return lr},_registerComponent:function(){return cr},_removeServiceInstance:function(){return fr},deleteApp:function(){return br},getApp:function(){return gr},getApps:function(){return kr},initializeApp:function(){return yr},onLog:function(){return _r},registerVersion:function(){return xr},setLogLevel:function(){return Sr}});var t,i=n(2791),a=n(1250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=b(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,h({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=l-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(p,u),r.addEventListener("hashchange",(function(){k(a()[1])!==k(v)&&u()}));var s=t.Pop,c=a(),l=c[0],v=c[1],w=y(),x=y();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:k(e))}function S(e,t){return void 0===t&&(t=null),h(f({pathname:v.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:g()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function E(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],v=t[1],w.call({action:s,location:v})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(f({},i.state,{idx:l}),""));var A={get action(){return s},get location(){return v},createHref:_,push:function e(n,a){var o=t.Push,u=S(n,a);if(E(o,u,(function(){e(n,a)}))){var s=I(u,l+1),c=s[0],f=s[1];try{i.pushState(c,"",f)}catch(h){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(E(a,o,(function(){e(n,r)}))){var u=I(o,l),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,m),function(){t(),x.length||r.removeEventListener(d,m)}}};return A}function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function k(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,i.createContext)(null);var x=(0,i.createContext)(null);var _=(0,i.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=O(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||S(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&S(!1),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,C=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function O(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:L(R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function D(e,t,n){var r,i="string"===typeof e?b(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?b(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function j(){return null!=(0,i.useContext)(x)}function U(){return j()||S(!1),(0,i.useContext)(x).location}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(_.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){var t=e.to,n=e.replace,r=e.state;j()||S(!1);var a=function(){j()||S(!1);var e=(0,i.useContext)(w),t=e.basename,n=e.navigator,r=(0,i.useContext)(_).matches,a=U().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=D(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function z(e){S(!1)}function q(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;j()&&S(!1);var d=L(r),p=(0,i.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=b(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,_=v.hash,I=void 0===_?"":_,E=v.state,T=void 0===E?null:E,C=v.key,A=void 0===C?"default":C,O=(0,i.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:k,hash:I,state:T,key:A}}),[d,y,k,I,T,A]);return null==O?null:(0,i.createElement)(w.Provider,{value:p},(0,i.createElement)(x.Provider,{children:o,value:{location:O,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){j()||S(!1);var n,r=(0,i.useContext)(_).matches,a=r[r.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,U());if(t){var c,l="string"===typeof t?b(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||S(!1),n=l}else n=s;var f=n.pathname||"/",h=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return V(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,e.pathnameBase])})})),r)}(W(t),n)}function W(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==z&&S(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}var G="/login",H="/calendar";function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Q(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Y(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Y(a,r,i,o,u,"next",e)}function u(e){Y(a,r,i,o,u,"throw",e)}o(void 0)}))}}function X(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Z=n(7441),ee=n(9613),te=n.n(ee);var ne=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,_=0,S=0,I=0,E=0,D=0,R=v=d=0,M=0,F=0,j=0,U=0,V=s.length,B=V-1,z="",q="",K="",W="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==_+I+S+x&&(0!==_&&(p=47===_?10:47),I=S=x=0,V++,B++),0===_+I+S+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<B;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(U=(v=t(r,F,v,p,h+1)).length,0<P&&(b=u(3,v,F=n(N,z,j),r,C,T,U,p,h,c),z=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);K+=v,v=j=F=R=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<P&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+s.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=F=R=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<P*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+S+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<R)switch(M-R){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===D&&(A=D)}break;case 58:0===I+_+x&&(R=M);break;case 44:0===_+S+I+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+S&&x++;break;case 93:0===I+_+S&&x--;break;case 41:0===I+_+x&&S--;break;case 40:if(0===I+_+x){if(0===d)if(2*E+3*D===533);else d=1;S++}break;case 64:0===_+S+I+x+R+v&&(v=1);break;case 42:case 47:if(!(0<I+x+S))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(z+=m)}D=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<P&&(void 0!==(b=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=b).length))return W+q+K;if(q=F.join(",")+"{"+q+"}",0!==O*A){switch(2!==O||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return W+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===O||2===O&&a(s,1)?"-webkit-"+s+s:s}if(0===O||2===O&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?O=1:(O=2,R=e):O=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,O=1,N=[],D=[],P=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=D.length=0;break;default:if("function"===typeof t)D[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},re={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ie=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ae=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oe=ie((function(e){return ae.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ue=n(2110),se=n.n(ue);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var le=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},fe=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Z.typeOf)(e)},he=Object.freeze([]),de=Object.freeze({});function pe(e){return"function"==typeof e}function ve(e){return e.displayName||e.name||"Component"}function me(e){return e&&"string"==typeof e.styledComponentId}var ye="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ge="undefined"!=typeof window&&"HTMLElement"in window,ke=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var we=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&be(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),xe=new Map,_e=new Map,Se=1,Ie=function(e){if(xe.has(e))return xe.get(e);for(;_e.has(Se);)Se++;var t=Se++;return xe.set(e,t),_e.set(t,e),t},Ee=function(e){return _e.get(e)},Te=function(e,t){t>=Se&&(Se=t+1),xe.set(e,t),_e.set(t,e)},Ce="style["+ye+'][data-styled-version="5.3.5"]',Ae=new RegExp("^"+ye+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Oe=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ne=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Ae);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Te(c,s),Oe(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},De=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Pe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(ye))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(ye,"active"),r.setAttribute("data-styled-version","5.3.5");var o=De();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Re=function(){function e(e){var t=this.element=Pe(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}be(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Le=function(){function e(e){var t=this.element=Pe(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Me=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Fe=ge,je={isServer:!ge,useCSSOMInjection:!ke},Ue=function(){function e(e,t,n){void 0===e&&(e=de),void 0===t&&(t={}),this.options=ce({},je,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ge&&Fe&&(Fe=!1,function(e){for(var t=document.querySelectorAll(Ce),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ye)&&(Ne(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ie(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ce({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Me(i):r?new Re(i):new Le(i),new we(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ie(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ie(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ie(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Ee(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=ye+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ve=/(a)(d)/gi,Be=function(e){return String.fromCharCode(e+(e>25?39:97))};function ze(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Be(t%52)+n;return(Be(t%52)+n).replace(Ve,"$1-$2")}var qe=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ke=function(e){return qe(5381,e)};function We(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pe(n)&&!me(n))return!1}return!0}var Ge=Ke("5.3.5"),He=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&We(e),this.componentId=t,this.baseHash=qe(Ge,t),this.baseStyle=n,Ue.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ft(this.rules,e,t,n).join(""),o=ze(qe(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=qe(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=ft(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=qe(c,p+f),l+=p}}if(l){var v=ze(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Qe=/^\s*\/\/.*$/gm,$e=[":","[",".","#"];function Ye(e){var t,n,r,i,a=void 0===e?de:e,o=a.options,u=void 0===o?de:o,s=a.plugins,c=void 0===s?he:s,l=new ne(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==$e.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Qe,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||be(15),qe(e,t.name)}),5381).toString():"",p}var Je=i.createContext(),Xe=(Je.Consumer,i.createContext()),Ze=(Xe.Consumer,new Ue),et=Ye();function tt(){return(0,i.useContext)(Je)||Ze}function nt(){return(0,i.useContext)(Xe)||et}function rt(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=tt(),o=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return Ye({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){te()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(Je.Provider,{value:o},i.createElement(Xe.Provider,{value:u},e.children))}var it=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=et);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return be(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=et),this.name+e.hash},e}(),at=/([A-Z])/,ot=/([A-Z])/g,ut=/^ms-/,st=function(e){return"-"+e.toLowerCase()};function ct(e){return at.test(e)?e.replace(ot,st).replace(ut,"-ms-"):e}var lt=function(e){return null==e||!1===e||""===e};function ft(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=ft(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return lt(e)?"":me(e)?"."+e.styledComponentId:pe(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:ft(e(t),t,n,r):e instanceof it?n?(e.inject(n,r),e.getName(r)):e:fe(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!lt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||pe(t[o])?a.push(ct(o)+":",t[o],";"):fe(t[o])?a.push.apply(a,e(t[o],o)):a.push(ct(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in re?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var ht=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pe(e)||fe(e)?ht(ft(le(he,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ht(ft(le(e,n)))}new Set;var pt=function(e,t,n){return void 0===n&&(n=de),e.theme!==n.theme&&e.theme||t||n.theme},vt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mt=/(^-|-$)/g;function yt(e){return e.replace(vt,"-").replace(mt,"")}var gt=function(e){return ze(Ke(e)>>>0)};function kt(e){return"string"==typeof e&&!0}var bt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},wt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function xt(e,t,n){var r=e[n];bt(t)&&bt(r)?_t(r,t):e[n]=t}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(bt(o))for(var u in o)wt(u)&&xt(e,o[u],u)}return e}var St=i.createContext();St.Consumer;var It={};function Et(e,t,n){var r=me(e),a=!kt(e),o=t.attrs,u=void 0===o?he:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":yt(e);It[n]=(It[n]||0)+1;var r=n+"-"+gt("5.3.5"+n+It[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return kt(e)?"styled."+e:"Styled("+ve(e)+")"}(e):l,h=t.displayName&&t.componentId?yt(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new He(n,h,r?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=de);var r=ce({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in pe(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(pt(t,(0,i.useContext)(St),u)||de,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=tt(),a=nt();return t?e.generateAndInjectStyles(de,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=kt(y),k=p!==t?ce({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,oe,y):!g||oe(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=ce({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,i.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=i.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):he,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(kt(e)?e:yt(ve(e)));return Et(e,ce({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?_t({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&se()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Tt=function(e){return function e(t,n,r){if(void 0===r&&(r=de),!(0,Z.isValidElementType)(n))return be(1,String(n));var i=function(){return t(n,r,dt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ce({},r,{},i))},i.attrs=function(i){return e(t,n,ce({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Et,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Tt[e]=Tt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=We(e),Ue.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ft(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Ue.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function Ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=dt.apply(void 0,[e].concat(n)).join(""),a=gt(i);return new it(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=De();return"<style "+[n&&'nonce="'+n+'"',ye+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?be(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return be(2);var n=((t={})[ye]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=De();return r&&(n.nonce=r),[i.createElement("style",ce({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ue({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?be(2):i.createElement(rt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return be(3)}}();var At=Tt;function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function Ft(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function Ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e,t){if(t&&("object"===Q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}function Bt(e){var t=Ut();return function(){var n,r=jt(e);if(t){var i=jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vt(this,n)}}function zt(e,t,n){return zt=Ut()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Mt(i,n.prototype),i},zt.apply(null,arguments)}function qt(e){var t="function"===typeof Map?new Map:void 0;return qt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return zt(e,arguments,jt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mt(n,e)},qt(e)}var Kt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Wt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Kt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Gt=function(e){return function(e){var t=Kt(e);return Wt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ht=function(e){try{return Wt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Qt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Qt(e[n],t[n]));return e}var $t=function(){function e(){var t=this;Nt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Pt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Yt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gt(JSON.stringify({alg:"none",type:"JWT"})),Gt(JSON.stringify(a)),""].join(".")}function Jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Zt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function en(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function tn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nn(){var e=Jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rn(){return"object"===typeof indexedDB}var an=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Lt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Lt(a),on.prototype.create),a}return Pt(n)}(qt(Error)),on=function(){function e(t,n,r){Nt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Pt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?un(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new an(n,a,t);return o}}]),e}();function un(e,t){return e.replace(sn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var sn=/\{\$([^}]+)}/g;function cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ln(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(fn(u)&&fn(s)){if(!ln(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function fn(e){return null!==e&&"object"===typeof e}function hn(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function dn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function pn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vn(e,t){var n=new mn(e,t);return n.subscribe.bind(n)}var mn=function(){function e(t,n){var r=this;Nt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Pt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Rt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yn),void 0===r.error&&(r.error=yn),void 0===r.complete&&(r.complete=yn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function yn(){}function gn(e){return e&&e._delegate?e._delegate:e}function kn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bn(e){return function(e){if(Array.isArray(e))return u(e)}(e)||kn(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn=function(){function e(t,n,r){Nt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Pt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),xn="[DEFAULT]",_n=function(){function e(t,n){Nt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Pt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new $t;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xn})}catch(s){}var t,n=Rt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(bn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),bn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Rt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Rt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Eg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===xn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Eg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.component?this.component.multipleInstances?e:xn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Sn,In,En=function(){function e(t){Nt(this,e),this.name=t,this.providers=new Map}return Pt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new _n(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Tn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(In||(In={}));var Cn={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},An=In.INFO,On=(Ot(Sn={},In.DEBUG,"log"),Ot(Sn,In.VERBOSE,"log"),Ot(Sn,In.INFO,"info"),Ot(Sn,In.WARN,"warn"),Ot(Sn,In.ERROR,"error"),Sn),Nn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Dn=function(){function e(t){Nt(this,e),this.name=t,this._logLevel=An,this._logHandler=Nn,this._userLogHandler=null,Tn.push(this)}return Pt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in In))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Cn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.DEBUG].concat(t)),this._logHandler.apply(this,[this,In.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.VERBOSE].concat(t)),this._logHandler.apply(this,[this,In.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.INFO].concat(t)),this._logHandler.apply(this,[this,In.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.WARN].concat(t)),this._logHandler.apply(this,[this,In.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.ERROR].concat(t)),this._logHandler.apply(this,[this,In.ERROR].concat(t))}}]),e}();function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln,Mn;var Fn=new WeakMap,jn=new WeakMap,Un=new WeakMap,Vn=new WeakMap,Bn=new WeakMap;var zn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Un.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mn||(Mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gn(this),n),Wn(Fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wn(e.apply(Gn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Gn(this),t].concat(r));return Un.set(a,t.sort?t.sort():[t]),Wn(a)}}function Kn(e){return"function"===typeof e?qn(e):(e instanceof IDBTransaction&&function(e){if(!jn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));jn.set(e,t)}}(e),t=e,(Ln||(Ln=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,zn):e);var t}function Wn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Wn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Fn.set(t,e)})).catch((function(){})),Bn.set(t,e),t}(e);if(Vn.has(e))return Vn.get(e);var t=Kn(e);return t!==e&&(Vn.set(e,t),Bn.set(t,e)),t}var Gn=function(e){return Bn.get(e)};var Hn,Qn,$n=["get","getKey","getAll","getAllKeys","count"],Yn=["put","add","delete","clear"],Jn=new Map;function Xn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Jn.get(t))return Jn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Yn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||$n.includes(n))){var a=function(){var e=J($().mark((function e(t){var a,o,u,s,c,l,f=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Jn.set(t,a),a}}}zn=function(e){return Rn(Rn({},e),{},{get:function(t,n,r){return Xn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Xn(t,n)||e.has(t,n)}})}(zn);var Zn=function(){function e(t){Nt(this,e),this.container=t}return Pt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var er="@firebase/app",tr="0.7.27",nr=new Dn("@firebase/app"),rr="[DEFAULT]",ir=(Ot(Hn={},er,"fire-core"),Ot(Hn,"@firebase/app-compat","fire-core-compat"),Ot(Hn,"@firebase/analytics","fire-analytics"),Ot(Hn,"@firebase/analytics-compat","fire-analytics-compat"),Ot(Hn,"@firebase/app-check","fire-app-check"),Ot(Hn,"@firebase/app-check-compat","fire-app-check-compat"),Ot(Hn,"@firebase/auth","fire-auth"),Ot(Hn,"@firebase/auth-compat","fire-auth-compat"),Ot(Hn,"@firebase/database","fire-rtdb"),Ot(Hn,"@firebase/database-compat","fire-rtdb-compat"),Ot(Hn,"@firebase/functions","fire-fn"),Ot(Hn,"@firebase/functions-compat","fire-fn-compat"),Ot(Hn,"@firebase/installations","fire-iid"),Ot(Hn,"@firebase/installations-compat","fire-iid-compat"),Ot(Hn,"@firebase/messaging","fire-fcm"),Ot(Hn,"@firebase/messaging-compat","fire-fcm-compat"),Ot(Hn,"@firebase/performance","fire-perf"),Ot(Hn,"@firebase/performance-compat","fire-perf-compat"),Ot(Hn,"@firebase/remote-config","fire-rc"),Ot(Hn,"@firebase/remote-config-compat","fire-rc-compat"),Ot(Hn,"@firebase/storage","fire-gcs"),Ot(Hn,"@firebase/storage-compat","fire-gcs-compat"),Ot(Hn,"@firebase/firestore","fire-fst"),Ot(Hn,"@firebase/firestore-compat","fire-fst-compat"),Ot(Hn,"fire-js","fire-js"),Ot(Hn,"firebase","fire-js-all"),Hn),ar=new Map,or=new Map;function ur(e,t){try{e.container.addComponent(t)}catch(n){nr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function sr(e,t){e.container.addOrOverwriteComponent(t)}function cr(e){var t=e.name;if(or.has(t))return nr.debug("There were multiple attempts to register component ".concat(t,".")),!1;or.set(t,e);var n,r=Rt(ar.values());try{for(r.s();!(n=r.n()).done;){ur(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function lr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr;lr(e,t).clearInstance(n)}function hr(){or.clear()}var dr=(Ot(Qn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ot(Qn,"bad-app-name","Illegal App name: '{$appName}"),Ot(Qn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ot(Qn,"app-deleted","Firebase App named '{$appName}' already deleted"),Ot(Qn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ot(Qn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ot(Qn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Ot(Qn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Ot(Qn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Ot(Qn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Qn),pr=new on("app","Firebase",dr),vr=function(){function e(t,n,r){var i=this;Nt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",(function(){return i}),"PUBLIC"))}return Pt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}]),e}(),mr="9.8.4";function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:rr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pr.create("bad-app-name",{appName:String(i)});var a=ar.get(i);if(a){if(ln(e,a.options)&&ln(r,a.config))return a;throw pr.create("duplicate-app",{appName:i})}var o,u=new En(i),s=Rt(or.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new vr(e,r,u);return ar.set(i,l),l}function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr,t=ar.get(e);if(!t)throw pr.create("no-app",{appName:e});return t}function kr(){return Array.from(ar.values())}function br(e){return wr.apply(this,arguments)}function wr(){return(wr=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ar.has(n)){e.next=6;break}return ar.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xr(e,t,n){var r,i=null!==(r=ir[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nr.warn(u.join(" "))}cr(new wn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _r(e,t){if(null!==e&&"function"!==typeof e)throw pr.create("invalid-log-argument");!function(e,t){var n,r=Rt(Tn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Cn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:In[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Sr(e){var t;t=e,Tn.forEach((function(e){e.setLogLevel(t)}))}var Ir="firebase-heartbeat-store",Er=null;function Tr(){return Er||(Er=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Wn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Wn(u.result),e.oldVersion,e.newVersion,Wn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ir)}}).catch((function(e){throw pr.create("storage-open",{originalErrorMessage:e.message})}))),Er}function Cr(e){return Ar.apply(this,arguments)}function Ar(){return Ar=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tr();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ir).objectStore(Ir).get(Dr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),pr.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ar.apply(this,arguments)}function Or(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tr();case 3:return i=e.sent,a=i.transaction(Ir,"readwrite"),o=a.objectStore(Ir),e.next=8,o.put(n,Dr(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),pr.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Nr.apply(this,arguments)}function Dr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Pr=function(){function e(t){var n=this;Nt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Pt(e,[{key:"triggerHeartbeat",value:function(){var e=J($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=J($().mark((function e(){var t,n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rr(),n=Lr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Gt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rr(){return(new Date).toISOString().substring(0,10)}function Lr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Rt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ur(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ur(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Mr,Fr,jr=function(){function e(t){Nt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Pt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Cr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(bn(r.heartbeats),bn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ur(e){return Gt(JSON.stringify({version:2,heartbeats:e})).length}Mr="",cr(new wn("platform-logger",(function(e){return new Zn(e)}),"PRIVATE")),cr(new wn("heartbeat",(function(e){return new Pr(e)}),"PRIVATE")),xr(er,tr,Mr),xr(er,tr,"esm2017"),xr("fire-js","");var Vr=function(){function e(t,n){var r=this;Nt(this,e),this._delegate=t,this.firebase=n,ur(t,new wn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Pt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),br(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ur(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){sr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Br=(Ot(Fr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ot(Fr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fr),zr=new on("app-compat","Firebase",Br);var qr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=yr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(cn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:xr,setLogLevel:Sr,onLog:_r,apps:null,SDK_VERSION:mr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(cr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw zr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Qt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!cn(n,e=e||rr))throw zr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Vr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Qt(n,e)},createSubscribe:vn,ErrorFactory:on,deepExtend:Qt}),n}(),Kr=new Dn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Kr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Wr=self.firebase.SDK_VERSION;Wr&&Wr.indexOf("LITE")>=0&&Kr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gr=qr;!function(e){xr("@firebase/app-compat","0.1.28",e)}();Gr.registerVersion("firebase","9.8.4","app-compat");var Hr,Qr,$r=n.p+"static/media/Logo1.02914bc6c8586cd41324aed3999fb19e.svg",Yr=n(184),Jr=At.div(Hr||(Hr=X(["\nheight:100vh ;\nwidth:100vw ;\ndisplay:flex ;\nflex-direction:column ;\njustify-content:center ;\nalign-items: center;\nbackground:grey ;\nbox-sizing:border-box ;\n\n\nbutton{\n    border:3px solid rgba(7, 195, 255, 1);\n    border-radius:10px ;\n    background: transparent ;\n    color: rgba(7, 195, 255, 1);\n    min-height:40px ;\n    width:280px ;\n    \n    margin-left:2vw;\n    font-size:20px ;\n}\n"]))),Xr=At.img(Qr||(Qr=X(["\nmargin: 4vh;\nwidth:100% ;\n"]))),Zr=function(){var e=(0,i.useContext)(UA).auth,t=function(){var t=J($().mark((function t(){var n,r,i;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Gr.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,i=r.user,console.log(i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,Yr.jsxs)(Jr,{children:[(0,Yr.jsx)(Xr,{src:$r}),(0,Yr.jsx)("button",{onClick:t,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})]})};var ei=n.p+"static/media/leftArrow.49c8791c6ab0e4565ce6f0fea827408f.svg";var ti=n.p+"static/media/close.0b35c66498a9b3c25d4d474ef6ff047e.svg",ni=n.p+"static/media/IMFellFrenchCanonSC-Regular.2449dbb0ecdea307ae6e.ttf";n(4569);function ri(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jt(e)););return e}function ii(){return ii="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ri(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ii.apply(this,arguments)}var ai,oi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ui={},si=si||{},ci=oi||self;function li(){}function fi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var di="closure_uid_"+(1e9*Math.random()>>>0),pi=0;function vi(e,t,n){return e.call.apply(e.bind,arguments)}function mi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yi(e,t,n){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vi:mi).apply(null,arguments)}function gi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ki(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function bi(){this.s=this.s,this.o=this.o}var wi={};bi.prototype.s=!1,bi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,di)&&e[di]||(e[di]=++pi)}(this);delete wi[e]}},bi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_i=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Si(e){return Array.prototype.concat.apply([],arguments)}function Ii(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ei(e){return/^[\s\xa0]*$/.test(e)}var Ti,Ci=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ai(e,t){return-1!=e.indexOf(t)}function Oi(e,t){return e<t?-1:e>t?1:0}e:{var Ni=ci.navigator;if(Ni){var Di=Ni.userAgent;if(Di){Ti=Di;break e}}Ti=""}function Pi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ri(e){var t={};for(var n in e)t[n]=e[n];return t}var Li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Li.length;a++)n=Li[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fi(e){return Fi[" "](e),e}Fi[" "]=li;var ji,Ui=Ai(Ti,"Opera"),Vi=Ai(Ti,"Trident")||Ai(Ti,"MSIE"),Bi=Ai(Ti,"Edge"),zi=Bi||Vi,qi=Ai(Ti,"Gecko")&&!(Ai(Ti.toLowerCase(),"webkit")&&!Ai(Ti,"Edge"))&&!(Ai(Ti,"Trident")||Ai(Ti,"MSIE"))&&!Ai(Ti,"Edge"),Ki=Ai(Ti.toLowerCase(),"webkit")&&!Ai(Ti,"Edge");function Wi(){var e=ci.document;return e?e.documentMode:void 0}e:{var Gi="",Hi=function(){var e=Ti;return qi?/rv:([^\);]+)(\)|;)/.exec(e):Bi?/Edge\/([\d\.]+)/.exec(e):Vi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ki?/WebKit\/(\S+)/.exec(e):Ui?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hi&&(Gi=Hi?Hi[1]:""),Vi){var Qi=Wi();if(null!=Qi&&Qi>parseFloat(Gi)){ji=String(Qi);break e}}ji=Gi}var $i,Yi={};function Ji(){return function(e){var t=Yi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ci(String(ji)).split("."),n=Ci("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Oi(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Oi(0==a[2].length,0==o[2].length)||Oi(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ci.document&&Vi){var Xi=Wi();$i=Xi||(parseInt(ji,10)||void 0)}else $i=void 0;var Zi=$i,ea=function(){if(!ci.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ci.addEventListener("test",li,t),ci.removeEventListener("test",li,t)}catch(n){}return e}();function ta(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function na(e,t){if(ta.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qi){e:{try{Fi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ra[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&na.Z.h.call(this)}}ta.prototype.h=function(){this.defaultPrevented=!0},ki(na,ta);var ra={2:"touch",3:"pen",4:"mouse"};na.prototype.h=function(){na.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),aa=0;function oa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++aa,this.ca=this.fa=!1}function ua(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function sa(e){this.src=e,this.g={},this.h=0}function ca(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xi(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ua(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function la(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}sa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=la(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new oa(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var fa="closure_lm_"+(1e6*Math.random()|0),ha={};function da(e,t,n,r,i){if(r&&r.once)return va(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)da(e,t[a],n,r,i);return null}return n=xa(n),e&&e[ia]?e.N(t,n,hi(r)?!!r.capture:!!r,i):pa(e,t,n,!1,r,i)}function pa(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=hi(i)?!!i.capture:!!i,u=ba(e);if(u||(e[fa]=u=new sa(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ka;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ea||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ga(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function va(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)va(e,t[a],n,r,i);return null}return n=xa(n),e&&e[ia]?e.O(t,n,hi(r)?!!r.capture:!!r,i):pa(e,t,n,!0,r,i)}function ma(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ma(e,t[a],n,r,i);else r=hi(r)?!!r.capture:!!r,n=xa(n),e&&e[ia]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=la(a=e.g[t],n,r,i))&&(ua(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ba(e))&&(t=e.g[t.toString()],e=-1,t&&(e=la(t,n,r,i)),(n=-1<e?t[e]:null)&&ya(n))}function ya(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ia])ca(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ga(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ba(t))?(ca(n,e),0==n.h&&(n.src=null,t[fa]=null)):ua(e)}}}function ga(e){return e in ha?ha[e]:ha[e]="on"+e}function ka(e,t){if(e.ca)e=!0;else{t=new na(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ya(e),e=n.call(r,t)}return e}function ba(e){return(e=e[fa])instanceof sa?e:null}var wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(e){return"function"===typeof e?e:(e[wa]||(e[wa]=function(t){return e.handleEvent(t)}),e[wa])}function _a(){bi.call(this),this.i=new sa(this),this.P=this,this.I=null}function Sa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ta(t,e);else if(t instanceof ta)t.target=t.target||e;else{var i=t;Mi(t=new ta(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ia(o,r,!0,t)&&i}if(i=Ia(o=t.g=e,r,!0,t)&&i,i=Ia(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ia(o=t.g=n[a],r,!1,t)&&i}function Ia(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ca(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ki(_a,bi),_a.prototype[ia]=!0,_a.prototype.removeEventListener=function(e,t,n,r){ma(this,e,t,n,r)},_a.prototype.M=function(){if(_a.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ua(n[r]);delete t.g[e],t.h--}}this.I=null},_a.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_a.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ea=ci.JSON.stringify;function Ta(){var e=La,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ca,Aa=function(){function e(){Nt(this,e),this.h=this.g=null}return Pt(e,[{key:"add",value:function(e,t){var n=Oa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Oa=new(function(){function e(t,n){Nt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Pt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Na}),(function(e){return e.reset()})),Na=function(){function e(){Nt(this,e),this.next=this.g=this.h=null}return Pt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Da(e){ci.setTimeout((function(){throw e}),0)}function Pa(e,t){Ca||function(){var e=ci.Promise.resolve(void 0);Ca=function(){e.then(Ma)}}(),Ra||(Ca(),Ra=!0),La.add(e,t)}var Ra=!1,La=new Aa;function Ma(){for(var e;e=Ta();){try{e.h.call(e.g)}catch(n){Da(n)}var t=Oa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ra=!1}function Fa(e,t){_a.call(this),this.h=e||1,this.g=t||ci,this.j=yi(this.kb,this),this.l=Date.now()}function ja(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ua(e,t,n){if("function"===typeof e)n&&(e=yi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yi(e.handleEvent,e)}return 2147483647<Number(t)?-1:ci.setTimeout(e,t||0)}function Va(e){e.g=Ua((function(){e.g=null,e.i&&(e.i=!1,Va(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ki(Fa,_a),(ai=Fa.prototype).da=!1,ai.S=null,ai.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Sa(this,"tick"),this.da&&(ja(this),this.start()))}},ai.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ai.M=function(){Fa.Z.M.call(this),ja(this),delete this.g};var Ba=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Pt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Va(this)}},{key:"M",value:function(){ii(jt(n.prototype),"M",this).call(this),this.g&&(ci.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(bi);function za(e){bi.call(this),this.h=e,this.g={}}ki(za,bi);var qa=[];function Ka(e,t,n,r){Array.isArray(n)||(n&&(qa[0]=n.toString()),n=qa);for(var i=0;i<n.length;i++){var a=da(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Wa(e){Pi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ya(e)}),e),e.g={}}function Ga(){this.g=!0}function Ha(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ea(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}za.prototype.M=function(){za.Z.M.call(this),Wa(this)},za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ga.prototype.Aa=function(){this.g=!1},Ga.prototype.info=function(){};var Qa={},$a=null;function Ya(){return $a=$a||new _a}function Ja(e){ta.call(this,Qa.Ma,e)}function Xa(e){var t=Ya();Sa(t,new Ja(t,e))}function Za(e,t){ta.call(this,Qa.STAT_EVENT,e),this.stat=t}function eo(e){var t=Ya();Sa(t,new Za(t,e))}function to(e,t){ta.call(this,Qa.Na,e),this.size=t}function no(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ci.setTimeout((function(){e()}),t)}Qa.Ma="serverreachability",ki(Ja,ta),Qa.STAT_EVENT="statevent",ki(Za,ta),Qa.Na="timingevent",ki(to,ta);var ro={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},io={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ao(){}function oo(e){return e.h||(e.h=e.i())}function uo(){}ao.prototype.h=null;var so,co={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lo(){ta.call(this,"d")}function fo(){ta.call(this,"c")}function ho(){}function po(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new za(this),this.P=mo,e=zi?125:void 0,this.W=new Fa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vo}function vo(){this.i=null,this.g="",this.h=!1}ki(lo,ta),ki(fo,ta),ki(ho,ao),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},so=new ho;var mo=45e3,yo={},go={};function ko(e,t,n){e.K=1,e.v=zo(Mo(t)),e.s=n,e.U=!0,bo(e,null)}function bo(e,t){e.F=Date.now(),So(e),e.A=Mo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),tu(n.h,"t",r),e.C=0,n=e.l.H,e.h=new vo,e.g=rs(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ba(yi(e.Ia,e,e.g),e.O)),Ka(e.V,e.g,"readystatechange",e.gb),t=e.H?Ri(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xa(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function wo(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xo(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_o(e,n))==go){4==t&&(e.o=4,eo(14),i=!1),Ha(e.j,e.m,null,"[Incomplete Response]");break}if(r==yo){e.o=4,eo(15),Ha(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ha(e.j,e.m,r,null),Ao(e,r)}wo(e)&&r!=go&&r!=yo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,eo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$u(t),t.L=!0,eo(11))):(Ha(e.j,e.m,n,"[Invalid Chunked Response]"),Co(e),To(e))}function _o(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?go:(n=Number(t.substring(n,r)),isNaN(n)?yo:(r+=1)+n>t.length?go:(t=t.substr(r,n),e.C=r+n,t))}function So(e){e.Y=Date.now()+e.P,Io(e,e.P)}function Io(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=no(yi(e.eb,e),t)}function Eo(e){e.B&&(ci.clearTimeout(e.B),e.B=null)}function To(e){0==e.l.G||e.I||Xu(e.l,e)}function Co(e){Eo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ja(e.W),Wa(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ao(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cu(n.i,e)))if(n.I=e.N,!e.J&&cu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ju(n),Vu(n)}Qu(n),eo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=no(yi(n.ab,n),6e3));if(1>=su(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else es(n,11)}else if((e.J||n.g==e)&&Ju(n),!Ei(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ai(l,"spdy")||Ai(l,"quic")||Ai(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(lu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Bo(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ns(r,r.H?r.la:null,r.W),d.J){fu(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Eo(p),So(p)),r.g=d}else Hu(r);0<n.l.length&&qu(n)}else"stop"!=a[0]&&"close"!=a[0]||es(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?es(n,7):Uu(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Xa(4)}catch(a){}}function Oo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fi(e)||"string"===typeof e)_i(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(fi(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(fi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function No(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof No)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Do(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Po(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Po(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ai=po.prototype).setTimeout=function(e){this.P=e},ai.gb=function(e){e=e.target;var t=this.L;t&&3==Ru(e)?t.l():this.Ia(e)},ai.Ia=function(e){try{if(e==this.g)e:{var t=Ru(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||zi||this.g&&(this.h.h||this.g.ga()||Lu(this.g)))){this.I||4!=t||7==n||Xa(8==n||0>=r?3:2),Eo(this);var i=this.g.ba();this.N=i;t:if(wo(this)){var a=Lu(this.g);e="";var o=a.length,u=4==Ru(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Co(this),To(this);var s="";break t}this.h.i=new ci.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ei(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,eo(12),Co(this),To(this);break e}Ha(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ao(this,i)}this.U?(xo(this,t,s),zi&&this.i&&3==t&&(Ka(this.V,this.W,"tick",this.fb),this.W.start())):(Ha(this.j,this.m,s,null),Ao(this,s)),4==t&&Co(this),this.i&&!this.I&&(4==t?Xu(this.l,this):(this.i=!1,So(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,eo(12)):(this.o=0,eo(13)),Co(this),To(this)}}}catch(t){}},ai.fb=function(){if(this.g){var e=Ru(this.g),t=this.g.ga();this.C<t.length&&(Eo(this),xo(this,e,t),this.i&&4!=e&&So(this))}},ai.cancel=function(){this.I=!0,Co(this)},ai.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xa(3),eo(17)),Co(this),this.o=2,To(this)):Io(this,this.Y-e)},(ai=No.prototype).R=function(){Do(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ai.T=function(){return Do(this),this.g.concat()},ai.get=function(e,t){return Po(this.h,e)?this.h[e]:t},ai.set=function(e,t){Po(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ai.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ro=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lo){this.g=void 0!==t?t:e.g,Fo(this,e.j),this.s=e.s,jo(this,e.i),Uo(this,e.m),this.l=e.l,t=e.h;var n=new Jo;n.i=t.i,t.g&&(n.g=new No(t.g),n.h=t.h),Vo(this,n),this.o=e.o}else e&&(n=String(e).match(Ro))?(this.g=!!t,Fo(this,n[1]||"",!0),this.s=qo(n[2]||""),jo(this,n[3]||"",!0),Uo(this,n[4]),this.l=qo(n[5]||"",!0),Vo(this,n[6]||"",!0),this.o=qo(n[7]||"")):(this.g=!!t,this.h=new Jo(null,this.g))}function Mo(e){return new Lo(e)}function Fo(e,t,n){e.j=n?qo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jo(e,t,n){e.i=n?qo(t,!0):t}function Uo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vo(e,t,n){t instanceof Jo?(e.h=t,function(e,t){t&&!e.j&&(Xo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zo(this,t),tu(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ko(t,$o)),e.h=new Jo(t,e.g))}function Bo(e,t,n){e.h.set(t,n)}function zo(e){return Bo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ko(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ko(t,Go,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ko(t,Go,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ko(n,"/"==n.charAt(0)?Qo:Ho,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ko(n,Yo)),e.join("")};var Go=/[#\/\?@]/g,Ho=/[#\?:]/g,Qo=/[#\?]/g,$o=/[#\?@]/g,Yo=/#/g;function Jo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xo(e){e.g||(e.g=new No,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zo(e,t){Xo(e),t=nu(e,t),Po(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Po((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Do(e)))}function eu(e,t){return Xo(e),t=nu(e,t),Po(e.g.h,t)}function tu(e,t,n){Zo(e,t),0<n.length&&(e.i=null,e.g.set(nu(e,t),Ii(n)),e.h+=n.length)}function nu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ai=Jo.prototype).add=function(e,t){Xo(this),this.i=null,e=nu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ai.forEach=function(e,t){Xo(this),this.g.forEach((function(n,r){_i(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ai.T=function(){Xo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ai.R=function(e){Xo(this);var t=[];if("string"===typeof e)eu(this,e)&&(t=Si(t,this.g.get(nu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Si(t,e[n])}return t},ai.set=function(e,t){return Xo(this),this.i=null,eu(this,e=nu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ai.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ai.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ru=Pt((function e(t,n){Nt(this,e),this.h=t,this.g=n}));function iu(e){this.l=e||ou,ci.PerformanceNavigationTiming?e=0<(e=ci.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ci.g&&ci.g.Ea&&ci.g.Ea()&&ci.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var au,ou=10;function uu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function su(e){return e.h?1:e.g?e.g.size:0}function cu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lu(e,t){e.g?e.g.add(t):e.h=t}function fu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Rt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ii(e.i)}function du(){}function pu(){this.g=new du}function vu(e,t,n){var r=n||"";try{Oo(e,(function(e,n){var i=e;hi(e)&&(i=Ea(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yu(e){this.l=e.$b||null,this.j=e.ib||!1}function gu(e,t){_a.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ku,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iu.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Rt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},du.prototype.stringify=function(e){return ci.JSON.stringify(e,void 0)},du.prototype.parse=function(e){return ci.JSON.parse(e,void 0)},ki(yu,ao),yu.prototype.g=function(){return new gu(this.l,this.j)},yu.prototype.i=(au={},function(){return au}),ki(gu,_a);var ku=0;function bu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xu(e)}function xu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ai=gu.prototype).open=function(e,t){if(this.readyState!=ku)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xu(this)},ai.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ci).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ai.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wu(this)),this.readyState=ku},ai.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ci.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ai.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wu(this):xu(this),3==this.readyState&&bu(this)}},ai.Ua=function(e){this.g&&(this.response=this.responseText=e,wu(this))},ai.Ta=function(e){this.g&&(this.response=e,wu(this))},ai.ha=function(){this.g&&wu(this)},ai.setRequestHeader=function(e,t){this.v.append(e,t)},ai.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ai.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _u=ci.JSON.parse;function Su(e){_a.call(this),this.headers=new No,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Iu,this.K=this.L=!1}ki(Su,_a);var Iu="",Eu=/^https?$/i,Tu=["POST","PUT"];function Cu(e){return"content-type"==e.toLowerCase()}function Au(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ou(e),Du(e)}function Ou(e){e.D||(e.D=!0,Sa(e,"complete"),Sa(e,"error"))}function Nu(e){if(e.h&&"undefined"!=typeof si&&(!e.C[1]||4!=Ru(e)||2!=e.ba()))if(e.v&&4==Ru(e))Ua(e.Fa,0,e);else if(Sa(e,"readystatechange"),4==Ru(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ro)[1]||null;if(!a&&ci.self&&ci.self.location){var o=ci.self.location.protocol;a=o.substr(0,o.length-1)}i=!Eu.test(a?a.toLowerCase():"")}t=i}if(t)Sa(e,"complete"),Sa(e,"success");else{e.m=6;try{var u=2<Ru(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ou(e)}}finally{Du(e)}}}function Du(e,t){if(e.g){Pu(e);var n=e.g,r=e.C[0]?li:null;e.g=null,e.C=null,t||Sa(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ci.clearTimeout(e.A),e.A=null)}function Ru(e){return e.g?e.g.readyState:0}function Lu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Iu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(pe){return null}}function Mu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Pi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bo(e,t,n))}function Fu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ju(e){this.za=0,this.l=[],this.h=new Ga,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fu("baseRetryDelayMs",5e3,e),this.$a=Fu("retryDelaySeedMs",1e4,e),this.Ya=Fu("forwardChannelMaxRetries",2,e),this.ra=Fu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new iu(e&&e.concurrentRequestLimit),this.Ca=new pu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Uu(e){if(Bu(e),3==e.G){var t=e.V++,n=Mo(e.F);Bo(n,"SID",e.J),Bo(n,"RID",t),Bo(n,"TYPE","terminate"),Wu(e,n),(t=new po(e,e.h,t,void 0)).K=2,t.v=zo(Mo(n)),n=!1,ci.navigator&&ci.navigator.sendBeacon&&(n=ci.navigator.sendBeacon(t.v.toString(),"")),!n&&ci.Image&&((new Image).src=t.v,n=!0),n||(t.g=rs(t.l,null),t.g.ea(t.v)),t.F=Date.now(),So(t)}ts(e)}function Vu(e){e.g&&($u(e),e.g.cancel(),e.g=null)}function Bu(e){Vu(e),e.u&&(ci.clearTimeout(e.u),e.u=null),Ju(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ci.clearTimeout(e.m),e.m=null)}function zu(e,t){e.l.push(new ru(e.Za++,t)),3==e.G&&qu(e)}function qu(e){uu(e.i)||e.m||(e.m=!0,Pa(e.Ha,e),e.C=0)}function Ku(e,t){var n;n=t?t.m:e.V++;var r=Mo(e.F);Bo(r,"SID",e.J),Bo(r,"RID",n),Bo(r,"AID",e.U),Wu(e,r),e.o&&e.s&&Mu(r,e.o,e.s),n=new po(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),lu(e.i,n),ko(n,r,t)}function Wu(e,t){e.j&&Oo({},(function(e,n){Bo(t,n,e)}))}function Gu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?yi(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{vu(l,o,"req"+c+"_")}catch(Ce){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hu(e){e.g||e.u||(e.Y=1,Pa(e.Ga,e),e.A=0)}function Qu(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=no(yi(e.Ga,e),Zu(e,e.A)),e.A++,!0)}function $u(e){null!=e.B&&(ci.clearTimeout(e.B),e.B=null)}function Yu(e){e.g=new po(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mo(e.oa);Bo(t,"RID","rpc"),Bo(t,"SID",e.J),Bo(t,"CI",e.N?"0":"1"),Bo(t,"AID",e.U),Wu(e,t),Bo(t,"TYPE","xmlhttp"),e.o&&e.s&&Mu(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=zo(Mo(t)),n.s=null,n.U=!0,bo(n,e)}function Ju(e){null!=e.v&&(ci.clearTimeout(e.v),e.v=null)}function Xu(e,t){var n=null;if(e.g==t){Ju(e),$u(e),e.g=null;var r=2}else{if(!cu(e.i,t))return;n=t.D,fu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Sa(r=Ya(),new to(r,n,t,i)),qu(e)}else Hu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(su(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=no(yi(e.Ha,e,t),Zu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:es(e,5);break;case 4:es(e,10);break;case 3:es(e,6);break;default:es(e,2)}}function Zu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function es(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=yi(e.jb,e);n||(n=new Lo("//www.google.com/images/cleardot.gif"),ci.location&&"http"==ci.location.protocol||Fo(n,"https"),zo(n)),function(e,t){var n=new Ga;if(ci.Image){var r=new Image;r.onload=gi(mu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gi(mu,n,r,"TestLoadImage: error",!1,t),r.onabort=gi(mu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gi(mu,n,r,"TestLoadImage: timeout",!1,t),ci.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else eo(2);e.G=0,e.j&&e.j.va(t),ts(e),Bu(e)}function ts(e){e.G=0,e.I=-1,e.j&&(0==hu(e.i).length&&0==e.l.length||(e.i.i.length=0,Ii(e.l),e.l.length=0),e.j.ua())}function ns(e,t,n){var r=function(e){return e instanceof Lo?Mo(e):new Lo(e,void 0)}(n);if(""!=r.i)t&&jo(r,t+"."+r.i),Uo(r,r.m);else{var i=ci.location;r=function(e,t,n,r){var i=new Lo(null,void 0);return e&&Fo(i,e),t&&jo(i,t),n&&Uo(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Pi(e.aa,(function(e,t){Bo(r,t,e)})),t=e.D,n=e.sa,t&&n&&Bo(r,t,n),Bo(r,"VER",e.ma),Wu(e,r),r}function rs(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Su(new yu({ib:!0})):new Su(e.qa)).L=e.H,t}function is(){}function as(){if(Vi&&!(10<=Number(Zi)))throw Error("Environmental error: no available transport.")}function os(e,t){_a.call(this),this.g=new ju(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ei(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ei(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cs(this)}function us(e){lo.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ss(){fo.call(this),this.status=1}function cs(e){this.g=e}(ai=Su.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():so.g(),this.C=this.u?oo(this.u):oo(so),this.g.onreadystatechange=yi(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Au(this,a)}e=n||"";var i=new No(this.headers);r&&Oo(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Cu,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ci.FormData&&e instanceof ci.FormData,!(0<=xi(Tu,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pu(this),0<this.B&&((this.K=function(e){return Vi&&Ji()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.pa,this)):this.A=Ua(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Au(this,a)}},ai.pa=function(){"undefined"!=typeof si&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sa(this,"timeout"),this.abort(8))},ai.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sa(this,"complete"),Sa(this,"abort"),Du(this))},ai.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Du(this,!0)),Su.Z.M.call(this)},ai.Fa=function(){this.s||(this.F||this.v||this.l?Nu(this):this.cb())},ai.cb=function(){Nu(this)},ai.ba=function(){try{return 2<Ru(this)?this.g.status:-1}catch(au){return-1}},ai.ga=function(){try{return this.g?this.g.responseText:""}catch(au){return""}},ai.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_u(t)}},ai.Da=function(){return this.m},ai.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ai=ju.prototype).ma=8,ai.G=1,ai.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(pe){}},ai.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new po(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Mi(n=Ri(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Gu(this,t,r),Bo(i=Mo(this.F),"RID",e),Bo(i,"CVER",22),this.D&&Bo(i,"X-HTTP-Session-Id",this.D),Wu(this,i),this.o&&n&&Mu(i,this.o,n),lu(this.i,t),this.Ra&&Bo(i,"TYPE","init"),this.ja?(Bo(i,"$req",r),Bo(i,"SID","null"),t.$=!0,ko(t,i,null)):ko(t,i,r),this.G=2}}else 3==this.G&&(e?Ku(this,e):0==this.l.length||uu(this.i)||Ku(this))},ai.Ga=function(){if(this.u=null,Yu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=no(yi(this.bb,this),e)}},ai.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,eo(10),Vu(this),Yu(this))},ai.ab=function(){null!=this.v&&(this.v=null,Vu(this),Qu(this),eo(19))},ai.jb=function(e){e?(this.h.info("Successfully pinged google.com"),eo(2)):(this.h.info("Failed to ping google.com"),eo(1))},(ai=is.prototype).xa=function(){},ai.wa=function(){},ai.va=function(){},ai.ua=function(){},ai.Oa=function(){},as.prototype.g=function(e,t){return new os(e,t)},ki(os,_a),os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pa(yi(e.hb,e,t))),eo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ns(e,null,e.W),qu(e)},os.prototype.close=function(){Uu(this.g)},os.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,zu(this.g,t)}else this.v?((t={}).__data__=Ea(e),zu(this.g,t)):zu(this.g,e)},os.prototype.M=function(){this.g.j=null,delete this.j,Uu(this.g),delete this.g,os.Z.M.call(this)},ki(us,lo),ki(ss,fo),ki(cs,is),cs.prototype.xa=function(){Sa(this.g,"a")},cs.prototype.wa=function(e){Sa(this.g,new us(e))},cs.prototype.va=function(e){Sa(this.g,new ss(e))},cs.prototype.ua=function(){Sa(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,ro.NO_ERROR=0,ro.TIMEOUT=8,ro.HTTP_ERROR=6,io.COMPLETE="complete",uo.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",_a.prototype.listen=_a.prototype.N,Su.prototype.listenOnce=Su.prototype.O,Su.prototype.getLastError=Su.prototype.La,Su.prototype.getLastErrorCode=Su.prototype.Da,Su.prototype.getStatus=Su.prototype.ba,Su.prototype.getResponseJson=Su.prototype.Qa,Su.prototype.getResponseText=Su.prototype.ga,Su.prototype.send=Su.prototype.ea;var ls=ui.createWebChannelTransport=function(){return new as},fs=ui.getStatEventTarget=function(){return Ya()},hs=ui.ErrorCode=ro,ds=ui.EventType=io,ps=ui.Event=Qa,vs=ui.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ms=ui.FetchXmlHttpFactory=yu,ys=ui.WebChannel=uo,gs=ui.XhrIo=Su,ks="@firebase/firestore",bs=function(){function e(t){Nt(this,e),this.uid=t}return Pt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");var ws="9.8.4",xs=new Dn("@firebase/firestore");function _s(){return xs.logLevel}function Ss(e){if(xs.logLevel<=In.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ts);xs.debug.apply(xs,["Firestore (".concat(ws,"): ").concat(e)].concat(bn(i)))}}function Is(e){if(xs.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ts);xs.error.apply(xs,["Firestore (".concat(ws,"): ").concat(e)].concat(bn(i)))}}function Es(e){if(xs.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ts);xs.warn.apply(xs,["Firestore (".concat(ws,"): ").concat(e)].concat(bn(i)))}}function Ts(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ws,") INTERNAL ASSERTION FAILED: ")+e;throw Is(t),new Error(t)}function As(e,t){e||Cs()}function Os(e,t){return e}var Ns={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ds=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Pt(n)}(an),Ps=Pt((function e(){var t=this;Nt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Rs=Pt((function e(t,n){Nt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ls=function(){function e(){Nt(this,e)}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(bs.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ms=function(){function e(t){Nt(this,e),this.token=t,this.changeListener=null}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Fs=function(){function e(t){Nt(this,e),this.t=t,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Pt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ps;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ps,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ss("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ss("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ss("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(As("string"==typeof n.accessToken),new Rs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return As(null===e||"string"==typeof e),new bs(e)}}]),e}(),js=Pt((function e(t,n,r){Nt(this,e),this.type="FirstParty",this.user=bs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Us=function(){function e(t,n,r){Nt(this,e),this.h=t,this.l=n,this.m=r}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(new js(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(bs.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vs=Pt((function e(t){Nt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Bs=function(){function e(t){Nt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Pt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ss("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ss("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ss("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ss("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(As("string"==typeof t.token),e.p=t.token,new Vs(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function zs(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qs=function(){function e(){Nt(this,e)}return Pt(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=zs(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ks(e,t){return e<t?-1:e>t?1:0}function Ws(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Gs(e){return e+"\0"}var Hs=function(){function e(t,n){if(Nt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ds(Ns.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ds(Ns.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ds(Ns.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ds(Ns.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Pt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ks(this.nanoseconds,e.nanoseconds):Ks(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qs=function(){function e(t){Nt(this,e),this.timestamp=t}return Pt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hs(0,0))}},{key:"max",value:function(){return new e(new Hs(253402300799,999999999))}}]),e}(),$s=function(){function e(t,n,r){Nt(this,e),void 0===n?n=0:n>t.length&&Cs(),void 0===r?r=t.length-n:r>t.length-n&&Cs(),this.segments=t,this.offset=n,this.len=r}return Pt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ys=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,bn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($s),Js=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xs=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Js.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ds(Ns.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ds(Ns.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ds(Ns.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($s),Zs=function(){function e(t){Nt(this,e),this.path=t}return Pt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ys.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ys.fromString(t))}},{key:"fromName",value:function(t){return new e(Ys.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ys.emptyPath())}},{key:"comparator",value:function(e,t){return Ys.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ys(t.slice()))}}]),e}(),ec=Pt((function e(t,n,r,i){Nt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function tc(e){return e.fields.find((function(e){return 2===e.kind}))}function nc(e){return e.fields.filter((function(e){return 2!==e.kind}))}ec.UNKNOWN_ID=-1;var rc=Pt((function e(t,n){Nt(this,e),this.fieldPath=t,this.kind=n})),ic=function(){function e(t,n){Nt(this,e),this.sequenceNumber=t,this.offset=n}return Pt(e,null,[{key:"empty",value:function(){return new e(0,uc.min())}}]),e}();function ac(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qs.fromTimestamp(1e9===r?new Hs(n+1,0):new Hs(n,r));return new uc(i,Zs.empty(),t)}function oc(e){return new uc(e.readTime,e.key,-1)}var uc=function(){function e(t,n,r){Nt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Pt(e,null,[{key:"min",value:function(){return new e(Qs.min(),Zs.empty(),-1)}},{key:"max",value:function(){return new e(Qs.max(),Zs.empty(),-1)}}]),e}();function sc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Zs.comparator(e.documentKey,t.documentKey))?n:Ks(e.largestBatchId,t.largestBatchId)}var cc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lc=function(){function e(){Nt(this,e),this.onCommittedListeners=[]}return Pt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function fc(e){return hc.apply(this,arguments)}function hc(){return hc=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ns.FAILED_PRECONDITION&&t.message===cc){e.next=2;break}throw t;case 2:Ss("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}var dc=function(){function e(t){var n=this;Nt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Pt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Cs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Rt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),pc=function(){function e(t,n){var r=this;Nt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Ps,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new yc(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=xc(e.target.error);r.T.reject(new yc(t,n))}}return Pt(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Ss("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new yc(n,t)}}}]),e}(),vc=function(){function e(t,n,r){Nt(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Jt())&&Is("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Pt(e,[{key:"k",value:function(){var e=J($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ss("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ds(Ns.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ds(Ns.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new yc(t,n))},i.onupgradeneeded=function(e){Ss("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Ss("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=J($().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield($().mark((function e(){var n,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=pc.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),dc.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Ss("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ss("SimpleDb","Removing database:",e),bc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!rn())return!1;if(e.S())return!0;var t=Jt(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Calendar-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mc=function(){function e(t){Nt(this,e),this.$=t,this.B=!1,this.L=null}return Pt(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return bc(this.$.delete())}}]),e}(),yc=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,Ns.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Pt(n)}(Ds);function gc(e){return"IndexedDbTransactionError"===e.name}var kc=function(){function e(t){Nt(this,e),this.store=t}return Pt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ss("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ss("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),bc(n)}},{key:"add",value:function(e){return Ss("SimpleDb","ADD",this.store.name,e,e),bc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return bc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ss("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ss("SimpleDb","DELETE",this.store.name,e),bc(this.store.delete(e))}},{key:"count",value:function(){return Ss("SimpleDb","COUNT",this.store.name),bc(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new dc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new dc((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Ss("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new dc((function(n,r){t.onerror=function(e){var t=xc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new dc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mc(i),o=t(i.primaryKey,i.value,a);if(o instanceof dc){var u=o.catch((function(e){return a.done(),dc.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return dc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function bc(e){return new dc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xc(e.target.error);n(t)}}))}var wc=!1;function xc(e){var t=vc.v(Jt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ds("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wc||(wc=!0,setTimeout((function(){throw r}),0)),r}}return e}var _c=function(){function e(t,n){Nt(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Pt(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Ss("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ss,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!gc(e.t4)){e.next=17;break}Ss("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,fc(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Sc=function(){function e(t,n){Nt(this,e),this.localStore=t,this.persistence=n}return Pt(e,[{key:"tt",value:function(){var e=J($().mark((function e(){var t,n=this,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return dc.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ss("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Ss("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=oc(t);sc(r,n)>0&&(n=r)})),new uc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ic=function(){function e(t,n){var r=this;Nt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Pt(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ec(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Ic.ot=-1;var Ac=function(){function e(t,n){Nt(this,e),this.comparator=t,this.root=n||Nc.EMPTY}return Pt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Oc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Oc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Oc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Oc(this.root,e,this.comparator,!0)}}]),e}(),Oc=function(){function e(t,n,r,i){Nt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Pt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Nc=function(){function e(t,n,r,i,a){Nt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Pt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Cs();if(this.right.isRed())throw Cs();var e=this.left.check();if(e!==this.right.check())throw Cs();return e+(this.isRed()?0:1)}}]),e}();Nc.EMPTY=null,Nc.RED=!0,Nc.BLACK=!1,Nc.EMPTY=new(function(){function e(){Nt(this,e),this.size=0}return Pt(e,[{key:"key",get:function(){throw Cs()}},{key:"value",get:function(){throw Cs()}},{key:"color",get:function(){throw Cs()}},{key:"left",get:function(){throw Cs()}},{key:"right",get:function(){throw Cs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Nc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Dc=function(){function e(t){Nt(this,e),this.comparator=t,this.data=new Ac(this.comparator)}return Pt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Pc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Pc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Pc=function(){function e(t){Nt(this,e),this.iter=t}return Pt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Rc(e){return e.hasNext()?e.getNext():void 0}var Lc=function(){function e(t){Nt(this,e),this.fields=t,t.sort(Xs.comparator)}return Pt(e,[{key:"unionWith",value:function(t){var n,r=new Dc(Xs.comparator),i=Rt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Rt(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Rt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ws(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Mc=function(e){function t(e){Nt(this,t),this.binaryString=e}return Pt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ks(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mc.EMPTY_BYTE_STRING=new Mc("");var Fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(e){if(As(!!e),"string"==typeof e){var t=0,n=Fc.exec(e);if(As(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Uc(e.seconds),nanos:Uc(e.nanos)}}function Uc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vc(e){return"string"==typeof e?Mc.fromBase64String(e):Mc.fromUint8Array(e)}function Bc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zc(e){var t=e.mapValue.fields.__previous_value__;return Bc(t)?zc(t):t}function qc(e){var t=jc(e.mapValue.fields.__local_write_time__.timestampValue);return new Hs(t.seconds,t.nanos)}var Kc=Pt((function e(t,n,r,i,a,o,u,s){Nt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Wc=function(){function e(t,n){Nt(this,e),this.projectId=t,this.database=n||"(default)"}return Pt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Gc(e){return null==e}function Hc(e){return 0===e&&1/e==-1/0}function Qc(e){return"number"==typeof e&&Number.isInteger(e)&&!Hc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yc={nullValue:"NULL_VALUE"};function Jc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bc(e)?4:fl(e)?9007199254740991:10:Cs()}function Xc(e,t){if(e===t)return!0;var n=Jc(e);if(n!==Jc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qc(e).isEqual(qc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jc(e.timestampValue),r=jc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vc(e.bytesValue).isEqual(Vc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uc(e.geoPointValue.latitude)===Uc(t.geoPointValue.latitude)&&Uc(e.geoPointValue.longitude)===Uc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uc(e.integerValue)===Uc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Uc(e.doubleValue),r=Uc(t.doubleValue);return n===r?Hc(n)===Hc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ws(e.arrayValue.values||[],t.arrayValue.values||[],Xc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ec(n)!==Ec(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xc(n[i],r[i])))return!1;return!0}(e,t);default:return Cs()}}function Zc(e,t){return void 0!==(e.values||[]).find((function(e){return Xc(e,t)}))}function el(e,t){if(e===t)return 0;var n=Jc(e),r=Jc(t);if(n!==r)return Ks(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ks(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Uc(e.integerValue||e.doubleValue),r=Uc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tl(e.timestampValue,t.timestampValue);case 4:return tl(qc(e),qc(t));case 5:return Ks(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vc(e),r=Vc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ks(n[i],r[i]);if(0!==a)return a}return Ks(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ks(Uc(e.latitude),Uc(t.latitude));return 0!==n?n:Ks(Uc(e.longitude),Uc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=el(n[i],r[i]);if(a)return a}return Ks(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$c.mapValue&&t===$c.mapValue)return 0;if(e===$c.mapValue)return 1;if(t===$c.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ks(r[o],a[o]);if(0!==u)return u;var s=el(n[r[o]],i[a[o]]);if(0!==s)return s}return Ks(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Cs()}}function tl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ks(e,t);var n=jc(e),r=jc(t),i=Ks(n.seconds,r.seconds);return 0!==i?i:Ks(n.nanos,r.nanos)}function nl(e){return rl(e)}function rl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=jc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Rt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=rl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Rt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(rl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Cs();var t,n}function il(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function al(e){return!!e&&"integerValue"in e}function ol(e){return!!e&&"arrayValue"in e}function ul(e){return!!e&&"nullValue"in e}function sl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cl(e){return!!e&&"mapValue"in e}function ll(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Tc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ll(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ll(e.arrayValue.values[r]);return n}return Object.assign({},e)}function fl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function hl(e){return"nullValue"in e?Yc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?il(Wc.empty(),Zs.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Cs()}function dl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?il(Wc.empty(),Zs.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?$c:Cs()}function pl(e,t){var n=el(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function vl(e,t){var n=el(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ml=function(){function e(t){Nt(this,e),this.value=t}return Pt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!cl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}},{key:"setAll",value:function(e){var t=this,n=Xs.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ll(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());cl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Xc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];cl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Tc(t,(function(t,n){return e[t]=n}));var r,i=Rt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ll(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yl(e){var t=[];return Tc(e.fields,(function(e,n){var r=new Xs([e]);if(cl(n)){var i=yl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Rt(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Lc(t)}var gl=function(){function e(t,n,r,i,a,o){Nt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Pt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ml.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ml.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Qs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qs.min(),Qs.min(),ml.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Qs.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qs.min(),ml.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qs.min(),ml.empty(),2)}}]),e}(),kl=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Nt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new kl(e,t,n,r,i,a,o)}function wl(e){var t=Os(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+nl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Gc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return nl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return nl(e)})).join(",")),t.ut=n}return t.ut}function xl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Xc(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vl(e.startAt,t.startAt)&&Vl(e.endAt,t.endAt)}function _l(e){return Zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Sl(e,t){return e.filters.filter((function(e){return e instanceof Tl&&e.field.isEqual(t)}))}function Il(e,t,n){var r,i=Yc,a=!0,o=Rt(Sl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Yc,c=!0;switch(u.op){case"<":case"<=":s=hl(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Yc}pl({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];pl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function El(e,t,n){var r,i=$c,a=!0,o=Rt(Sl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=$c,c=!0;switch(u.op){case">=":case">":s=dl(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=$c}vl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Tl=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(el(t,this.value)):null!==t&&Jc(this.value)===Jc(t)&&this.at(el(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cs()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Cl(e,t,r):"array-contains"===t?new Dl(e,r):"in"===t?new Pl(e,r):"not-in"===t?new Rl(e,r):"array-contains-any"===t?new Ll(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Al(e,n):new Ol(e,n)}}]),n}(function(){return Pt((function e(){Nt(this,e)}))}()),Cl=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,e,r,i)).key=Zs.fromName(i.referenceValue),a}return Pt(n,[{key:"matches",value:function(e){var t=Zs.comparator(e.key,this.key);return this.at(t)}}]),n}(Tl),Al=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,"in",r)).keys=Nl("in",r),i}return Pt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tl),Ol=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,"not-in",r)).keys=Nl("not-in",r),i}return Pt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tl);function Nl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Zs.fromName(e.referenceValue)}))}var Dl=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"array-contains",r)}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ol(t)&&Zc(t.arrayValue,this.value)}}]),n}(Tl),Pl=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"in",r)}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Zc(this.value.arrayValue,t)}}]),n}(Tl),Rl=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"not-in",r)}return Pt(n,[{key:"matches",value:function(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Zc(this.value.arrayValue,t)}}]),n}(Tl),Ll=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"array-contains-any",r)}return Pt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ol(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Zc(t.value.arrayValue,e)}))}}]),n}(Tl),Ml=Pt((function e(t,n){Nt(this,e),this.position=t,this.inclusive=n})),Fl=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Nt(this,e),this.field=t,this.dir=n}));function jl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ul(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Zs.comparator(Zs.fromName(o.referenceValue),n.key):el(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xc(e.position[n],t.position[n]))return!1;return!0}var Bl=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Nt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function zl(e,t,n,r,i,a,o,u){return new Bl(e,t,n,r,i,a,o,u)}function ql(e){return new Bl(e)}function Kl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wl(e){var t,n=Rt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Gl(e){return null!==e.collectionGroup}function Hl(e){var t=Os(e);if(null===t.lt){t.lt=[];var n=Wl(t),r=Kl(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Fl(n)),t.lt.push(new Fl(Xs.keyField(),"asc"));else{var i,a=!1,o=Rt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Fl(Xs.keyField(),s))}}}return t.lt}function Ql(e){var t=Os(e);if(!t.ft)if("F"===t.limitType)t.ft=bl(t.path,t.collectionGroup,Hl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Rt(Hl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Fl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ml(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ml(t.startAt.position,t.startAt.inclusive):null;t.ft=bl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function $l(e,t,n){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yl(e,t){return xl(Ql(e),Ql(t))&&e.limitType===t.limitType}function Jl(e){return"".concat(wl(Ql(e)),"|lt:").concat(e.limitType)}function Xl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(nl(t.value));var t})).join(", "),"]")),Gc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return nl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return nl(e)})).join(",")),"Target(".concat(t,")")}(Ql(e)),"; limitType=").concat(e.limitType,")")}function Zl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Rt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Rt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ul(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hl(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ul(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hl(e),t))}(e,t)}function ef(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tf(e){return function(t,n){var r,i=!1,a=Rt(Hl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=nf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function nf(e,t,n){var r=e.field.isKeyField()?Zs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?el(r,i):Cs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cs()}}function rf(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function af(e){return{integerValue:""+e}}function of(e,t){return Qc(t)?af(t):rf(e,t)}var uf=Pt((function e(){Nt(this,e),this._=void 0}));function sf(e,t,n){return e instanceof ff?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hf?df(e,t):e instanceof pf?vf(e,t):function(e,t){var n=lf(e,t),r=yf(n)+yf(e._t);return al(n)&&al(e._t)?af(r):rf(e.wt,r)}(e,t)}function cf(e,t,n){return e instanceof hf?df(e,t):e instanceof pf?vf(e,t):n}function lf(e,t){return e instanceof mf?al(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ff=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n)}(uf),hf=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).elements=e,r}return Pt(n)}(uf);function df(e,t){var n,r=gf(t),i=Rt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Xc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pf=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).elements=e,r}return Pt(n)}(uf);function vf(e,t){var n,r=gf(t),i=Rt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Xc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mf=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Pt(n)}(uf);function yf(e){return Uc(e.integerValue||e.doubleValue)}function gf(e){return ol(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kf=Pt((function e(t,n){Nt(this,e),this.field=t,this.transform=n}));var bf=Pt((function e(t,n){Nt(this,e),this.version=t,this.transformResults=n})),wf=function(){function e(t,n){Nt(this,e),this.updateTime=t,this.exists=n}return Pt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function xf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _f=Pt((function e(){Nt(this,e)}));function Sf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mf(e.key,wf.none()):new Af(e.key,e.data,wf.none());var n,r=e.data,i=ml.empty(),a=new Dc(Xs.comparator),o=Rt(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Of(e.key,i,new Lc(a.toArray()),wf.none())}function If(e,t,n){e instanceof Af?function(e,t,n){var r=e.value.clone(),i=Df(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Of?function(e,t,n){if(xf(e.precondition,t)){var r=Df(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ef(e,t,n,r){return e instanceof Af?function(e,t,n,r){if(!xf(e.precondition,t))return n;var i=e.value.clone(),a=Pf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Of?function(e,t,n,r){if(!xf(e.precondition,t))return n;var i=Pf(e.fieldTransforms,r,t),a=t.data;return a.setAll(Nf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return xf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Tf(e,t){var n,r=null,i=Rt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=lf(a.transform,o||null);null!=u&&(null===r&&(r=ml.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Cf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ws(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hf&&t instanceof hf||e instanceof pf&&t instanceof pf?Ws(e.elements,t.elements,Xc):e instanceof mf&&t instanceof mf?Xc(e._t,t._t):e instanceof ff&&t instanceof ff}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Af=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Nt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_f),Of=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Nt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Pt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(_f);function Nf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Df(e,t,n){var r=new Map;As(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,cf(o,u,n[i]))}return r}function Pf(e,t,n){var r,i=new Map,a=Rt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,sf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Rf,Lf,Mf=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_f),Ff=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(_f),jf=Pt((function e(t){Nt(this,e),this.count=t}));function Uf(e){switch(e){default:return Cs();case Ns.CANCELLED:case Ns.UNKNOWN:case Ns.DEADLINE_EXCEEDED:case Ns.RESOURCE_EXHAUSTED:case Ns.INTERNAL:case Ns.UNAVAILABLE:case Ns.UNAUTHENTICATED:return!1;case Ns.INVALID_ARGUMENT:case Ns.NOT_FOUND:case Ns.ALREADY_EXISTS:case Ns.PERMISSION_DENIED:case Ns.FAILED_PRECONDITION:case Ns.ABORTED:case Ns.OUT_OF_RANGE:case Ns.UNIMPLEMENTED:case Ns.DATA_LOSS:return!0}}function Vf(e){if(void 0===e)return Is("GRPC error has no .code"),Ns.UNKNOWN;switch(e){case Rf.OK:return Ns.OK;case Rf.CANCELLED:return Ns.CANCELLED;case Rf.UNKNOWN:return Ns.UNKNOWN;case Rf.DEADLINE_EXCEEDED:return Ns.DEADLINE_EXCEEDED;case Rf.RESOURCE_EXHAUSTED:return Ns.RESOURCE_EXHAUSTED;case Rf.INTERNAL:return Ns.INTERNAL;case Rf.UNAVAILABLE:return Ns.UNAVAILABLE;case Rf.UNAUTHENTICATED:return Ns.UNAUTHENTICATED;case Rf.INVALID_ARGUMENT:return Ns.INVALID_ARGUMENT;case Rf.NOT_FOUND:return Ns.NOT_FOUND;case Rf.ALREADY_EXISTS:return Ns.ALREADY_EXISTS;case Rf.PERMISSION_DENIED:return Ns.PERMISSION_DENIED;case Rf.FAILED_PRECONDITION:return Ns.FAILED_PRECONDITION;case Rf.ABORTED:return Ns.ABORTED;case Rf.OUT_OF_RANGE:return Ns.OUT_OF_RANGE;case Rf.UNIMPLEMENTED:return Ns.UNIMPLEMENTED;case Rf.DATA_LOSS:return Ns.DATA_LOSS;default:return Cs()}}(Lf=Rf||(Rf={}))[Lf.OK=0]="OK",Lf[Lf.CANCELLED=1]="CANCELLED",Lf[Lf.UNKNOWN=2]="UNKNOWN",Lf[Lf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lf[Lf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lf[Lf.NOT_FOUND=5]="NOT_FOUND",Lf[Lf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lf[Lf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lf[Lf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lf[Lf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lf[Lf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lf[Lf.ABORTED=10]="ABORTED",Lf[Lf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lf[Lf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lf[Lf.INTERNAL=13]="INTERNAL",Lf[Lf.UNAVAILABLE=14]="UNAVAILABLE",Lf[Lf.DATA_LOSS=15]="DATA_LOSS";var Bf=function(){function e(t,n){Nt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Pt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Rt(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Tc(this.inner,(function(t,n){var r,i=Rt(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),zf=new Ac(Zs.comparator);function qf(){return zf}var Kf=new Ac(Zs.comparator);function Wf(){for(var e=Kf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Gf(e){var t=Kf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Hf(){return $f()}function Qf(){return $f()}function $f(){return new Bf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Yf=new Ac(Zs.comparator),Jf=new Dc(Zs.comparator);function Xf(){for(var e=Jf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Zf=new Dc(Ks);function eh(){return Zf}var th=function(){function e(t,n,r,i,a){Nt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Pt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,nh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qs.min(),r,eh(),qf(),Xf())}}]),e}(),nh=function(){function e(t,n,r,i,a){Nt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Pt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Mc.EMPTY_BYTE_STRING,n,Xf(),Xf(),Xf())}}]),e}(),rh=Pt((function e(t,n,r,i){Nt(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),ih=Pt((function e(t,n){Nt(this,e),this.targetId=t,this.It=n})),ah=Pt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Nt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),oh=function(){function e(){Nt(this,e),this.Tt=0,this.Et=ch(),this.At=Mc.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Pt(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Xf(),t=Xf(),n=Xf();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cs()}})),new nh(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=ch()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),uh=function(){function e(t){Nt(this,e),this.Mt=t,this.Ft=new Map,this.$t=qf(),this.Bt=sh(),this.Lt=new Dc(Ks)}return Pt(e,[{key:"Ut",value:function(e){var t,n=Rt(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Rt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Cs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(_l(i))if(0===n){var a=new Zs(i.path);this.Kt(t,a,gl.newNoDocument(a,Qs.min()))}else As(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&_l(a.target)){var o=new Zs(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,gl.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Xf();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new th(e,n,this.Lt,this.$t,r);return this.$t=qf(),this.Bt=sh(),this.Lt=new Dc(Ks),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new oh,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Dc(Ks),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Ss("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new oh),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function sh(){return new Ac(Zs.comparator)}function ch(){return new Ac(Zs.comparator)}var lh={asc:"ASCENDING",desc:"DESCENDING"},fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hh=Pt((function e(t,n){Nt(this,e),this.databaseId=t,this.dt=n}));function dh(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ph(e,t){return e.dt?t.toBase64():t.toUint8Array()}function vh(e,t){return dh(e,t.toTimestamp())}function mh(e){return As(!!e),Qs.fromTimestamp(function(e){var t=jc(e);return new Hs(t.seconds,t.nanos)}(e))}function yh(e,t){return function(e){return new Ys(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gh(e){var t=Ys.fromString(e);return As(Bh(t)),t}function kh(e,t){return yh(e.databaseId,t.path)}function bh(e,t){var n=gh(t);if(n.get(1)!==e.databaseId.projectId)throw new Ds(Ns.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ds(Ns.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zs(Sh(n))}function wh(e,t){return yh(e.databaseId,t)}function xh(e){var t=gh(e);return 4===t.length?Ys.emptyPath():Sh(t)}function _h(e){return new Ys(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sh(e){return As(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ih(e,t,n){return{name:kh(e,t),fields:n.value.mapValue.fields}}function Eh(e,t,n){var r=bh(e,t.name),i=mh(t.updateTime),a=new ml({mapValue:{fields:t.fields}}),o=gl.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Th(e,t){return"found"in t?function(e,t){As(!!t.found),t.found.name,t.found.updateTime;var n=bh(e,t.found.name),r=mh(t.found.updateTime),i=new ml({mapValue:{fields:t.found.fields}});return gl.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){As(!!t.missing),As(!!t.readTime);var n=bh(e,t.missing),r=mh(t.readTime);return gl.newNoDocument(n,r)}(e,t):Cs()}function Ch(e,t){var n;if(t instanceof Af)n={update:Ih(e,t.key,t.value)};else if(t instanceof Mf)n={delete:kh(e,t.key)};else if(t instanceof Of)n={update:Ih(e,t.key,t.data),updateMask:Vh(t.fieldMask)};else{if(!(t instanceof Ff))return Cs();n={verify:kh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ff)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mf)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Cs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cs()}(e,t.precondition)),n}function Ah(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?wf.updateTime(mh(e.updateTime)):void 0!==e.exists?wf.exists(e.exists):wf.none()}(t.currentDocument):wf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)As("REQUEST_TIME"===t.setToServerValue),n=new ff;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new hf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new pf(i)}else"increment"in t?n=new mf(e,t.increment):Cs();var a=Xs.fromServerFormat(t.fieldPath);return new kf(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=bh(e,t.update.name),a=new ml({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Lc(t.map((function(e){return Xs.fromServerFormat(e)})))}(t.updateMask);return new Of(i,a,o,n,r)}return new Af(i,a,n,r)}if(t.delete){var u=bh(e,t.delete);return new Mf(u,n)}if(t.verify){var s=bh(e,t.verify);return new Ff(s,n)}return Cs()}function Oh(e,t){return{documents:[wh(e,t.path)]}}function Nh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(sl(e.value))return{unaryFilter:{field:Mh(e.field),op:"IS_NAN"}};if(ul(e.value))return{unaryFilter:{field:Mh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sl(e.value))return{unaryFilter:{field:Mh(e.field),op:"IS_NOT_NAN"}};if(ul(e.value))return{unaryFilter:{field:Mh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mh(e.field),op:Lh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Mh(e.field),direction:Rh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Gc(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Dh(e){var t=xh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){As(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ph(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Fl(Fh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Gc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ml(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ml(n,t)}(n.endAt)),zl(t,i,u,o,s,"F",c,l)}function Ph(e){return e?void 0!==e.unaryFilter?[Uh(e)]:void 0!==e.fieldFilter?[jh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ph(e)})).reduce((function(e,t){return e.concat(t)})):Cs():[]}function Rh(e){return lh[e]}function Lh(e){return fh[e]}function Mh(e){return{fieldPath:e.canonicalString()}}function Fh(e){return Xs.fromServerFormat(e.fieldPath)}function jh(e){return Tl.create(Fh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cs()}}(e.fieldFilter.op),e.fieldFilter.value)}function Uh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Fh(e.unaryFilter.field);return Tl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Fh(e.unaryFilter.field);return Tl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Fh(e.unaryFilter.field);return Tl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Fh(e.unaryFilter.field);return Tl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cs()}}function Vh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Bh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function zh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kh(t)),t=qh(e.get(n),t);return Kh(t)}function qh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kh(e){return e+"\x01\x01"}function Wh(e){var t=e.length;if(As(t>=2),2===t)return As("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ys.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Cs(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Cs()}a=o+2}return new Ys(r)}var Gh=["userId","batchId"];function Hh(e,t){return[e,zh(t)]}function Qh(e,t,n){return[e,zh(t),n]}var $h={},Yh=["prefixPath","collectionGroup","readTime","documentId"],Jh=["prefixPath","collectionGroup","documentId"],Xh=["collectionGroup","readTime","prefixPath","documentId"],Zh=["canonicalId","targetId"],ed=["targetId","path"],td=["path","targetId"],nd=["collectionId","parent"],rd=["indexId","uid"],id=["uid","sequenceNumber"],ad=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],od=["indexId","uid","orderedDocumentKey"],ud=["userId","collectionPath","documentId"],sd=["userId","collectionPath","largestBatchId"],cd=["userId","collectionGroup","largestBatchId"],ld=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),fd=[].concat(bn(ld),["documentOverlays"]),hd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dd=hd,pd=[].concat(dd,["indexConfiguration","indexState","indexEntries"]),vd=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Pt(n)}(lc);function md(e,t){var n=Os(e);return vc.N(n.ee,t)}var yd=function(){function e(t,n,r,i){Nt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Pt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&If(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Rt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ef(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Rt(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ef(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Qf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Sf(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Qs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(function(e,t){return Cf(e,t)}))&&Ws(this.baseMutations,e.baseMutations,(function(e,t){return Cf(e,t)}))}}]),e}(),gd=function(){function e(t,n,r,i){Nt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Pt(e,null,[{key:"from",value:function(t,n,r){As(t.mutations.length===r.length);for(var i=Yf,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kd=function(){function e(t,n){Nt(this,e),this.largestBatchId=t,this.mutation=n}return Pt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),bd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qs.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mc.EMPTY_BYTE_STRING;Nt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Pt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),wd=Pt((function e(t){Nt(this,e),this.ne=t}));function xd(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_d(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:kh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:dh(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Sd(t.version)};else{if(!t.isUnknownDocument())return Cs();r.unknownDocument={path:n.path.toArray(),version:Sd(t.version)}}return r}function _d(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Id(e){var t=new Hs(e.seconds,e.nanoseconds);return Qs.fromTimestamp(t)}function Ed(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ah(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ah(e.ne,t)})),u=Hs.fromMillis(t.localWriteTimeMs);return new yd(t.batchId,u,n,o)}function Td(e){var t,n,r=Id(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Id(e.lastLimboFreeSnapshotVersion):Qs.min();return void 0!==e.query.documents?(As(1===(n=e.query).documents.length),t=Ql(ql(xh(n.documents[0])))):t=function(e){return Ql(Dh(e))}(e.query),new bd(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Mc.fromBase64String(e.resumeToken))}function Cd(e,t){var n,r=Sd(t.snapshotVersion),i=Sd(t.lastLimboFreeSnapshotVersion);n=_l(t.target)?Oh(e.ne,t.target):Nh(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ad(e){var t=Dh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$l(t,t.limit,"L"):t}function Od(e,t){return new kd(t.largestBatchId,Ah(e.ne,t.overlayMutation))}function Nd(e,t){var n=t.path.lastSegment();return[e,zh(t.path.popLast()),n]}function Dd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Sd(r.readTime),documentKey:zh(r.documentKey.path),largestBatchId:r.largestBatchId}}var Pd=function(){function e(){Nt(this,e)}return Pt(e,[{key:"getBundleMetadata",value:function(e,t){return Rd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Id(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Rd(e).put({bundleId:(n=t).id,createTime:Sd(mh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ld(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ad(t.bundledQuery),readTime:Id(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ld(e).put(function(e){return{name:e.name,readTime:Sd(mh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Rd(e){return md(e,"bundles")}function Ld(e){return md(e,"namedQueries")}var Md=function(){function e(t,n){Nt(this,e),this.wt=t,this.userId=n}return Pt(e,[{key:"getOverlay",value:function(e,t){var n=this;return Fd(e).get(Nd(this.userId,t)).next((function(e){return e?Od(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Hf();return dc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new kd(t,a);i.push(r.ie(e,o))})),dc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(zh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Fd(e).W("collectionPathOverlayIndex",i))})),dc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Hf(),a=zh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Fd(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Rt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Od(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Hf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fd(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Od(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return Fd(e).put(function(e,t,n){var r=l(Nd(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ch(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Fd(e){return md(e,"documentOverlays")}var jd=function(){function e(){Nt(this,e)}return Pt(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Uc(e.integerValue));else if("doubleValue"in e){var n=Uc(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Hc(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Vc(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?fl(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Cs()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Rt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Zs.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Ud(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Vd(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ud(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}jd.ye=new jd;var Bd=function(){function e(){Nt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Pt(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Rt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Rt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Vd(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Vd(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),zd=function(){function e(t){Nt(this,e),this.Me=t}return Pt(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),qd=function(){function e(t){Nt(this,e),this.Me=t}return Pt(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Kd=function(){function e(){Nt(this,e),this.Me=new Bd,this.Fe=new zd(this.Me),this.$e=new qd(this.Me)}return Pt(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Wd=function(){function e(t,n,r,i){Nt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Pt(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Gd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Hd(e.arrayValue,t.arrayValue))?n:0!==(n=Hd(e.directionalValue,t.directionalValue))?n:Zs.comparator(e.documentKey,t.documentKey)}function Hd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Qd=function(){function e(t){Nt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Rt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Pt(e,[{key:"Ge",value:function(e){var t=tc(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=nc(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Rt(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),$d=function(){function e(){Nt(this,e),this.ze=new Yd}return Pt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),dc.resolve()}},{key:"getCollectionParents",value:function(e,t){return dc.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return dc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return dc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return dc.resolve(null)}},{key:"getIndexType",value:function(e,t){return dc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return dc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return dc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return dc.resolve(uc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return dc.resolve(uc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return dc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return dc.resolve()}}]),e}(),Yd=function(){function e(){Nt(this,e),this.index={}}return Pt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dc(Ys.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Dc(Ys.comparator)).toArray()}}]),e}(),Jd=new Uint8Array(0),Xd=function(){function e(t,n){Nt(this,e),this.user=t,this.databaseId=n,this.He=new Yd,this.Je=new Bf((function(e){return wl(e)}),(function(e,t){return xl(e,t)})),this.uid=t.uid||""}return Pt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:zh(i)};return Zd(e).put(a)}return dc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Gs(t),""],!1,!0);return Zd(e).K(r).next((function(e){var r,i=Rt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Wh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=tp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=np(e);return a.next((function(e){o.put(Dd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=tp(e),r=np(e),i=ep(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ep(e),i=!0,a=new Map;return dc.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Xf(),o=[];return dc.forEach(a,(function(i,a){var u;Ss("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(wl(t)));var s=function(e,t){var n=tc(t);if(void 0===n)return null;var r,i=Rt(Sl(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Rt(nc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Rt(Sl(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Rt(nc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Il(e,o.fieldPath,e.startAt):El(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ml(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Rt(nc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?El(e,o.fieldPath,e.endAt):Il(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ml(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return dc.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Zs.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return dc.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):Jd,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,bn(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Wd(e,Zs.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Wd(e,Zs.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Qd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Rt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return dc.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Dc(Xs.comparator),r=!1,i=Rt(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Rt(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Kd,i=Rt(nc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);jd.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Kd;return jd.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Kd;return jd.ye.re(il(this.databaseId,t),n.Be(function(e){var t=nc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Kd);var i,a=0,o=Rt(nc(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Rt(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&ol(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);jd.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=bn(e),a=[],o=Rt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Rt(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Kd;f.seed(l.Oe()),jd.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Tl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=tp(e),i=np(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return dc.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ic(t.sequenceNumber,new uc(Id(t.readTime),new Zs(Wh(t.documentKey)),t.largestBatchId)):ic.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new rc(Xs.fromServerFormat(n),r)}));return new ec(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ks(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=tp(e),a=np(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return dc.forEach(t,(function(t){return a.put(Dd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return dc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?dc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),dc.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?dc.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ep(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return ep(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=ep(e),i=new Dc(Gd);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Wd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Dc(Gd),r=this.on(t,e);if(null==r)return n;var i=tc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ol(a)){var o,u=Rt(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Wd(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Wd(t.indexId,e.key,Jd,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Ss("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Rc(a),s=Rc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Rc(o)):l?(i(u),u=Rc(a)):(u=Rc(a),s=Rc(o))}}(r,i,Gd,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),dc.waitFor(o)}},{key:"ln",value:function(e){var t=1;return np(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Gd(e,t)})).filter((function(e,t,n){return!t||0!==Gd(e,n[t-1])}));var r=[];r.push(e);var i,a=Rt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Gd(o,e),s=Gd(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Jd,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Jd,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(rp)}},{key:"getMinOffset",value:function(e,t){var n=this;return dc.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Cs()}))})).next(rp)}}]),e}();function Zd(e){return md(e,"collectionParents")}function ep(e){return md(e,"indexEntries")}function tp(e){return md(e,"indexConfiguration")}function np(e){return md(e,"indexState")}function rp(e){As(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;sc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new uc(t.readTime,t.documentKey,n)}var ip={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ap=function(){function e(t,n,r){Nt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Pt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function op(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){As(1===u)})));var c,l=[],f=Rt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Qh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return dc.waitFor(a).next((function(){return l}))}function up(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Cs();t=e.noDocument}return JSON.stringify(t).length}ap.DEFAULT_COLLECTION_PERCENTILE=10,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ap.DEFAULT=new ap(41943040,ap.DEFAULT_COLLECTION_PERCENTILE,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ap.DISABLED=new ap(-1,0,0);var sp=function(){function e(t,n,r,i){Nt(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Pt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lp(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=fp(e),o=lp(e);return o.add({}).next((function(u){As("number"==typeof u);var s,c=new yd(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ch(e.ne,t)})),i=n.mutations.map((function(t){return Ch(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Dc((function(e,t){return Ks(e.canonicalString(),t.canonicalString())})),d=Rt(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Qh(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,$h))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),dc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return lp(e).get(t).next((function(e){return e?(As(e.userId===n.userId),Ed(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?dc.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return lp(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(As(t.batchId>=r),a=Ed(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lp(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lp(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ed(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Hh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return fp(e).J({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=Wh(c);if(s===n.userId&&t.path.isEqual(h))return lp(e).get(f).next((function(e){if(!e)throw Cs();As(e.userId===n.userId),a.push(Ed(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Dc(Ks),i=[];return t.forEach((function(t){var a=Hh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=fp(e).J({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Wh(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),dc.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Hh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Dc(Ks);return fp(e).J({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=Wh(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(lp(e).get(t).next((function(e){if(null===e)throw Cs();As(e.userId===n.userId),r.push(Ed(n.wt,e))})))})),dc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return op(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),dc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return dc.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return fp(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Wh(e[1]);i.push(a)}else r.done()})).next((function(){As(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return cp(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return hp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return As(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function cp(e,t,n){var r=Hh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return fp(e).J({range:a,H:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function lp(e){return md(e,"mutations")}function fp(e){return md(e,"documentMutations")}function hp(e){return md(e,"mutationQueues")}var dp=function(){function e(t){Nt(this,e),this.En=t}return Pt(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),pp=function(){function e(t,n){Nt(this,e),this.referenceDelegate=t,this.wt=n}return Pt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new dp(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Qs.fromTimestamp(new Hs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return vp(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return As(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return vp(e).J((function(o,u){var s=Td(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return dc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return vp(e).J((function(e,n){var r=Td(n);t(r)}))}},{key:"bn",value:function(e){return mp(e).get("targetGlobalKey").next((function(e){return As(null!==e),e}))}},{key:"Pn",value:function(e,t){return mp(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return vp(e).put(Cd(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=wl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vp(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Td(n);xl(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=yp(e);return t.forEach((function(t){var o=zh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),dc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=yp(e);return dc.forEach(t,(function(t){var a=zh(t.path);return dc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=yp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yp(e),i=Xf();return r.J({range:n,H:!0},(function(e,t,n){var r=Wh(e[1]),a=new Zs(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=zh(t.path),r=IDBKeyRange.bound([n],[Gs(n)],!1,!0),i=0;return yp(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return vp(e).get(t).next((function(e){return e?Td(e):null}))}}]),e}();function vp(e){return md(e,"targets")}function mp(e){return md(e,"targetGlobal")}function yp(e){return md(e,"targetDocuments")}function gp(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Ks(r,o);return 0===s?Ks(i,u):s}var kp=function(){function e(t){Nt(this,e),this.Sn=t,this.buffer=new Dc(gp),this.Dn=0}return Pt(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bp=function(){function e(t,n,r){Nt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Pt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Ss("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!gc(e.t0)){e.next=12;break}Ss("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,fc(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),wp=function(){function e(t,n){Nt(this,e),this.On=t,this.params=n}return Pt(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return dc.resolve(Ic.ot);var r=new kp(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ss("LruGarbageCollector","Garbage collection skipped; disabled"),dc.resolve(ip)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ss("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ip):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ss("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_s()<=In.DEBUG&&Ss("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),dc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),xp=function(){function e(t,n){Nt(this,e),this.db=t,this.garbageCollector=function(e,t){return new wp(e,t)}(this,n)}return Pt(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return _p(e,n)}},{key:"removeReference",value:function(e,t,n){return _p(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return _p(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return hp(e).Y((function(r){return cp(e,r,t).next((function(e){return e&&(n=!0),dc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Qs.min()),yp(e).delete([0,zh(o.path)])}))}));i.push(s)}})).next((function(){return dc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return _p(e,t)}},{key:"Ln",value:function(e,t){var n,r=yp(e),i=Ic.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ic.ot&&t(new Zs(Wh(n)),i),i=s,n=u):i=Ic.ot})).next((function(){i!==Ic.ot&&t(new Zs(Wh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function _p(e,t){return yp(e).put(function(e,t){return{targetId:0,path:zh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Sp=function(){function e(){Nt(this,e),this.changes=new Bf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Pt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,gl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?dc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ip=function(){function e(t){Nt(this,e),this.wt=t}return Pt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ap(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ap(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_d(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=gl.newInvalidDocument(t);return Ap(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Op(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:gl.newInvalidDocument(t)};return Ap(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Op(t))},(function(e,i){r={document:n.Kn(t,i),size:up(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=qf();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=qf(),i=new Ac(Zs.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,up(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return dc.resolve();var r=new Dc(Dp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Op(r.first()),Op(r.last())),a=r.getIterator(),o=a.getNext();return Ap(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Zs.fromSegments([].concat(bn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Dp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Op(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),_d(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ap(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=qf(),i=Rt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Zs.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=qf(),o=Np(t,n),u=Np(t,uc.max());return Ap(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Zs.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Tp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Cp(e).get("remoteDocumentGlobalKey").next((function(e){return As(!!e),e}))}},{key:"qn",value:function(e,t){return Cp(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Eh(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Zs.fromSegments(t.noDocument.path),i=Id(t.noDocument.readTime);n=gl.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Cs();var a=Zs.fromSegments(t.unknownDocument.path),o=Id(t.unknownDocument.version);n=gl.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Hs(e[0],e[1]);return Qs.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Qs.min()))return n}return gl.newInvalidDocument(e)}}]),e}();function Ep(e){return new Ip(e)}var Tp=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Bf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Pt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Dc((function(e,t){return Ks(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=xd(t.zn.wt,o);i=i.add(a.path.popLast());var c=up(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=xd(t.zn.wt,o.convertToNoDocument(Qs.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),dc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Sp);function Cp(e){return md(e,"remoteDocumentGlobal")}function Ap(e){return md(e,"remoteDocumentsV14")}function Op(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Np(e,t){var n=t.documentKey.path.toArray();return[e,_d(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Dp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ks(n[a],r[a]))return i;return(i=Ks(n.length,r.length))||((i=Ks(n[n.length-2],r[r.length-2]))||Ks(n[n.length-1],r[r.length-1]))}var Pp=Pt((function e(t,n){Nt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Rp=function(){function e(t,n,r,i){Nt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Pt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Ef(r.mutation,e,Lc.empty(),Hs.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Xf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xf(),i=Hf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Wf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Hf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Xf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=qf(),a=$f(),o=$f();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Of)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Ef(o.mutation,t,o.mutation.getFieldMask(),Hs.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Pp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=$f(),i=new Ac((function(e,t){return e-t})),a=Xf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Rt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Lc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Xf()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Qf();c.forEach((function(e){if(!a.has(e)){var n=Sf(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return dc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):dc.resolve(Hf()),u=-1,s=a;return o.next((function(t){return dc.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?dc.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Xf())})).next((function(e){return{batchId:u,changes:Gf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Zs(t)).next((function(e){var t=Wf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Wf();return this.indexManager.getCollectionParents(e,i).next((function(o){return dc.forEach(o,(function(o){var u=function(e,t){return new Bl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,gl.newInvalidDocument(n)))}));var n=Wf();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Ef(a.mutation,i,Lc.empty(),Hs.now()),Zl(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):dc.resolve(gl.newInvalidDocument(t))}}]),e}(),Lp=function(){function e(t){Nt(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Pt(e,[{key:"getBundleMetadata",value:function(e,t){return dc.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:mh(n.createTime)}),dc.resolve()}},{key:"getNamedQuery",value:function(e,t){return dc.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Ad(e.bundledQuery),readTime:mh(e.readTime)}}(t)),dc.resolve()}}]),e}(),Mp=function(){function e(){Nt(this,e),this.overlays=new Ac(Zs.comparator),this.Xn=new Map}return Pt(e,[{key:"getOverlay",value:function(e,t){return dc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Hf();return dc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),dc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),dc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Hf(),i=t.length+1,a=new Zs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return dc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ac((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Hf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Hf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return dc.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kd(t,n));var a=this.Xn.get(t);void 0===a&&(a=Xf(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Fp=function(){function e(){Nt(this,e),this.Zn=new Dc(jp.ts),this.es=new Dc(jp.ns)}return Pt(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new jp(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new jp(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Zs(new Ys([])),r=new jp(n,e),i=new jp(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Zs(new Ys([])),n=new jp(t,e),r=new jp(t,e+1),i=Xf();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new jp(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),jp=function(){function e(t,n){Nt(this,e),this.key=t,this.ls=n}return Pt(e,null,[{key:"ts",value:function(e,t){return Zs.comparator(e.key,t.key)||Ks(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ks(e.ls,t.ls)||Zs.comparator(e.key,t.key)}}]),e}(),Up=function(){function e(t,n){Nt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Dc(jp.ts)}return Pt(e,[{key:"checkEmpty",value:function(e){return dc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new yd(i,t,n,r);this.mutationQueue.push(a);var o,u=Rt(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new jp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return dc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return dc.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return dc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return dc.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return dc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new jp(t,0),i=new jp(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),dc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Dc(Ks);return t.forEach((function(e){var t=new jp(e,0),i=new jp(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),dc.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Zs.isDocumentKey(i)||(i=i.child(""));var a=new jp(new Zs(i),0),o=new Dc(Ks);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),dc.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;As(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return dc.forEach(t.mutations,(function(i){var a=new jp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new jp(t,0),r=this.ds.firstAfterOrEqual(n);return dc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,dc.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Vp=function(){function e(t){Nt(this,e),this.ps=t,this.docs=new Ac(Zs.comparator),this.size=0}return Pt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return dc.resolve(n?n.document.mutableCopy():gl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():gl.newInvalidDocument(e))})),dc.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=qf(),i=new Zs(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||sc(oc(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return dc.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Cs()}},{key:"Is",value:function(e,t){return dc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Bp(this)}},{key:"getSize",value:function(e){return dc.resolve(this.size)}}]),e}(),Bp=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).zn=e,r}return Pt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),dc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Sp),zp=function(){function e(t){Nt(this,e),this.persistence=t,this.Ts=new Bf((function(e){return wl(e)}),xl),this.lastRemoteSnapshotVersion=Qs.min(),this.highestTargetId=0,this.Es=0,this.As=new Fp,this.targetCount=0,this.Rs=dp.An()}return Pt(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),dc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return dc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return dc.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),dc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),dc.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new dp(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,dc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),dc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,dc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),dc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return dc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return dc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),dc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),dc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),dc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return dc.resolve(n)}},{key:"containsKey",value:function(e,t){return dc.resolve(this.As.containsKey(t))}}]),e}(),qp=function(){function e(t,n){var r=this;Nt(this,e),this.bs={},this.overlays={},this.Ps=new Ic(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new zp(this),this.indexManager=new $d,this.remoteDocumentCache=new Vp((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new wd(n),this.Ds=new Lp(this.wt)}return Pt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Mp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Up(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ss("MemoryPersistence","Starting transaction:",e);var i=new Kp(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return dc.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Kp=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Pt(n)}(lc),Wp=function(){function e(t){Nt(this,e),this.persistence=t,this.ks=new Fp,this.Os=null}return Pt(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Cs()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),dc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),dc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),dc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dc.forEach(this.Fs,(function(r){var i=Zs.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Qs.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return dc.or([function(){return dc.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Gp=function(){function e(t){Nt(this,e),this.wt=t}return Pt(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new pc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gh,{unique:!0}),e.createObjectStore("documentMutations")}(e),Hp(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=dc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Hp(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qs.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return dc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ud});t.createIndex("collectionPathOverlayIndex",sd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",cd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Yh});t.createIndex("documentKeyIndex",Jh),t.createIndex("collectionGroupIndex",Xh)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:rd}).createIndex("sequenceNumberIndex",id,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ad}).createIndex("documentKeyIndex",od,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=up(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return dc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return dc.forEach(r,(function(r){As(r.userId===n.userId);var i=Ed(t.wt,r);return op(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Ys(n),o=function(e){return[0,zh(e)]}(a);r.push(t.get(o).next((function(n){return n?dc.resolve():function(n){return t.put({targetId:0,path:zh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return dc.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:nd});var n=t.store("collectionParents"),r=new Yd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:zh(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Ys(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Wh(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Td(r),a=Cd(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Zs(Ys.fromString(i.document.name).popFirst(5)):i.noDocument?Zs.fromSegments(i.noDocument.path):i.unknownDocument?Zs.fromSegments(i.unknownDocument.path):Cs()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return dc.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Ep(this.wt),a=new qp(Wp.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Xf();Ed(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),dc.forEach(r,(function(e,r){var o=new bs(r),u=Md.se(n.wt,o),s=a.getIndexManager(o),c=sp.se(o,n.wt,s,a.referenceDelegate);return new Rp(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new vd(t,Ic.ot),e).next()}))}))}}]),e}();function Hp(e){e.createObjectStore("targetDocuments",{keyPath:ed}).createIndex("documentTargetsIndex",td,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zh,{unique:!0}),e.createObjectStore("targetGlobal")}var Qp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$p=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Nt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Ds(Ns.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xp(this,i),this.ei=n+"main",this.wt=new wd(s),this.ni=new vc(this.ei,this.Hs,new Gp(this.wt)),this.Vs=new pp(this.referenceDelegate,this.wt),this.remoteDocumentCache=Ep(this.wt),this.Ds=new Pd,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Is("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Pt(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ds(Ns.FAILED_PRECONDITION,Qp);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Ic(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=J($().mark((function n(r){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=J($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Jp(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(gc(t))return Ss("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ss("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return Yp(e).get("owner").next((function(e){return dc.resolve(t.di(e))}))}},{key:"_i",value:function(e){return Jp(e).delete(this.clientId)}},{key:"wi",value:function(){var e=J($().mark((function e(){var t,n,r,i,a=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=md(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return dc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Rt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?dc.resolve(!0):Yp(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Ds(Ns.FAILED_PRECONDITION,Qp);return!1}}return!(!t.networkEnabled||!t.inForeground)||Jp(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ss("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=J($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new vd(e,Ic.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Jp(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return sp.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Xd(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Md.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ss("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?pd:14===i?dd:13===i?hd:12===i?fd:11===i?ld:void Cs();return this.ni.runTransaction(e,o,u,(function(i){return a=new vd(i,r.Ps?r.Ps.next():Ic.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Is("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Ds(Ns.FAILED_PRECONDITION,cc);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return Yp(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ds(Ns.FAILED_PRECONDITION,Qp)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yp(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Yp(e);return n.get("owner").next((function(e){return t.di(e)?(Ss("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):dc.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Is("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Zt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ss("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Is("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(ki){Is("Failed to set zombie client id.",ki)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(ki){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return vc.V()}}]),e}();function Yp(e){return md(e,"owner")}function Jp(e){return md(e,"clientMetadata")}function Xp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zp=function(){function e(t,n,r,i){Nt(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Pt(e,null,[{key:"Vi",value:function(t,n){var r,i=Xf(),a=Xf(),o=Rt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ev=function(){function e(){Nt(this,e),this.Si=!1}return Pt(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return dc.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Qs.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(_s()<=In.DEBUG&&Ss("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xl(t)),i.Mi(e,o,t,ac(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Dc(tf(e));return t.forEach((function(t,r){Zl(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return _s()<=In.DEBUG&&Ss("QueryEngine","Using full collection scan to execute query:",Xl(t)),this.Di.getDocumentsMatchingQuery(e,t,uc.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),tv=function(){function e(t,n,r,i){Nt(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Ac(Ks),this.Bi=new Bf((function(e){return wl(e)}),xl),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Pt(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rp(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function nv(e,t,n,r){return new tv(e,t,n,r)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return iv=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Xf(),s=Rt(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Rt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Rt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Rt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(e,t){var n=Os(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=dc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);As(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Xf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ov(e){var t=Os(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function uv(e,t){var n=Os(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Mc.EMPTY_BYTE_STRING,Qs.min()).withLastLimboFreeSnapshotVersion(Qs.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=qf(),s=Xf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sv(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Qs.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return dc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function sv(e,t,n){var r=Xf(),i=Xf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=qf();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Qs.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ss("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function cv(e,t){var n=Os(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function lv(e,t){var n=Os(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,dc.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new bd(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function fv(e,t,n){return hv.apply(this,arguments)}function hv(){return hv=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Os(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),gc(e.t1)){e.next=12;break}throw e.t1;case 12:Ss("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hv.apply(this,arguments)}function dv(e,t,n){var r=Os(e),i=Qs.min(),a=Xf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Os(e),i=r.Bi.get(n);return void 0!==i?dc.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Ql(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Qs.min(),n?a:Xf())})).next((function(e){return mv(r,ef(t),e),{documents:e,ji:a}}))}))}function pv(e,t){var n=Os(e),r=Os(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function vv(e,t){var n=Os(e),r=n.Li.get(t)||Qs.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,ac(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return mv(n,t,e),e}))}function mv(e,t,n){var r=Qs.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function yv(e,t,n,r){return gv.apply(this,arguments)}function gv(){return gv=J($().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Os(t),o=Xf(),u=qf(),s=Rt(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,lv(a,function(e){return Ql(ql(Ys.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return sv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(e,t){return bv.apply(this,arguments)}function bv(){return bv=J($().mark((function e(t,n){var r,i,a,o=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Xf(),e.next=3,lv(t,Ql(Ad(n.bundledQuery)));case 3:return i=e.sent,a=Os(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=mh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Mc.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}function wv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _v(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Sv=function(){function e(t,n,r,i){Nt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Pt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ds(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Is("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Iv=function(){function e(t,n,r){Nt(this,e),this.targetId=t,this.state=n,this.error=r}return Pt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ds(i.error.code,i.error.message))),a?new e(t,i.state,r):(Is("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ev=function(){function e(t,n){Nt(this,e),this.clientId=t,this.activeTargetIds=n}return Pt(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=eh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Qc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Is("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Tv=function(){function e(t,n){Nt(this,e),this.clientId=t,this.onlineState=n}return Pt(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Is("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Cv=function(){function e(){Nt(this,e),this.activeTargetIds=eh()}return Pt(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Av=function(){function e(t,n,r,i,a){Nt(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ac(Ks),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=wv(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Cv),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Pt(e,[{key:"start",value:function(){var e=J($().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Rt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(wv(this.persistenceKey,i)))&&(o=Ev.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Rt(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_v(this.persistenceKey,e));if(n){var r=Iv.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_v(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ss("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ss("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ss("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ss("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Is("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(J($().mark((function e(){var r,i,a,o,u,s,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Ic.ot;if(null!=e)try{var n=JSON.parse(e);As("number"==typeof n),t=n}catch(e){Is("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ic.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Sv(this.currentUser,e,t,n),i=xv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=xv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=_v(this.persistenceKey,e),i=new Iv(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Ev.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sv.Ji(new bs(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Iv.Ji(r,t)}},{key:"wr",value:function(e){return Tv.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Ss("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=eh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ov=function(){function e(){Nt(this,e),this.Fr=new Cv,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Pt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Cv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Nv=function(){function e(){Nt(this,e)}return Pt(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Dv=function(){function e(){var t=this;Nt(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Pt(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ss("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Rt(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Ss("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Rt(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Pv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rv=function(){function e(t){Nt(this,e),this.jr=t.jr,this.Wr=t.Wr}return Pt(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Lv=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Pt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new gs;o.listenOnce(ds.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case hs.NO_ERROR:var t=o.getResponseJson();Ss("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hs.TIMEOUT:Ss("Connection",'RPC "'+e+'" timed out'),a(new Ds(Ns.DEADLINE_EXCEEDED,"Request time out"));break;case hs.HTTP_ERROR:var n=o.getStatus();if(Ss("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ns).indexOf(t)>=0?t:Ns.UNKNOWN}(r.status);a(new Ds(u,r.message))}else a(new Ds(Ns.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ds(Ns.UNAVAILABLE,"Connection failed."));break;default:Cs()}}finally{Ss("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ls(),a=fs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ms({})),this.uo(o.initMessageHeaders,t,n),Xt()||tn()||Jt().indexOf("Electron/")>=0||nn()||Jt().indexOf("MSAppHost/")>=0||en()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ss("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Rv({jr:function(e){l?Ss("Connection","Not sending because WebChannel is closed:",e):(c||(Ss("Connection","Opening WebChannel transport."),s.open(),c=!0),Ss("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ys.EventType.OPEN,(function(){l||Ss("Connection","WebChannel transport opened.")})),h(s,ys.EventType.CLOSE,(function(){l||(l=!0,Ss("Connection","WebChannel transport closed"),f.eo())})),h(s,ys.EventType.ERROR,(function(e){l||(l=!0,Es("Connection","WebChannel transport errored:",e),f.eo(new Ds(Ns.UNAVAILABLE,"The operation could not be completed")))})),h(s,ys.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];As(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ss("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Rf[e];if(void 0!==t)return Vf(t)}(a),u=i.message;void 0===o&&(o=Ns.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Ds(o,u)),s.close()}else Ss("Connection","WebChannel received:",n),f.no(n)}})),h(a,ps.STAT_EVENT,(function(e){e.stat===vs.PROXY?Ss("Connection","Detected buffering proxy"):e.stat===vs.NOPROXY&&Ss("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Nt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Pt(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ss("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Ss("RestConnection","Received: ",e),e}),(function(t){throw Es("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ws,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Pv[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Mv(){return"undefined"!=typeof window?window:null}function Fv(){return"undefined"!=typeof document?document:null}function jv(e){return new hh(e,!0)}var Uv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Nt(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Pt(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ss("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Vv=function(){function e(t,n,r,i,a,o,u,s){Nt(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Uv(t,n)}return Pt(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Ns.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Ns.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Ds(Ns.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ss("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Ss("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Bv=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a,o,u){var s;return Nt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Pt(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(As(void 0===t||"string"==typeof t),Mc.fromBase64String(t||"")):(As(void 0===t||t instanceof Uint8Array),Mc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ns.UNKNOWN:Vf(e.code);return new Ds(t,e.message||"")}(o);n=new ah(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=bh(e,s.document.name),l=mh(s.document.updateTime),f=new ml({mapValue:{fields:s.document.fields}}),h=gl.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new rh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=bh(e,v.document),y=v.readTime?mh(v.readTime):Qs.min(),g=gl.newNoDocument(m,y),k=v.removedTargetIds||[];n=new rh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=bh(e,b.document),x=b.removedTargetIds||[];n=new rh([],x,w,null)}else{if(!("filter"in t))return Cs();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new jf(S),E=_.targetId;n=new ih(E,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Qs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qs.min():t.readTime?mh(t.readTime):Qs.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=_h(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=_l(r)?{documents:Oh(e,r)}:{query:Nh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ph(e,t.resumeToken):t.snapshotVersion.compareTo(Qs.min())>0&&(n.readTime=dh(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=_h(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Vv),zv=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a,o,u){var s;return Nt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Pt(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,ii(jt(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(As(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(As(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mh(e.updateTime):mh(t);return n.isEqual(Qs.min())&&(n=mh(t)),new bf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mh(e.commitTime);return this.listener.Jo(n,t)}return As(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=_h(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ch(t.wt,e)}))};this.Mo(n)}}]),n}(Vv),qv=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a){var o;return Nt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Pt(n,[{key:"tu",value:function(){if(this.Zo)throw new Ds(Ns.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ns.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ds(Ns.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ns.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ds(Ns.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Pt((function e(){Nt(this,e)}))}()),Kv=function(){function e(t,n){Nt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Pt(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Is(t),this.su=!1):Ss("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Wv=Pt((function e(t,n,r,i,a){var o=this;Nt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=nm(o),!e.t0){e.next=5;break}return Ss("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Os(t)).lu.add(4),e.next=4,Qv(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Gv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Kv(r,i)}));function Gv(e){return Hv.apply(this,arguments)}function Hv(){return Hv=J($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nm(t)){e.next=18;break}n=Rt(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Hv.apply(this,arguments)}function Qv(e){return $v.apply(this,arguments)}function $v(){return $v=J($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rt(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),$v.apply(this,arguments)}function Yv(e,t){var n=Os(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),tm(n)?em(n):Nm(n).Co()&&Xv(n,t))}function Jv(e,t){var n=Os(e),r=Nm(n);n.hu.delete(t),r.Co()&&Zv(n,t),0===n.hu.size&&(r.Co()?r.ko():nm(n)&&n._u.set("Unknown"))}function Xv(e,t){e.wu.Nt(t.targetId),Nm(e).Qo(t)}function Zv(e,t){e.wu.Nt(t),Nm(e).jo(t)}function em(e){e.wu=new uh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Nm(e).start(),e._u.iu()}function tm(e){return nm(e)&&!Nm(e).Do()&&e.hu.size>0}function nm(e){return 0===Os(e).lu.size}function rm(e){e.wu=void 0}function im(e){return am.apply(this,arguments)}function am(){return am=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Xv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),am.apply(this,arguments)}function om(e,t){return um.apply(this,arguments)}function um(){return um=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rm(t),tm(t)?(t._u.uu(n),em(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function sm(e,t,n){return cm.apply(this,arguments)}function cm(){return cm=J($().mark((function e(t,n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof ah&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Rt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ss("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,lm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof rh?t.wu.Ut(n):n instanceof ih?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Qs.min())){e.next=29;break}return e.prev=14,e.next=17,ov(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Mc.EMPTY_BYTE_STRING,n.snapshotVersion)),Zv(e,t);var r=new bd(n.target,t,1,n.sequenceNumber);Xv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ss("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,lm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cm.apply(this,arguments)}function lm(e,t,n){return fm.apply(this,arguments)}function fm(){return fm=J($().mark((function e(t,n,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gc(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Qv(t);case 5:t._u.set("Offline"),r||(r=function(){return ov(t.localStore)}),t.asyncQueue.enqueueRetryable(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ss("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Gv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){return t().catch((function(n){return lm(e,n,t)}))}function dm(e){return pm.apply(this,arguments)}function pm(){return pm=J($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Os(t),r=Dm(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!vm(n)){e.next=19;break}return e.prev=3,e.next=6,cv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,mm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,lm(n,e.t0);case 17:e.next=2;break;case 19:ym(n)&&gm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),pm.apply(this,arguments)}function vm(e){return nm(e)&&e.au.length<10}function mm(e,t){e.au.push(t);var n=Dm(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function ym(e){return nm(e)&&!Dm(e).Do()&&e.au.length>0}function gm(e){Dm(e).start()}function km(e){return bm.apply(this,arguments)}function bm(){return bm=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dm(t).Xo();case 1:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e){return xm.apply(this,arguments)}function xm(){return xm=J($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dm(t),r=Rt(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function _m(e,t,n){return Sm.apply(this,arguments)}function Sm(){return Sm=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=gd.from(i,n,r),e.next=3,hm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,dm(t);case 5:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Im(e,t){return Em.apply(this,arguments)}function Em(){return Em=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Dm(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uf(i=n.code)||i===Ns.ABORTED){e.next=7;break}return r=t.au.shift(),Dm(t).No(),e.next=5,hm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,dm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ym(t)&&gm(t);case 5:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Tm(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Os(t)).asyncQueue.verifyOperationInProgress(),Ss("RemoteStore","RemoteStore received new credentials"),i=nm(r),r.lu.add(3),e.next=6,Qv(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Gv(r);case 12:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Am(e,t){return Om.apply(this,arguments)}function Om(){return Om=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Os(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Gv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Qv(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Nm(e){return e.mu||(e.mu=function(e,t,n){var r=Os(e);return r.tu(),new Bv(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:im.bind(null,e),Jr:om.bind(null,e),Go:sm.bind(null,e)}),e.fu.push(function(){var t=J($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),tm(e)?em(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:rm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Dm(e){return e.gu||(e.gu=function(e,t,n){var r=Os(e);return r.tu(),new zv(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:km.bind(null,e),Jr:Im.bind(null,e),Yo:wm.bind(null,e),Jo:_m.bind(null,e)}),e.fu.push(function(){var t=J($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,dm(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Ss("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Pm=function(){function e(t,n,r,i,a){Nt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Pt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ds(Ns.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Rm(e,t){if(Is("AsyncQueue","".concat(t,": ").concat(e)),gc(e))return new Ds(Ns.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Lm=function(){function e(t){Nt(this,e),this.comparator=t?function(e,n){return t(e,n)||Zs.comparator(e.key,n.key)}:function(e,t){return Zs.comparator(e.key,t.key)},this.keyedMap=Wf(),this.sortedSet=new Ac(this.comparator)}return Pt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Mm=function(){function e(){Nt(this,e),this.yu=new Ac(Zs.comparator)}return Pt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Cs():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Fm=function(){function e(t,n,r,i,a,o,u,s){Nt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Pt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Lm.emptySet(n),a,r,i,!0,!1)}}]),e}(),jm=Pt((function e(){Nt(this,e),this.Iu=void 0,this.listeners=[]})),Um=Pt((function e(){Nt(this,e),this.queries=new Bf((function(e){return Jl(e)}),Yl),this.onlineState="Unknown",this.Tu=new Set}));function Vm(e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=J($().mark((function e(t,n){var r,i,a,o,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Os(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new jm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Rm(e.t0,"Initialization of query '".concat(Xl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Gm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Bm.apply(this,arguments)}function zm(e,t){return qm.apply(this,arguments)}function qm(){return qm=J($().mark((function e(t,n){var r,i,a,o,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Os(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Km(e,t){var n,r=Os(e),i=!1,a=Rt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Rt(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Gm(r)}function Wm(e,t,n){var r=Os(e),i=r.queries.get(t);if(i){var a,o=Rt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Gm(e){e.Tu.forEach((function(e){e.next()}))}var Hm=function(){function e(t,n,r){Nt(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Pt(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Rt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Fm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Qm=function(){function e(t,n){Nt(this,e),this.payload=t,this.byteLength=n}return Pt(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),$m=function(){function e(t){Nt(this,e),this.wt=t}return Pt(e,[{key:"Wi",value:function(e){return bh(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Eh(this.wt,e.document,!1):gl.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return mh(e)}}]),e}(),Ym=function(){function e(t,n,r){Nt(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jm(t)}return Pt(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ys.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new $m(this.wt),i=Rt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Rt(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Xf()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=J($().mark((function e(){var t,n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yv(this.localStore,new $m(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Rt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,kv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Xm=Pt((function e(t){Nt(this,e),this.key=t})),Zm=Pt((function e(t){Nt(this,e),this.key=t})),ey=function(){function e(t,n){Nt(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Xf(),this.mutatedKeys=Xf(),this.Lu=tf(t),this.Uu=new Lm(this.Lu)}return Pt(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Mm,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Zl(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cs()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Fm(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Mm,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Xf(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Zm(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Xm(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Xf();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Fm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),ty=Pt((function e(t,n,r){Nt(this,e),this.query=t,this.targetId=n,this.view=r})),ny=Pt((function e(t){Nt(this,e),this.key=t,this.Xu=!1})),ry=function(){function e(t,n,r,i,a,o){Nt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Bf((function(e){return Jl(e)}),Yl),this.ec=new Map,this.nc=new Set,this.sc=new Ac(Zs.comparator),this.ic=new Map,this.rc=new Fp,this.oc={},this.uc=new Map,this.cc=dp.Rn(),this.onlineState="Unknown",this.ac=void 0}return Pt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function iy(e,t){return ay.apply(this,arguments)}function ay(){return ay=J($().mark((function e(t,n){var r,i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jy(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,lv(r.localStore,Ql(n));case 8:return u=e.sent,r.isPrimaryClient&&Yv(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,oy(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t,n,r){return uy.apply(this,arguments)}function uy(){return uy=J($().mark((function e(t,n,r,i){var a,o,u,s,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=J($().mark((function e(t,n,r,i){var a,o,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,dv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ty(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dv(t.localStore,n,!0);case 3:return a=e.sent,o=new ey(n,a.ji),u=o.Ku(a.documents),s=nh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Ty(t,r,c.zu),l=new ty(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function sy(e,t){return cy.apply(this,arguments)}function cy(){return cy=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Os(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Yl(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Jv(r.remoteStore,i.targetId),Iy(r,i.targetId)})).catch(fc);case 9:e.next=14;break;case 11:return Iy(r,i.targetId),e.next=14,fv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t,n){return fy.apply(this,arguments)}function fy(){return fy=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xy(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Os(e),a=Hs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Xf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=qf(),s=Xf();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Rt(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Tf(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Of(c.key,l,yl(l.value.mapValue),wf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Gf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Ac(Ks)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Oy(i,a.changes);case 9:return e.next=11,dm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Rm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),fy.apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return dy=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),e.prev=1,e.next=4,uv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(As(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?As(n.Xu):e.removedDocuments.size>0&&(As(n.Xu),n.Xu=!1))})),e.next=8,Oy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),dy.apply(this,arguments)}function py(e,t,n){var r=Os(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Os(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Rt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Gm(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vy(e,t,n){return my.apply(this,arguments)}function my(){return my=J($().mark((function e(t,n,r){var i,a,o,u,s,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Os(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ac(Zs.comparator)).insert(o,gl.newNoDocument(o,Qs.min())),s=Xf().add(o),c=new th(Qs.min(),new Map,new Dc(Ks),u,s),e.next=9,hy(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Ay(i),e.next=16;break;case 14:return e.next=16,fv(i.localStore,n,!1).then((function(){return Iy(i,n,r)})).catch(fc);case 16:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function yy(e,t){return gy.apply(this,arguments)}function gy(){return gy=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),i=n.batch.batchId,e.prev=1,e.next=4,av(r.localStore,n);case 4:return a=e.sent,Sy(r,i,null),_y(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Oy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gy.apply(this,arguments)}function ky(e,t,n){return by.apply(this,arguments)}function by(){return by=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Os(t),e.prev=1,e.next=4,function(e,t){var n=Os(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return As(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Sy(i,n,r),_y(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Oy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),by.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nm((r=Os(t)).remoteStore)||Ss("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Os(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Rm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),xy.apply(this,arguments)}function _y(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Sy(e,t,n){var r=Os(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Iy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Rt(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Ey(e,t)}))}function Ey(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Jv(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Ay(e))}function Ty(e,t,n){var r,i=Rt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Xm?(e.rc.addReference(a.key,t),Cy(e,a)):a instanceof Zm?(Ss("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Ey(e,a.key)):Cs()}}catch(o){i.e(o)}finally{i.f()}}function Cy(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Ss("SyncEngine","New document in limbo: "+n),e.nc.add(r),Ay(e))}function Ay(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Zs(Ys.fromString(t)),r=e.cc.next();e.ic.set(r,new ny(n)),e.sc=e.sc.insert(n,r),Yv(e.remoteStore,new bd(Ql(ql(n.path)),r,2,Ic.ot))}}function Oy(e,t,n){return Ny.apply(this,arguments)}function Ny(){return Ny=J($().mark((function e(t,n,r){var i,a,o,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Os(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Zp.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=J($().mark((function e(t,n){var r,i,a,o,u,s,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return dc.forEach(n,(function(t){return dc.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return dc.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),gc(e.t0)){e.next=10;break}throw e.t0;case 10:Ss("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Rt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Dy(e,t){return Py.apply(this,arguments)}function Py(){return Py=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Os(t)).currentUser.isEqual(n)){e.next=11;break}return Ss("SyncEngine","User change. New user:",n.toKey()),e.next=5,rv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Ds(Ns.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Oy(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Ry(e,t){var n=Os(e),r=n.ic.get(t);if(r&&r.Xu)return Xf().add(r.key);var i=Xf(),a=n.ec.get(t);if(!a)return i;var o,u=Rt(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Ly(e,t){return My.apply(this,arguments)}function My(){return My=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),e.next=3,dv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Ty(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Fy(e,t){return jy.apply(this,arguments)}function jy(){return jy=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),e.abrupt("return",vv(r.localStore,n).then((function(e){return Oy(r,e)})));case 2:case"end":return e.stop()}}),e)}))),jy.apply(this,arguments)}function Uy(e,t,n,r){return Vy.apply(this,arguments)}function Vy(){return Vy=J($().mark((function e(t,n,r,i){var a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Os(t),e.next=3,function(e,t){var n=Os(e),r=Os(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):dc.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,dm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Sy(a,n,i||null),_y(a,n),function(e,t){Os(Os(e).mutationQueue).In(t)}(a.localStore,n)):Cs();case 11:return e.next=13,Oy(a,o);case 13:e.next=16;break;case 15:Ss("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function By(e,t){return zy.apply(this,arguments)}function zy(){return zy=J($().mark((function e(t,n){var r,i,a,o,u,s,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jy(r=Os(t)),Xy(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,qy(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Am(r.remoteStore,!0);case 9:o=Rt(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Yv(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Iy(r,t),fv(r.localStore,t,!0)})),Jv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,qy(r,c);case 21:return function(e){var t=Os(e);t.ic.forEach((function(e,n){Jv(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Ac(Zs.comparator)}(r),r.ac=!1,e.next=25,Am(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function qy(e,t,n){return Ky.apply(this,arguments)}function Ky(){return Ky=J($().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Os(t),a=[],o=[],u=Rt(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,lv(i.localStore,Ql(f[0]));case 11:l=e.sent,h=Rt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,Ly(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,pv(i.localStore,c);case 36:return y=e.sent,e.next=39,lv(i.localStore,y);case 39:return l=e.sent,e.next=42,oy(i,Wy(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Ky.apply(this,arguments)}function Wy(e){return zl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Gy(e){var t=Os(e);return Os(Os(t.localStore).persistence).Ri()}function Hy(e,t,n,r){return Qy.apply(this,arguments)}function Qy(){return Qy=J($().mark((function e(t,n,r,i){var a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Os(t)).ac){e.next=3;break}return e.abrupt("return",void Ss("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,vv(a.localStore,ef(o[0]));case 10:return u=e.sent,s=th.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Oy(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,fv(a.localStore,n,!0);case 17:return Iy(a,n,i),e.abrupt("break",20);case 19:Cs();case 20:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function $y(e,t,n){return Yy.apply(this,arguments)}function Yy(){return Yy=J($().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Jy(t)).ac){e.next=45;break}a=Rt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Ss("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,pv(i.localStore,u);case 12:return s=e.sent,e.next=15,lv(i.localStore,s);case 15:return c=e.sent,e.next=18,oy(i,Wy(s),c.targetId,!1);case 18:Yv(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Rt(r),e.prev=30,h=$().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,fv(i.localStore,t,!1).then((function(){Jv(i.remoteStore,t),Iy(i,t)})).catch(fc);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Yy.apply(this,arguments)}function Jy(e){var t=Os(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ry.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vy.bind(null,t),t.Zu.Go=Km.bind(null,t.eventManager),t.Zu.lc=Wm.bind(null,t.eventManager),t}function Xy(e){var t=Os(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ky.bind(null,t),t}function Zy(e,t,n){var r=Os(e);(function(){var e=J($().mark((function e(t,n,r){var i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Os(e),r=mh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Jm(i)),a=new Ym(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Oy(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Os(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Es("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var eg=function(){function e(){Nt(this,e),this.synchronizeTabs=!1}return Pt(e,[{key:"initialize",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=jv(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return nv(this.persistence,new ev,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new qp(Wp.Ms,this.wt)}},{key:"dc",value:function(e){return new Ov}},{key:"terminate",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tg=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Pt(n,[{key:"initialize",value:function(){var e=J($().mark((function e(t){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(jt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,Xy(this.yc.syncEngine);case 6:return e.next=8,dm(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return nv(this.persistence,new ev,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new bp(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Sc(t,this.persistence);return new _c(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=Xp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ap.withCacheSize(this.cacheSizeBytes):ap.DEFAULT;return new $p(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mv(),Fv(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Ov}}]),n}(eg),ng=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Pt(n,[{key:"initialize",value:function(){var e=J($().mark((function e(t){var r,i=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(jt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Av,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Uy.bind(null,r),Or:Hy.bind(null,r),Mr:$y.bind(null,r),Ri:Gy.bind(null,r),Nr:Fy.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,By(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Mv();if(!Av.V(t))throw new Ds(Ns.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Av(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(tg),rg=function(){function e(){Nt(this,e)}return Pt(e,[{key:"initialize",value:function(){var e=J($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return py(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dy.bind(null,this.syncEngine),e.next=12,Am(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Um}},{key:"createDatastore",value:function(e){var t,n=jv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Lv(t));return function(e,t,n,r){return new qv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return py(o.syncEngine,e,0)},a=Dv.V()?new Dv:new Nv,new Wv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ry(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Os(t),Ss("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Qv(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return J($().mark((function r(){var i;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var ag=function(){function e(t){Nt(this,e),this.observer=t,this.muted=!1}return Pt(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),og=function(){function e(t,n){var r=this;Nt(this,e),this.Ec=t,this.wt=n,this.metadata=new Ps,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Pt(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=J($().mark((function e(){var t,n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Qm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=J($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=J($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ug=function(){function e(t){Nt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Pt(e,[{key:"lookup",value:function(){var e=J($().mark((function e(t){var n,r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ds(Ns.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=J($().mark((function e(t,n){var r,i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),i=_h(r.wt)+"/documents",a={documents:n.map((function(e){return kh(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Th(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());As(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=J($().mark((function e(){var t,n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Zs.fromPath(t);n.mutations.push(new Ff(r,n.precondition(r)))})),e.next=7,function(){var e=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Os(t),i=_h(r.wt)+"/documents",a={writes:n.map((function(e){return Ch(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Cs();t=Qs.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ds(Ns.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wf.updateTime(t):wf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qs.min()))throw new Ds(Ns.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wf.updateTime(t)}return wf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),sg=function(){function e(t,n,r,i,a){Nt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Uv(this.asyncQueue,"transaction_retry")}return Pt(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(J($().mark((function t(){var n,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ug(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Gc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Uf(t)}return!1}}]),e}(),cg=function(){function e(t,n,r,i){var a=this;Nt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bs.UNAUTHENTICATED,this.clientId=qs.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ss("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ss("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Pt(e,[{key:"getConfiguration",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ds(Ns.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(J($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Rm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ss("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,rv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(e,t){return dg.apply(this,arguments)}function dg(){return dg=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,pg(t);case 3:return r=e.sent,Ss("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Tm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Tm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e){return vg.apply(this,arguments)}function vg(){return vg=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ss("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,lg(t,new eg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function mg(e){return yg.apply(this,arguments)}function yg(){return yg=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ss("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,hg(t,new rg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function gg(e){return pg(e).then((function(e){return e.persistence}))}function kg(e){return pg(e).then((function(e){return e.localStore}))}function bg(e){return mg(e).then((function(e){return e.remoteStore}))}function wg(e){return mg(e).then((function(e){return e.syncEngine}))}function xg(e){return _g.apply(this,arguments)}function _g(){return _g=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=iy.bind(null,n.syncEngine),r.onUnlisten=sy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function Sg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function i(){return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ag({next:function(a){t.enqueueAndForget((function(){return zm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ds(Ns.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ds(Ns.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Hm(ql(n.path),a,{includeMetadataChanges:!0,Du:!0});return Vm(e,o)},i.next=3,xg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ig(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function i(){return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ag({next:function(n){t.enqueueAndForget((function(){return zm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ds(Ns.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Hm(n,a,{includeMetadataChanges:!0,Du:!0});return Vm(e,o)},i.next=3,xg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Eg=new Map;function Tg(e,t,n){if(!n)throw new Ds(Ns.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Cg(e,t,n,r){if(!0===t&&!0===r)throw new Ds(Ns.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ag(e){if(!Zs.isDocumentKey(e))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Og(e){if(Zs.isDocumentKey(e))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ng(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Cs()}function Dg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ds(Ns.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ng(e);throw new Ds(Ns.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Pg(e,t){if(t<=0)throw new Ds(Ns.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Rg=function(){function e(t){var n;if(Nt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ds(Ns.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ds(Ns.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Cg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Pt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Lg=function(){function e(t,n,r){Nt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rg({}),this._settingsFrozen=!1,t instanceof Wc?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ds(Ns.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(e.options.projectId)}(t))}return Pt(e,[{key:"app",get:function(){if(!this._app)throw new Ds(Ns.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ds(Ns.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ls;switch(e.type){case"gapi":var t=e.client;return As(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Us(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ds(Ns.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Eg.get(e);t&&(Ss("ComponentProvider","Removing Datastore"),Eg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Mg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Dg(e,Lg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Es("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=bs.MOCK_USER;else{o=Yt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ds(Ns.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bs(s)}e._authCredentials=new Ms(new Rs(o,u))}}var Fg=function(){function e(t,n,r){Nt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Pt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ug(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),jg=function(){function e(t,n,r){Nt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Pt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ug=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,e,r,ql(i)))._path=i,a.type="collection",a}return Pt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Fg(this.firestore,null,new Zs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(jg);function Vg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gn(e),Tg("collection","path",t),e instanceof Lg){var a=Ys.fromString.apply(Ys,[t].concat(r));return Og(a),new Ug(e,null,a)}if(!(e instanceof Fg||e instanceof Ug))throw new Ds(Ns.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ys.fromString.apply(Ys,[t].concat(r)));return Og(o),new Ug(e.firestore,null,o)}function Bg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gn(e),1===arguments.length&&(t=qs.I()),Tg("doc","path",t),e instanceof Lg){var a=Ys.fromString.apply(Ys,[t].concat(r));return Ag(a),new Fg(e,null,new Zs(a))}if(!(e instanceof Fg||e instanceof Ug))throw new Ds(Ns.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ys.fromString.apply(Ys,[t].concat(r)));return Ag(o),new Fg(e.firestore,e instanceof Ug?e.converter:null,new Zs(o))}function zg(e,t){return e=gn(e),t=gn(t),(e instanceof Fg||e instanceof Ug)&&(t instanceof Fg||t instanceof Ug)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function qg(e,t){return e=gn(e),t=gn(t),e instanceof jg&&t instanceof jg&&e.firestore===t.firestore&&Yl(e._query,t._query)&&e.converter===t.converter}var Kg=function(){function e(){var t=this;Nt(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Uv(this,"async_queue_retry"),this.Kc=function(){var e=Fv();e&&Ss("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Fv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Pt(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Fv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Ps;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=J($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),gc(e.t0)){e.next=12;break}throw e.t0;case 12:Ss("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Is("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Pm.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Cs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Rt(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Rt(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Wg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Rt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Gg=function(){function e(){Nt(this,e),this._progressObserver={},this._taskCompletionResolver=new Ps,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Pt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Hg=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Kg,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Pt(n,[{key:"_terminate",value:function(){return this._firestoreClient||$g(this),this._firestoreClient.terminate()}}]),n}(Lg);function Qg(e){return e._firestoreClient||$g(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $g(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Kc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new cg(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Yg(e,t,n){var r=new Ps;return e.asyncQueue.enqueue(J($().mark((function i(){var a;return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lg(e,n);case 3:return i.next=5,hg(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ns.FAILED_PRECONDITION||e.code===Ns.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Jg(e){return function(e){return e.asyncQueue.enqueue(J($().mark((function t(){var n,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gg(e);case 2:return n=t.sent,t.next=5,bg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Os(e);return t.lu.delete(0),Gv(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Qg(e=Dg(e,Hg)))}function Xg(e){return function(e){return e.asyncQueue.enqueue(J($().mark((function t(){var n,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gg(e);case 2:return n=t.sent,t.next=5,bg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Os(t)).lu.add(0),e.next=4,Qv(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Qg(e=Dg(e,Hg)))}function Zg(e,t){var n=Qg(e=Dg(e,Hg)),r=new Gg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new og(e,t)}(function(e,t){if(e instanceof Uint8Array)return ig(e,t);if(e instanceof ArrayBuffer)return ig(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,jv(t));e.asyncQueue.enqueueAndForget(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zy,t.next=3,wg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ek(e,t){return function(e,t){return e.asyncQueue.enqueue(J($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Os(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,kg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Qg(e=Dg(e,Hg)),t).then((function(t){return t?new jg(e,null,t.query):null}))}function tk(e){if(e._initialized||e._terminated)throw new Ds(Ns.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nk=function(){function e(){Nt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xs(n)}return Pt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var rk=function(){function e(t){Nt(this,e),this._byteString=t}return Pt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mc.fromBase64String(t))}catch(t){throw new Ds(Ns.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mc.fromUint8Array(t))}}]),e}(),ik=Pt((function e(t){Nt(this,e),this._methodName=t})),ak=function(){function e(t,n){if(Nt(this,e),!isFinite(t)||t<-90||t>90)throw new Ds(Ns.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ds(Ns.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Pt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ks(this._lat,e._lat)||Ks(this._long,e._long)}}]),e}(),ok=/^__.*__$/,uk=function(){function e(t,n,r){Nt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Of(e,this.data,this.fieldMask,t,this.fieldTransforms):new Af(e,this.data,t,this.fieldTransforms)}}]),e}(),sk=function(){function e(t,n,r){Nt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pt(e,[{key:"toMutation",value:function(e,t){return new Of(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ck(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cs()}}var lk=function(){function e(t,n,r,i,a,o){Nt(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Pt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Ok(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(ck(this.Zc)&&ok.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),fk=function(){function e(t,n,r){Nt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||jv(t)}return Pt(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new lk({Zc:e,methodName:t,ca:n,path:Xs.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function hk(e){var t=e._freezeSettings(),n=jv(e._databaseId);return new fk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Ek("Data must be an object, but it was:",o,r);var u,s,c=Sk(r,o);if(a.merge)u=new Lc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Rt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Tk(t,d,n);if(!o.contains(p))throw new Ds(Ns.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Nk(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Lc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new uk(new ml(c),u,s)}var pk=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ik);function vk(e,t,n){return new lk({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var mk=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"_toFieldTransform",value:function(e){return new kf(e.path,new ff)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ik),yk=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e)).ha=r,i}return Pt(n,[{key:"_toFieldTransform",value:function(e){var t=vk(this,e,!0),n=this.ha.map((function(e){return _k(e,t)})),r=new hf(n);return new kf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ik),gk=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e)).ha=r,i}return Pt(n,[{key:"_toFieldTransform",value:function(e){var t=vk(this,e,!0),n=this.ha.map((function(e){return _k(e,t)})),r=new pf(n);return new kf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ik),kk=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e)).la=r,i}return Pt(n,[{key:"_toFieldTransform",value:function(e){var t=new mf(e.wt,of(e.wt,this.la));return new kf(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ik);function bk(e,t,n,r){var i=e.aa(1,t,n);Ek("Data must be an object, but it was:",i,r);var a=[],o=ml.empty();Tc(r,(function(e,r){var u=Ak(t,e,n);r=gn(r);var s=i.ia(u);if(r instanceof pk)a.push(u);else{var c=_k(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Lc(a);return new sk(o,u,i.fieldTransforms)}function wk(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Tk(t,r,n)],s=[i];if(a.length%2!=0)throw new Ds(Ns.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Tk(t,a[c])),s.push(a[c+1]);for(var l=[],f=ml.empty(),h=u.length-1;h>=0;--h)if(!Nk(l,u[h])){var d=u[h],p=s[h];p=gn(p);var v=o.ia(d);if(p instanceof pk)l.push(d);else{var m=_k(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Lc(l);return new sk(f,y,o.fieldTransforms)}function xk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _k(n,e.aa(r?4:3,t))}function _k(e,t){if(Ik(e=gn(e)))return Ek("Unsupported field value:",t,e),Sk(e,t);if(e instanceof ik)return function(e,t){if(!ck(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Rt(e);try{for(a.s();!(n=a.n()).done;){var o=_k(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return of(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hs.fromDate(e);return{timestampValue:dh(t.wt,n)}}if(e instanceof Hs){var r=new Hs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dh(t.wt,r)}}if(e instanceof ak)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rk)return{bytesValue:ph(t.wt,e._byteString)};if(e instanceof Fg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:yh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Ng(e)))}(e,t)}function Sk(e,t){var n={};return Cc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tc(e,(function(e,r){var i=_k(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ik(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hs||e instanceof ak||e instanceof rk||e instanceof Fg||e instanceof ik)}function Ek(e,t,n){if(!Ik(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ng(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Tk(e,t,n){if((t=gn(t))instanceof nk)return t._internalPath;if("string"==typeof t)return Ak(e,t);throw Ok("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ck=new RegExp("[~\\*/\\[\\]]");function Ak(e,t,n){if(t.search(Ck)>=0)throw Ok("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return zt(nk,bn(t.split(".")))._internalPath}catch(r){throw Ok("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ok(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ds(Ns.INVALID_ARGUMENT,u+e+s)}function Nk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Dk=function(){function e(t,n,r,i,a){Nt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Pt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Fg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Rk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Pk=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(){return ii(jt(n.prototype),"data",this).call(this)}}]),n}(Dk);function Rk(e,t){return"string"==typeof t?Ak(e,t):t instanceof nk?t._internalPath:t._delegate._internalPath}var Lk=function(){function e(t,n){Nt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Pt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Mk=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a,o,u){var s;return Nt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Pt(n,[{key:"exists",value:function(){return ii(jt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Fk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Rk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Dk),Fk=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ii(jt(n.prototype),"data",this).call(this,e)}}]),n}(Mk),jk=function(){function e(t,n,r,i){Nt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lk(i.hasPendingWrites,i.fromCache),this.query=r}return Pt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Fk(n._firestore,n._userDataWriter,r.key,r,new Lk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ds(Ns.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Fk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Fk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Uk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Uk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cs()}}function Vk(e,t){return e instanceof Mk&&t instanceof Mk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jk&&t instanceof jk&&e._firestore===t._firestore&&qg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Bk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ds(Ns.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zk=Pt((function e(){Nt(this,e)}));function qk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Kk=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Pt(n,[{key:"_apply",value:function(e){var t=hk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){tb(o,a);var s,c=[],l=Rt(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(eb(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=eb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||tb(o,a),u=xk(n,"where",o,"in"===a||"not-in"===a);var h=Tl.create(i,a,u);return function(e,t){if(t.ht()){var n=Wl(e);if(null!==n&&!n.isEqual(t.field))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Kl(e);null!==r&&nb(e,t.field,r)}var i=function(e,t){var n,r=Rt(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ds(Ns.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ds(Ns.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new jg(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(zk);var Wk=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Pt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fl(t,n);return function(e,t){if(null===Kl(e)){var n=Wl(e);null!==n&&nb(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new jg(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(zk);var Gk=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Pt(n,[{key:"_apply",value:function(e){return new jg(e.firestore,e.converter,$l(e._query,this.ma,this.ga))}}]),n}(zk);var Hk=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Pt(n,[{key:"_apply",value:function(e){var t=Zk(e,this.type,this.ya,this.pa);return new jg(e.firestore,e.converter,function(e,t){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(zk);function Qk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hk("startAt",t,!0)}function $k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hk("startAfter",t,!1)}var Yk=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Pt(n,[{key:"_apply",value:function(e){var t=Zk(e,this.type,this.ya,this.pa);return new jg(e.firestore,e.converter,function(e,t){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(zk);function Jk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yk("endBefore",t,!1)}function Xk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yk("endAt",t,!0)}function Zk(e,t,n,r){if(n[0]=gn(n[0]),n[0]instanceof Dk)return function(e,t,n,r,i){if(!r)throw new Ds(Ns.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Rt(Hl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(il(t,r.key));else{var c=r.data.field(s.field);if(Bc(c))throw new Ds(Ns.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ml(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=hk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ds(Ns.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Gl(e)&&-1!==c.indexOf("/"))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ys.fromString(c));if(!Zs.isDocumentKey(l))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Zs(l);u.push(il(t,f))}else{var h=xk(n,r,c);u.push(h)}}return new Ml(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function eb(e,t,n){if("string"==typeof(n=gn(n))){if(""===n)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gl(t)&&-1!==n.indexOf("/"))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ys.fromString(n));if(!Zs.isDocumentKey(r))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return il(e,new Zs(r))}if(n instanceof Fg)return il(e,n._key);throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ng(n),"."))}function tb(e,t){if(!Array.isArray(e)||0===e.length)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function nb(e,t,n){if(!n.isEqual(t))throw new Ds(Ns.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var rb={maxAttempts:5},ib=function(){function e(){Nt(this,e)}return Pt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cs()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Tc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ak(Uc(e.latitude),Uc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jc(e);return new Hs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ys.fromString(e);As(Bh(n));var r=new Wc(n.get(1),n.get(3)),i=new Zs(n.popFirst(5));return r.isEqual(t)||Is("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ab(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ob=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new rk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fg(this.firestore,null,t)}}]),n}(ib),ub=function(){function e(t,n){Nt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hk(t)}return Pt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=sb(e,this._firestore),i=ab(r.converter,t,n),a=dk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,wf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=sb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gn(t))||t instanceof nk?wk(this._dataReader,"WriteBatch.update",i._key,t,n,o):bk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,wf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=sb(e,this._firestore);return this._mutations=this._mutations.concat(new Mf(t._key,wf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ds(Ns.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function sb(e,t){if((e=gn(e)).firestore!==t)throw new Ds(Ns.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var cb=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new rk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fg(this.firestore,null,t)}}]),n}(ib);function lb(e){e=Dg(e,Fg);var t=Dg(e.firestore,Hg),n=Qg(t),r=new cb(t);return function(e,t){var n=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Os(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ds(Ns.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Rm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,kg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Mk(t,r,e._key,n,new Lk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function fb(e){e=Dg(e,jg);var t=Dg(e.firestore,Hg),n=Qg(t),r=new cb(t);return Bk(e._query),Ig(n,e._query).then((function(n){return new jk(t,r,e,n)}))}function hb(e){e=Dg(e,jg);var t=Dg(e.firestore,Hg),n=Qg(t),r=new cb(t);return function(e,t){var n=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J($().mark((function e(t,n,r){var i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dv(t,n,!0);case 3:i=e.sent,a=new ey(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Rm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,kg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jk(t,r,e,n)}))}function db(e,t,n){e=Dg(e,Fg);var r=Dg(e.firestore,Hg),i=ab(e.converter,t,n);return yb(r,[dk(hk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wf.none())])}function pb(e,t,n){e=Dg(e,Fg);for(var r=Dg(e.firestore,Hg),i=hk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return yb(r,[("string"==typeof(t=gn(t))||t instanceof nk?wk(i,"updateDoc",e._key,t,n,o):bk(i,"updateDoc",e._key,t)).toMutation(e._key,wf.exists(!0))])}function vb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=gn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Wg(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Wg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Fg)l=Dg(e.firestore,Hg),f=ql(e._key.path),c={next:function(t){n[s]&&n[s](gb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Dg(e,jg);l=Dg(p.firestore,Hg),f=p._query;var v=new cb(l);c={next:function(e){n[s]&&n[s](new jk(l,v,p,e))},error:n[s+1],complete:n[s+2]},Bk(e._query)}return function(e,t,n,r){var i=new ag(r),a=new Hm(t,i,n);return e.asyncQueue.enqueueAndForget(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Vm,t.next=3,xg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zm,t.next=3,xg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Qg(l),f,h,c)}function mb(e,t){return function(e,t){var n=new ag(t);return e.asyncQueue.enqueueAndForget(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Os(e).Tu.add(t),t.next()},t.next=3,xg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Os(e).Tu.delete(t)},t.next=3,xg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Qg(e=Dg(e,Hg)),Wg(t)?t:{next:t})}function yb(e,t){return function(e,t){var n=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ly,r.next=3,wg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Qg(e),t)}function gb(e,t,n){var r=n.docs.get(t._key),i=new cb(e);return new Mk(e,i,t._key,r,new Lk(n.hasPendingWrites,n.fromCache),t.converter)}var kb=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Pt(n,[{key:"get",value:function(e){var t=this,r=sb(e,this._firestore),i=new cb(this._firestore);return ii(jt(n.prototype),"get",this).call(this,e).then((function(e){return new Mk(t._firestore,i,r._key,e._document,new Lk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Nt(this,e),this._firestore=t,this._transaction=n,this._dataReader=hk(t)}return Pt(e,[{key:"get",value:function(e){var t=this,n=sb(e,this._firestore),r=new ob(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Cs();var i=e[0];if(i.isFoundDocument())return new Dk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Dk(t._firestore,r,n._key,null,n.converter);throw Cs()}))}},{key:"set",value:function(e,t,n){var r=sb(e,this._firestore),i=ab(r.converter,t,n),a=dk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=sb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gn(t))||t instanceof nk?wk(this._dataReader,"Transaction.update",i._key,t,n,o):bk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=sb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function bb(e,t,n){e=Dg(e,Hg);var r=Object.assign(Object.assign({},rb),n);return function(e){if(e.maxAttempts<1)throw new Ds(Ns.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function i(){var a;return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return mg(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new sg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Qg(e),(function(n){return t(new kb(e,n))}),r)}function wb(){return new pk("deleteField")}function xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yk("arrayUnion",t)}function _b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ws=e}(mr),cr(new wn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Hg(i,new Fs(e.getProvider("auth-internal")),new Bs(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),xr(ks,"3.4.11",e),xr(ks,"3.4.11","esm2017")}();var Sb=i.useLayoutEffect,Ib=function(e,t){"function"!==typeof e?e.current=t:e(t)},Eb=function(e,t){var n=(0,i.useRef)();return(0,i.useCallback)((function(r){e.current=r,n.current&&Ib(n.current,null),n.current=t,t&&Ib(t,r)}),[t])},Tb={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Cb=function(e){Object.keys(Tb).forEach((function(t){e.style.setProperty(t,Tb[t],"important")}))},Ab=null;var Ob=function(){},Nb=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Db=!!document.documentElement.currentStyle,Pb=function(e){var t=function(e){var t=i.useRef(e);return Sb((function(){t.current=e})),t}(e);(0,i.useLayoutEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},Rb=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,a=e.minRows,o=e.onChange,u=void 0===o?Ob:o,s=e.onHeightChange,c=void 0===s?Ob:s,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var h=void 0!==l.value,d=(0,i.useRef)(null),p=Eb(d,t),v=(0,i.useRef)(0),m=(0,i.useRef)(),y=function(){var e=d.current,t=n&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,Nb.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(Db&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var i=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Ab||((Ab=document.createElement("textarea")).setAttribute("tabindex","-1"),Ab.setAttribute("aria-hidden","true"),Cb(Ab)),null===Ab.parentNode&&document.body.appendChild(Ab);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,u=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;Ab.style[t]=o[t]})),Cb(Ab),Ab.value=t;var s=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(Ab,e);Ab.value="x";var c=Ab.scrollHeight-i,l=c*n;"border-box"===u&&(l=l+i+a),s=Math.max(l,s);var f=c*r;return"border-box"===u&&(f=f+i+a),[s=Math.min(f,s),c]}(t,e.value||e.placeholder||"x",a,r),o=i[0],u=i[1];v.current!==o&&(v.current=o,e.style.setProperty("height",o+"px","important"),c(o,{rowHeight:u}))}};return(0,i.useLayoutEffect)(y),Pb(y),(0,i.createElement)("textarea",f({},l,{onChange:function(e){h||y(),u(e)},ref:p}))},Lb=(0,i.forwardRef)(Rb);function Mb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Fb;Object.create;var jb="facebook.com",Ub="github.com",Vb="google.com",Bb="password",zb="twitter.com",qb="EMAIL_SIGNIN",Kb="PASSWORD_RESET",Wb="RECOVER_EMAIL",Gb="REVERT_SECOND_FACTOR_ADDITION",Hb="VERIFY_AND_CHANGE_EMAIL",Qb="VERIFY_EMAIL";function $b(){return Ot({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Yb=function(){var e;return Ot(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ot(e,"argument-error",""),Ot(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ot(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ot(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ot(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ot(e,"cordova-not-ready","Cordova framework is not ready."),Ot(e,"cors-unsupported","This browser is not supported."),Ot(e,"credential-already-in-use","This credential is already associated with a different user account."),Ot(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ot(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ot(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ot(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ot(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ot(e,"email-already-in-use","The email address is already in use by another account."),Ot(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ot(e,"expired-action-code","The action code has expired."),Ot(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ot(e,"internal-error","An internal AuthError has occurred."),Ot(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ot(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ot(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ot(e,"invalid-auth-event","An internal AuthError has occurred."),Ot(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ot(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ot(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ot(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ot(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ot(e,"invalid-email","The email address is badly formatted."),Ot(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ot(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ot(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ot(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ot(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ot(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ot(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ot(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ot(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ot(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ot(e,"wrong-password","The password is invalid or the user does not have a password."),Ot(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ot(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ot(e,"invalid-provider-id","The specified provider ID is invalid."),Ot(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ot(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ot(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ot(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ot(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ot(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ot(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ot(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ot(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ot(e,"missing-continue-uri","A continue URL must be provided in the request."),Ot(e,"missing-iframe-start","An internal AuthError has occurred."),Ot(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ot(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ot(e,"missing-multi-factor-info","No second factor identifier is provided."),Ot(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ot(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ot(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ot(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ot(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ot(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ot(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ot(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ot(e,"no-auth-event","An internal AuthError has occurred."),Ot(e,"no-such-provider","User was not linked to an account with the given provider."),Ot(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ot(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ot(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ot(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ot(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ot(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ot(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ot(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ot(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ot(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ot(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ot(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ot(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ot(e,"timeout","The operation has timed out."),Ot(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ot(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ot(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ot(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ot(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ot(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ot(e,"unverified-email","The operation requires a verified email."),Ot(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ot(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ot(e,"user-disabled","The user account has been disabled by an administrator."),Ot(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ot(e,"user-signed-out",""),Ot(e,"weak-password","The password must be 6 characters long or more."),Ot(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ot(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Jb=$b,Xb=new on("auth","Firebase",$b()),Zb=new Dn("@firebase/auth");function ew(e){if(Zb.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zb.error.apply(Zb,["Auth (".concat(mr,"): ").concat(e)].concat(n))}}function tw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw aw.apply(void 0,[e].concat(n))}function nw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return aw.apply(void 0,[e].concat(n))}function rw(e,t,n){var r=Object.assign(Object.assign({},Jb()),Ot({},t,n));return new on("auth","Firebase",r).create(t,{appName:e.name})}function iw(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&tw(e,"argument-error"),rw(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function aw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=bn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(bn(o)))}return Xb.create.apply(Xb,[e].concat(n))}function ow(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw aw.apply(void 0,[t].concat(r))}}function uw(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ew(t),new Error(t)}function sw(e,t){e||uw(t)}var cw=new Map;function lw(e){sw(e instanceof Function,"Expected a class definition");var t=cw.get(e);return t?(sw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cw.set(e,t),t)}function fw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hw(){return"http:"===dw()||"https:"===dw()}function dw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var pw=function(){function e(t,n){Nt(this,e),this.shortDelay=t,this.longDelay=n,sw(n>t,"Short delay should be less than long delay!"),this.isMobile=Xt()||tn()}return Pt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hw()||en()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function vw(e,t){sw(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var mw=function(){function e(){Nt(this,e)}return Pt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void uw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void uw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void uw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),yw=(Ot(Fb={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ot(Fb,"MISSING_CUSTOM_TOKEN","internal-error"),Ot(Fb,"INVALID_IDENTIFIER","invalid-email"),Ot(Fb,"MISSING_CONTINUE_URI","internal-error"),Ot(Fb,"INVALID_PASSWORD","wrong-password"),Ot(Fb,"MISSING_PASSWORD","internal-error"),Ot(Fb,"EMAIL_EXISTS","email-already-in-use"),Ot(Fb,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ot(Fb,"INVALID_IDP_RESPONSE","invalid-credential"),Ot(Fb,"INVALID_PENDING_TOKEN","invalid-credential"),Ot(Fb,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ot(Fb,"MISSING_REQ_TYPE","internal-error"),Ot(Fb,"EMAIL_NOT_FOUND","user-not-found"),Ot(Fb,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ot(Fb,"EXPIRED_OOB_CODE","expired-action-code"),Ot(Fb,"INVALID_OOB_CODE","invalid-action-code"),Ot(Fb,"MISSING_OOB_CODE","internal-error"),Ot(Fb,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ot(Fb,"INVALID_ID_TOKEN","invalid-user-token"),Ot(Fb,"TOKEN_EXPIRED","user-token-expired"),Ot(Fb,"USER_NOT_FOUND","user-token-expired"),Ot(Fb,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ot(Fb,"INVALID_CODE","invalid-verification-code"),Ot(Fb,"INVALID_SESSION_INFO","invalid-verification-id"),Ot(Fb,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ot(Fb,"MISSING_SESSION_INFO","missing-verification-id"),Ot(Fb,"SESSION_EXPIRED","code-expired"),Ot(Fb,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ot(Fb,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ot(Fb,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ot(Fb,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ot(Fb,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ot(Fb,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ot(Fb,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ot(Fb,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ot(Fb,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ot(Fb,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ot(Fb,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Fb),gw=new pw(3e4,6e4);function kw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bw(e,t,n,r){return ww.apply(this,arguments)}function ww(){return ww=J($().mark((function e(t,n,r,i){var a,o=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",xw(t,a,J($().mark((function e(){var a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=hn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",mw.fetch()(Ew(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function xw(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=J($().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},yw),n),e.prev=2,a=new Tw(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Cw(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Cw(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Cw(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Cw(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw rw(t,p,d);case 34:tw(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof an)){e.next=41;break}throw e.t0;case 41:tw(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),_w.apply(this,arguments)}function Sw(e,t,n,r){return Iw.apply(this,arguments)}function Iw(){return Iw=J($().mark((function e(t,n,r,i){var a,o,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,bw(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&tw(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Ew(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vw(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Tw=function(){function e(t){var n=this;Nt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(nw(n.auth,"network-request-failed"))}),gw.get())}))}return Pt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Cw(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=nw(e,t,r);return i.customData._tokenResponse=n,i}function Aw(e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Nw(e,t){return Dw.apply(this,arguments)}function Dw(){return Dw=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Dw.apply(this,arguments)}function Pw(e,t){return Rw.apply(this,arguments)}function Rw(){return Rw=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Lw(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Mw(){return Mw=J($().mark((function e(t){var n,r,i,a,o,u,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=gn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ow((a=jw(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Lw(Fw(a.auth_time)),issuedAtTime:Lw(Fw(a.iat)),expirationTime:Lw(Fw(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}function Fw(e){return 1e3*Number(e)}function jw(e){var t,n=l(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ew("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ht(i);return o?JSON.parse(o):(ew("Failed to decode base64 JWT payload"),null)}catch(u){return ew("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Uw(e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=J($().mark((function e(t,n){var r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof an&&Bw(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vw.apply(this,arguments)}function Bw(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var zw=function(){function e(t){Nt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Pt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qw=function(){function e(t,n){Nt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Pt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Lw(this.lastLoginAt),this.creationTime=Lw(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Kw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=J($().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Uw(t,Pw(r,{idToken:i}));case 6:ow(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Qw(o.providerUserInfo):[],s=Hw(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new qw(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Gw(){return(Gw=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gn(t),e.next=3,Kw(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hw(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(bn(n),bn(t))}function Qw(e){return e.map((function(e){var t=e.providerId,n=Mb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $w(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xw(t,{},J($().mark((function e(){var r,i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ew(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",mw.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}var Jw=function(){function e(){Nt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Pt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ow(e.idToken,"internal-error"),ow("undefined"!==typeof e.idToken,"internal-error"),ow("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=jw(e);return ow(t,"internal-error"),ow("undefined"!==typeof t.exp,"internal-error"),ow("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=J($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ow(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return uw("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ow("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ow("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ow("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Xw(e,t){ow("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Zw=function(){function e(t){Nt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Mb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?bn(a.providerData):[],this.metadata=new qw(a.createdAt||void 0,a.lastLoginAt||void 0)}return Pt(e,[{key:"getIdToken",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ow(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Mw.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Gw.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ow(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ow(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=J($().mark((function e(t){var n,r,i=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Kw(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Uw(this,Aw(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ow(k&&_,t,"internal-error");var S=Jw.fromJSON(this.name,_);ow("string"===typeof k,t,"internal-error"),Xw(f,t.name),Xw(h,t.name),ow("boolean"===typeof b,t,"internal-error"),ow("boolean"===typeof w,t,"internal-error"),Xw(d,t.name),Xw(p,t.name),Xw(v,t.name),Xw(m,t.name),Xw(y,t.name),Xw(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=J($().mark((function t(n,r){var i,a,o,u=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Jw).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Kw(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ex=function(){function e(){Nt(this,e),this.type="NONE",this.storage={}}return Pt(e,[{key:"_isAvailable",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ex.type="NONE";var tx=ex;function nx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var rx=function(){function e(t,n,r){Nt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=nx(this.userKey,a.apiKey,o),this.fullPersistenceKey=nx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Pt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Zw._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=J($().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(lw(tx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||lw(tx),u=nx(i,n.config.apiKey,n.name),s=null,c=Rt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Zw._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ix(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ax(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lx(t))return"Blackberry";if(fx(t))return"Webos";if(ox(t))return"Safari";if((t.includes("chrome/")||ux(t))&&!t.includes("edge/"))return"Chrome";if(cx(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ax(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/firefox\//i.test(e)}function ox(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ux(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/crios\//i.test(e)}function sx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/iemobile/i.test(e)}function cx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/android/i.test(e)}function lx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/blackberry/i.test(e)}function fx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/webos/i.test(e)}function hx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/iphone|ipad|ipod/i.test(e)}function dx(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return hx(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function px(){return nn()&&10===document.documentMode}function vx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return hx(e)||cx(e)||fx(e)||lx(e)||/windows phone/i.test(e)||sx(e)}function mx(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ix(Jt());break;case"Worker":t="".concat(ix(Jt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mr,"/").concat(r)}var yx=function(){function e(t){Nt(this,e),this.auth=t,this.queue=[]}return Pt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=J($().mark((function e(t){var n,r,i,a,o,u,s,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Rt(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Rt(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(ve){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gx=function(){function e(t,n,r){Nt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bx(this),this.idTokenSubscription=new bx(this),this.beforeStateQueue=new yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Pt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=lw(t)),this._initializationPromise=this.queue(J($().mark((function r(){var i,a;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,rx.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=J($().mark((function e(t){var n,r,i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ow(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kw(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gn(t):null)&&ow(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=J($().mark((function e(t){var n,r=this,i=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ow(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(J($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(lw(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new on("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ow(n=t&&lw(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,rx.create(this,[lw(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=J($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ow(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ow(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mx(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=J($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ot({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kx(e){return gn(e)}var bx=function(){function e(t){var n=this;Nt(this,e),this.auth=t,this.observer=null,this.addObserver=vn((function(e){return n.observer=e}))}return Pt(e,[{key:"next",get:function(){return ow(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wx(e,t,n){var r=kx(e);ow(r._canInitEmulator,r,"emulator-config-failed"),ow(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=xx(t),o=function(e){var t=xx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:_x(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:_x(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function xx(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _x(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Sx=function(){function e(t,n){Nt(this,e),this.providerId=t,this.signInMethod=n}return Pt(e,[{key:"toJSON",value:function(){return uw("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return uw("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return uw("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return uw("not implemented")}}]),e}();function Ix(e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:resetPassword",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Tx(e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Ax(e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:update",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Nx(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithPassword",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Px(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:sendOobCode",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Px(t,n));case 1:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Fx(e,t){return jx.apply(this,arguments)}function jx(){return jx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Px(t,n));case 1:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Px(t,n));case 1:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Bx(e,t){return zx.apply(this,arguments)}function zx(){return zx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Px(t,n));case 1:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithEmailLink",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Wx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithEmailLink",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}var Hx=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Nt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Pt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Nx(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qx(t,{email:this._email,oobCode:this._password}));case 5:tw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Tx(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:tw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Sx);function Qx(e,t){return $x.apply(this,arguments)}function $x(){return $x=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithIdp",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}var Yx=function(e){Ft(n,e);var t=Bt(n);function n(){var e;return Nt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Pt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qx(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Mb(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Sx);function Jx(e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:sendVerificationCode",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Zx(){return Zx=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithPhoneNumber",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function e_(){return e_=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sw(t,"POST","/v1/accounts:signInWithPhoneNumber",kw(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Cw(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}var t_=Ot({},"USER_NOT_FOUND","user-not-found");function n_(){return n_=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithPhoneNumber",kw(t,r),t_));case 2:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}var r_=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Pt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Zx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return e_.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return n_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Sx);var i_=function(){function e(t){var n,r,i,a,o,u;Nt(this,e);var s=dn(pn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ow(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Pt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=dn(pn(e)).link,n=t?dn(pn(t)).deep_link_id:null,r=dn(pn(e)).deep_link_id;return(r?dn(pn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Eg){return null}}}]),e}();var a_=function(){function e(){Nt(this,e),this.providerId=e.PROVIDER_ID}return Pt(e,null,[{key:"credential",value:function(e,t){return Hx._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=i_.parseLink(t);return ow(n,"argument-error"),Hx._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();a_.PROVIDER_ID="password",a_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var o_=function(){function e(t){Nt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Pt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),u_=function(e){Ft(n,e);var t=Bt(n);function n(){var e;return Nt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Pt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return bn(this.scopes)}}]),n}(o_),s_=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ow(e.idToken||e.accessToken,"argument-error"),Yx._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ow("providerId"in t&&"signInMethod"in t,"argument-error"),Yx._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(u_),c_=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.call(this,"facebook.com")}return Pt(n,null,[{key:"credential",value:function(e){return Yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Eg){return null}}}]),n}(u_);c_.FACEBOOK_SIGN_IN_METHOD="facebook.com",c_.PROVIDER_ID="facebook.com";var l_=function(e){Ft(n,e);var t=Bt(n);function n(){var e;return Nt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Pt(n,null,[{key:"credential",value:function(e,t){return Yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Eg){return null}}}]),n}(u_);l_.GOOGLE_SIGN_IN_METHOD="google.com",l_.PROVIDER_ID="google.com";var f_=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.call(this,"github.com")}return Pt(n,null,[{key:"credential",value:function(e){return Yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Eg){return null}}}]),n}(u_);f_.GITHUB_SIGN_IN_METHOD="github.com",f_.PROVIDER_ID="github.com";var h_=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Pt(n,[{key:"_getIdTokenResponse",value:function(e){return Qx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qx(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Sx),d_=function(e){Ft(n,e);var t=Bt(n);function n(e){return Nt(this,n),ow(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Pt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=h_.fromJSON(e);return ow(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return h_._create(r,n)}catch(i){return null}}}]),n}(o_),p_=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.call(this,"twitter.com")}return Pt(n,null,[{key:"credential",value:function(e,t){return Yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Eg){return null}}}]),n}(u_);function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signUp",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}p_.TWITTER_SIGN_IN_METHOD="twitter.com",p_.PROVIDER_ID="twitter.com";var y_=function(){function e(t){Nt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Pt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=J($().mark((function t(n,r,i){var a,o,u,s,c=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Zw._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=g_(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=J($().mark((function t(n,r,i){var a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=g_(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function g_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function k_(){return k_=J($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kx(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new y_({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,v_(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,y_._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}var b_=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a){var o,u;return Nt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Lt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Pt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(an);function w_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw b_._fromErrorAndOperation(e,n,t,r);throw n}))}function x_(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function __(e,t){return S_.apply(this,arguments)}function S_(){return S_=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gn(t),e.next=3,T_(!0,r,n);case 3:return e.t0=Nw,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=x_(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function I_(e,t){return E_.apply(this,arguments)}function E_(){return E_=J($().mark((function e(t,n){var r,i,a=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Uw,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",y_._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function T_(e,t,n){return C_.apply(this,arguments)}function C_(){return(C_=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kw(n);case 2:i=x_(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ow(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(e,t){return O_.apply(this,arguments)}function O_(){return O_=J($().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Uw(t,w_(a,o,n,t),r);case 6:return ow((u=e.sent).idToken,a,"internal-error"),ow(s=jw(u.idToken),a,"internal-error"),c=s.sub,ow(t.uid===c,a,"user-mismatch"),e.abrupt("return",y_._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&tw(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),O_.apply(this,arguments)}function N_(e,t){return D_.apply(this,arguments)}function D_(){return D_=J($().mark((function e(t,n){var r,i,a,o,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,w_(t,i,n);case 4:return a=e.sent,e.next=7,y_._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function P_(e,t){return R_.apply(this,arguments)}function R_(){return R_=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N_(kx(t),n));case 1:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return(M_=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gn(t),e.next=3,T_(!1,r,n.providerId);case 3:return e.abrupt("return",I_(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t){return j_.apply(this,arguments)}function j_(){return(j_=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A_(gn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U_(e,t){return V_.apply(this,arguments)}function V_(){return V_=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sw(t,"POST","/v1/accounts:signInWithCustomToken",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(){return B_=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kx(t),e.next=3,U_(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,y_._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}var z_=function(){function e(t,n){Nt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Pt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?q_._fromServerResponse(e,t):tw(e,"internal-error")}}]),e}(),q_=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Pt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(z_);function K_(e,t,n){var r;ow((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ow("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ow(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ow(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function W_(){return W_=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gn(t),a={requestType:"PASSWORD_RESET",email:n},r&&K_(i,a,r),e.next=5,Fx(i,a);case 5:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function G_(){return G_=J($().mark((function e(t,n,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ix(gn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function H_(){return H_=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(gn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function Q_(e,t){return $_.apply(this,arguments)}function $_(){return $_=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gn(t),e.next=3,Ix(r,{oobCode:n});case 3:i=e.sent,ow(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ow(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ow(i.mfaInfo,r,"internal-error");case 13:ow(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=z_._fromServerResponse(kx(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function Y_(){return Y_=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q_(gn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function J_(e,t,n){return X_.apply(this,arguments)}function X_(){return X_=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kx(t),e.next=3,v_(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,y_._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function Z_(){return Z_=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gn(t),a={requestType:"EMAIL_SIGNIN",email:n},ow(r.handleCodeInApp,i,"argument-error"),r&&K_(i,a,r),e.next=6,Ux(i,a);case 6:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eS(){return eS=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gn(t),ow((a=a_.credentialWithLink(n,r||fw()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",P_(i,a));case 4:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:createAuthUri",kw(t,n)));case 1:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(){return rS=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hw()?fw():"http://localhost",i={identifier:n,continueUri:r},e.next=4,tS(gn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(){return(iS=J($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&K_(r.auth,a,n),e.next=8,Lx(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aS(){return(aS=J($().mark((function e(t,n,r){var i,a,o,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&K_(i.auth,o,r),e.next=8,Bx(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t){return uS.apply(this,arguments)}function uS(){return uS=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function sS(){return(sS=J($().mark((function e(t,n){var r,i,a,o,u,s,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=gn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Uw(a,oS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=J($().mark((function e(t,n,r){var i,a,o,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Uw(t,Tx(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}var fS=Pt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Nt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),hS=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a){var o;return Nt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Pt(n)}(fS),dS=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"facebook.com",r)}return Pt(n)}(fS),pS=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Pt(n)}(hS),vS=function(e){Ft(n,e);var t=Bt(n);function n(e,r){return Nt(this,n),t.call(this,e,"google.com",r)}return Pt(n)}(fS),mS=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i){return Nt(this,n),t.call(this,e,"twitter.com",r,i)}return Pt(n)}(hS);function yS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=jw(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new fS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new dS(a,i);case"github.com":return new pS(a,i);case"google.com":return new vS(a,i);case"twitter.com":return new mS(a,i,e.screenName||null);case"custom":case"anonymous":return new fS(a,null);default:return new fS(a,r,i)}}(n)}var gS=function(){function e(t,n){Nt(this,e),this.type=t,this.credential=n}return Pt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ot({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),kS=function(){function e(t,n,r){Nt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Pt(e,[{key:"resolveSignIn",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=kx(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return z_._fromServerResponse(r,e)}));ow(i.mfaPendingCredential,r,"internal-error");var o=gS._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=J($().mark((function e(t){var a,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,y_._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ow(n.user,r,"internal-error"),e.abrupt("return",y_._forOperation(n.user,n.operationType,u));case 17:tw(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function bS(e,t){return bw(e,"POST","/v2/accounts/mfaEnrollment:start",kw(e,t))}function wS(e,t){return bw(e,"POST","/v2/accounts/mfaEnrollment:withdraw",kw(e,t))}var xS=function(){function e(t){var n=this;Nt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return z_._fromServerResponse(t.auth,e)})))}))}return Pt(e,[{key:"getSession",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=gS,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Uw(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=J($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Uw(this.user,wS(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),_S=new WeakMap;var SS="__sak",IS=function(){function e(t,n){Nt(this,e),this.storageRetriever=t,this.type=n}return Pt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(SS,"1"),this.storage.removeItem(SS),Promise.resolve(!0)):Promise.resolve(!1)}catch(Eg){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ES=function(e){Ft(n,e);var t=Bt(n);function n(){var e;return Nt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Jt();return ox(e)||hx(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=vx(),e._shouldAllowMigration=!0,e}return Pt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);px()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=J($().mark((function e(t,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(jt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(jt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(jt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(IS);ES.type="LOCAL";var TS=ES,CS=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Pt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(IS);CS.type="SESSION";var AS=CS;function OS(e){return Promise.all(e.map(function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var NS=function(){function e(t){Nt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Pt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=J($().mark((function e(t){var n,r,i,a,o,u,s,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,OS(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function DS(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}NS.receivers=[];var PS=function(){function e(t){Nt(this,e),this.target=t,this.handlers=new Set}return Pt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=J($().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=DS("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function RS(){return window}function LS(){return"undefined"!==typeof RS().WorkerGlobalScope&&"function"===typeof RS().importScripts}function MS(){return FS.apply(this,arguments)}function FS(){return(FS=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function jS(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var US="firebaseLocalStorageDb",VS="firebaseLocalStorage",BS="fbase_key",zS=function(){function e(t){Nt(this,e),this.request=t}return Pt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function qS(e,t){return e.transaction([VS],t?"readwrite":"readonly").objectStore(VS)}function KS(){var e=indexedDB.deleteDatabase(US);return new zS(e).toPromise()}function WS(){var e=indexedDB.open(US,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(VS,{keyPath:BS})}catch(r){n(r)}})),e.addEventListener("success",J($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(VS)){n.next=12;break}return r.close(),n.next=5,KS();case 5:return n.t0=t,n.next=8,WS();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function GS(e,t,n){return HS.apply(this,arguments)}function HS(){return HS=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qS(t,!0).put((Ot(i={},BS,n),Ot(i,"value",r),i)),e.abrupt("return",new zS(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function QS(e,t){return $S.apply(this,arguments)}function $S(){return $S=J($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qS(t,!1).get(n),e.next=3,new zS(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function YS(e,t){var n=qS(e,!0).delete(t);return new zS(n).toPromise()}var JS=function(){function e(){Nt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Pt(e,[{key:"_openDb",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,WS();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=J($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=NS._getInstance(LS()?self:null),this.receiver._subscribe("keyChanged",function(){var e=J($().mark((function e(n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=J($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new PS(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&jS()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,WS();case 5:return t=e.sent,e.next=8,GS(t,SS,"1");case 8:return e.next=10,YS(t,SS);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return GS(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return QS(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return YS(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=J($().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=qS(e,!1).getAll();return new zS(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Rt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(J($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();JS.type="LOCAL";var XS=JS;function ZS(e,t){return bw(e,"POST","/v2/accounts/mfaSignIn:start",kw(e,t))}function eI(e){return tI.apply(this,arguments)}function tI(){return tI=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bw(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=nw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function rI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var iI=1e12,aI=function(){function e(t){Nt(this,e),this.auth=t,this.counter=iI,this._widgets=new Map}return Pt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new oI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||iI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||iI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||iI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),oI=function(){function e(t,n,r){var i=this;Nt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ow(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Pt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var uI=rI("rcb"),sI=new pw(3e4,6e4),cI="https://www.google.com/recaptcha/api.js?",lI=function(){function e(){Nt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!RS().grecaptcha}return Pt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ow(fI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(RS().grecaptcha):new Promise((function(r,i){var a=RS().setTimeout((function(){i(nw(e,"network-request-failed"))}),sI.get());RS()[uI]=function(){RS().clearTimeout(a),delete RS()[uI];var o=RS().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(nw(e,"internal-error"))},nI("".concat(cI,"?").concat(hn({onload:uI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(nw(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!RS().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function fI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var hI=function(){function e(){Nt(this,e)}return Pt(e,[{key:"load",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new aI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),dI="recaptcha",pI={theme:"light",type:"image"},vI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},pI),r=arguments.length>2?arguments[2]:void 0;Nt(this,e),this.parameters=n,this.type=dI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kx(r),this.isInvisible="invisible"===this.parameters.size,ow("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ow(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hI:new lI,this.validateStartingState()}return Pt(e,[{key:"verify",value:function(){var e=J($().mark((function e(){var t,n,r,i=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ow(!this.parameters.sitekey,this.auth,"argument-error"),ow(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ow("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=RS()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ow(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=J($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ow(hw()&&!LS(),this.auth,"internal-error"),e.next=3,mI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,eI(this.auth);case 8:ow(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ow(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function mI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yI=function(){function e(t,n){Nt(this,e),this.verificationId=t,this.onConfirmation=n}return Pt(e,[{key:"confirm",value:function(e){var t=r_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function gI(){return gI=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kx(t),e.next=3,xI(i,n,gn(r));case 3:return a=e.sent,e.abrupt("return",new yI(a,(function(e){return P_(i,e)})));case 5:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t,n){return bI.apply(this,arguments)}function bI(){return(bI=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gn(t),e.next=3,T_(!1,i,"phone");case 3:return e.next=5,xI(i.auth,n,gn(r));case 5:return a=e.sent,e.abrupt("return",new yI(a,(function(e){return L_(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wI(){return(wI=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gn(t),e.next=3,xI(i.auth,n,gn(r));case 3:return a=e.sent,e.abrupt("return",new yI(a,(function(e){return F_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xI(e,t,n){return _I.apply(this,arguments)}function _I(){return _I=J($().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ow("string"===typeof a,t,"argument-error"),ow(r.type===dI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ow("enroll"===u.type,t,"internal-error"),e.next=13,bS(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ow("signin"===u.type,t,"internal-error"),ow(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ZS(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),_I.apply(this,arguments)}function SI(){return(SI=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I_(gn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var II=function(){function e(t){Nt(this,e),this.providerId=e.PROVIDER_ID,this.auth=kx(t)}return Pt(e,[{key:"verifyPhoneNumber",value:function(e,t){return xI(this.auth,e,gn(t))}}],[{key:"credential",value:function(e,t){return r_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?r_._fromTokenResponse(n,r):null}}]),e}();function EI(e,t){return t?lw(t):(ow(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}II.PROVIDER_ID="phone",II.PHONE_SIGN_IN_METHOD="phone";var TI=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Pt(n,[{key:"_getIdTokenResponse",value:function(e){return Qx(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qx(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qx(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Sx);function CI(e){return N_(e.auth,new TI(e),e.bypassAuthState)}function AI(e){var t=e.auth,n=e.user;return ow(n,t,"internal-error"),A_(n,new TI(e),e.bypassAuthState)}function OI(e){return NI.apply(this,arguments)}function NI(){return NI=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ow(r=t.user,n,"internal-error"),e.abrupt("return",I_(r,new TI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}var DI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Nt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Pt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=J($().mark((function t(n,r){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=J($().mark((function e(t){var n,r,i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CI;case"linkViaPopup":case"linkViaRedirect":return OI;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:tw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){sw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){sw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),PI=new pw(2e3,1e4);function RI(e,t,n){return LI.apply(this,arguments)}function LI(){return LI=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kx(t),iw(t,n,o_),a=EI(i,r),o=new UI(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(){return(MI=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iw((i=gn(t)).auth,n,o_),a=EI(i.auth,r),o=new UI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FI(e,t,n){return jI.apply(this,arguments)}function jI(){return(jI=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iw((i=gn(t)).auth,n,o_),a=EI(i.auth,r),o=new UI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UI=function(e){Ft(n,e);var t=Bt(n);function n(e,r,i,a,o){var u;return Nt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Lt(u),u}return Pt(n,[{key:"executeNotNull",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ow(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J($().mark((function e(){var t,n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sw(1===this.filter.length,"Popup operations only handle one event"),t=DS(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(nw(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(nw(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(nw(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,PI.get())}()}}]),n}(DI);UI.currentPopupAction=null;var VI=new Map,BI=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Nt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Pt(n,[{key:"execute",value:function(){var e=J($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=VI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ii(jt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:VI.set(this.auth._key(),t);case 21:return this.bypassAuthState||VI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=J($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ii(jt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ii(jt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(DI);function zI(e,t){return qI.apply(this,arguments)}function qI(){return qI=J($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QI(n),i=HI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function KI(e,t){return WI.apply(this,arguments)}function WI(){return WI=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HI(t)._set(QI(n),"true"));case 1:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function GI(e,t){VI.set(e._key(),t)}function HI(e){return lw(e._redirectPersistence)}function QI(e){return nx("pendingRedirect",e.config.apiKey,e.name)}function $I(e,t,n){return function(e,t,n){return YI.apply(this,arguments)}(e,t,n)}function YI(){return YI=J($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kx(t),iw(t,n,o_),a=EI(i,r),e.next=5,KI(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function JI(e,t,n){return function(e,t,n){return XI.apply(this,arguments)}(e,t,n)}function XI(){return(XI=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iw((i=gn(t)).auth,n,o_),a=EI(i.auth,r),e.next=5,KI(a,i.auth);case 5:return e.next=7,aE(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZI(e,t,n){return function(e,t,n){return eE.apply(this,arguments)}(e,t,n)}function eE(){return(eE=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iw((i=gn(t)).auth,n,o_),a=EI(i.auth,r),e.next=5,T_(!1,i,n.providerId);case 5:return e.next=7,KI(a,i.auth);case 7:return e.next=9,aE(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kx(t)._initializationPromise;case 2:return e.abrupt("return",rE(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=J($().mark((function e(t,n){var r,i,a,o,u,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=kx(t),a=EI(i,n),o=new BI(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e){return oE.apply(this,arguments)}function oE(){return(oE=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DS("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uE=function(){function e(t){Nt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Pt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cE(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nw(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cE(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function lE(e){return fE.apply(this,arguments)}function fE(){return fE=J($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bw(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}var hE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dE=/^https?/;function pE(){return pE=J($().mark((function e(t){var n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lE(t);case 4:n=e.sent,r=n.authorizedDomains,i=Rt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vE(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:tw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),pE.apply(this,arguments)}function vE(e){var t=fw(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dE.test(r))return!1;if(hE.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var mE=new pw(3e4,6e4);function yE(){var e=RS().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=bn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gE=null;function kE(e){return gE=gE||function(e){return new Promise((function(t,n){var r,i,a;function o(){yE(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yE(),n(nw(e,"network-request-failed"))},timeout:mE.get()})}if(null===(i=null===(r=RS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=RS().gapi)||void 0===a?void 0:a.load)){var u=rI("iframefcb");return RS()[u]=function(){gapi.load?o():n(nw(e,"network-request-failed"))},nI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gE=null,e}))}(e),gE}var bE=new pw(5e3,15e3),wE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _E(e){var t=e.config;ow(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?vw(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:mr},i=xE.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(hn(r).slice(1))}function SE(e){return IE.apply(this,arguments)}function IE(){return IE=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kE(t);case 2:return n=e.sent,ow(r=RS().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_E(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wE,dontclear:!0},(function(e){return new Promise(function(){var n=J($().mark((function n(r,i){var a,o,u;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){RS().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=nw(t,"network-request-failed"),o=RS().setTimeout((function(){i(a)}),bE.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}var EE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TE="_blank",CE="http://localhost",AE=function(){function e(t){Nt(this,e),this.window=t,this.associatedEvent=null}return Pt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function OE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},EE),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Jt().toLowerCase();n&&(u=ux(c)?TE:n),ax(c)&&(t=t||CE,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(dx(c)&&"_self"!==u)return NE(t||"",u),new AE(null);var h=window.open(t||"",u,f);ow(h,e,"popup-blocked");try{h.focus()}catch(d){}return new AE(h)}function NE(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var DE="__/auth/handler",PE="emulator/auth/handler";function RE(e,t,n,r,i,a){ow(e.config.authDomain,e,"auth-domain-config-required"),ow(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(t instanceof o_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof u_){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(DE);return vw(t,PE)}(e),"?").concat(hn(p).slice(1))}var LE="webStorageSupport",ME=function(){function e(){Nt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=rE,this._overrideRedirectResult=GI}return Pt(e,[{key:"_openPopup",value:function(){var e=J($().mark((function e(t,n,r,i){var a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sw(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=RE(t,n,r,fw(),i),e.abrupt("return",OE(t,o,DS()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=RE(t,n,r,fw(),i),RS().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(sw(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SE(t);case 2:return n=e.sent,r=new uE(t),n.register("authEvent",(function(e){return ow(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(LE,{type:LE},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),tw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return vx()||ox()||hx()}}]),e}(),FE=ME,jE=function(){function e(t){Nt(this,e),this.factorId=t}return Pt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return uw("unexpected MultiFactorSessionType")}}}]),e}(),UE=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this,"phone")).credential=e,r}return Pt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return bw(e,"POST","/v2/accounts/mfaEnrollment:finalize",kw(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return bw(e,"POST","/v2/accounts/mfaSignIn:finalize",kw(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(jE),VE=function(){function e(){Nt(this,e)}return Pt(e,null,[{key:"assertion",value:function(e){return UE._fromCredential(e)}}]),e}();VE.FACTOR_ID="phone";var BE,zE="@firebase/auth",qE="0.20.4",KE=function(){function e(t){Nt(this,e),this.auth=t,this.internalListeners=new Map}return Pt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ow(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function WE(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function GE(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}BE="Browser",cr(new wn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ow(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ow(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:BE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mx(BE)},i=new gx(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),cr(new wn("auth-internal",(function(e){return function(e){return new KE(e)}(kx(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),xr(zE,qE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(BE)),xr(zE,qE,"esm2017");var HE,QE,$E,YE,JE,XE,ZE,eT,tT,nT,rT,iT,aT,oT,uT,sT,cT,lT,fT,hT,dT,pT,vT,mT,yT,gT,kT,bT,wT=function(){return wT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wT.apply(this,arguments)},xT=function(e){return{loading:void 0===e||null===e,value:e}},_T=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return wT(wT({},e),{error:t.error,loading:!1,value:void 0});case"reset":return xT(t.defaultValue);case"value":return wT(wT({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),xT(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},ST=function(e,t){var n=_T((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,i.useEffect)((function(){var n=function(e,t,n,r){return gn(e).onAuthStateChanged(t,n,r)}(e,(function(e){return WE(void 0,void 0,void 0,(function(){var n;return GE(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,r];return(0,i.useMemo)((function(){return c}),c)},IT=n(7845),ET=Ct(IT.Ji),TT=Ct(IT.O2),CT=At.div(HE||(HE=X(["\ndisplay: flex;\nalign-items: center;\nbackground:black ;\nflex-flow: column nowrap;\nheight: 100vh; \nwidth: 100vw ; \njustify-content:center ;\n"]))),AT=At.div(QE||(QE=X(["\nwidth:100vw ;\nposition:relative ;\nanimation: 1s "," alternate;\noverflow: hidden;\n\n\n@media (max-width: 740px) { \n    width:100vw ; \n  }\n"])),ET),OT=At.div($E||($E=X(["\n@font-face {\n  font-family: 'Roboto Condensed';\n  src: url(",") format('ttf'); \n}\n\n button{\n    border:3px solid rgba(7, 195, 255, 1);\n    border-radius:10px ;\n    background: transparent ;\n    color: rgba(7, 195, 255, 1);\n    height:30px ;\n    width:80px ;\n    margin-left:2vw;\n    transition: background 0.5s;\n    &:hover{\n        background:rgba(7, 195, 255, 1);\n        color:rgba(124, 124, 124, 1) ;\n    }\n    }\n\n@media (max-width: 410px) { \n    button{\n    \n    width:auto ;\n    margin-left:1vw;\n    }\n  }\n\n  @media (max-width: 300px) { \n    div{\n        display:flex ;\n        flex-direction:column ;\n        width:auto ;\n    }\n    button{\n        height:4vh ;\n        width:100% ;\n    }\n  }\n\nheight: 10vh;\nbackground:rgba(124, 124, 124, 1) ;\ncolor:white ;\ndisplay:flex ;\nflex: 0 0 100px;\njustify-content:space-between ;\nalign-items:center ;\npadding-left:2.5vw ;\npadding-right:2.5vw ;\npadding-top:1vh ;\npadding-bottom:1vh ;\nbox-sizing:border-box;\nfont-family: 'Roboto Condensed' ;\n"])),ni),NT=At.img(YE||(YE=X(["\nheight:80% ;\n"]))),DT=At.span(JE||(JE=X(["\ncolor: rgba(7, 195, 255, 1);\n"]))),PT=At(DT)(XE||(XE=X(["\ncolor: white;\n"]))),RT=At.div(ZE||(ZE=X(["\nheight: 4vh;\nfont-size:2vh;\nbox-sizing:border-box ;\nbackground:rgba(124, 124, 124, 1);\n@font-face {\n  font-family: 'Roboto Condensed';\n  src: url(",") format('ttf');\n       \n}\nfont-family: 'Roboto Condensed' ;\n"])),ni),LT=At(RT)(eT||(eT=X([" \ndisplay:flex ;\njustify-content: space-between ;\nalign-items:center ;\npadding-left:95px ;\npadding-right:40px ;\nbox-shadow:inset 0 -0.2vh rgba(105, 105, 105, 1);\n"]))),MT=At.div(tT||(tT=X(["\npadding-top:1.9vh ;\nmax-height:77vh ;\nbackground:white ;\noverflow-y:scroll;\nbox-sizing:border-box;\n::-webkit-scrollbar { width: 0; }\n"]))),FT=At.span(nT||(nT=X(["\ncolor: white;\nfont-size:2.7vh ;\n"]))),jT=At(RT)(rT||(rT=X(["\ndisplay:flex ;\njustify-content:space-between ;\npadding-left:2vw ;\npadding-right:2vw ;\nalign-items:center ;\ncolor:white ;\nfont-size:2.7vh ;\nheight: 5vh;\nbox-shadow:inset 0 0.2vh rgba(105, 105, 105, 1);\n"]))),UT=At.div(iT||(iT=X(["\ndisplay:flex ;\nflex-direction:column ;\nfont-size:2vh;\ntext-align:center ;\nalign-items:center ;\nposition:relative ;\n"]))),VT=At.div(aT||(aT=X(["\ndisplay: grid;\ngrid-template-columns: repeat(auto-fit, minmax(10px, 1fr));\npadding-left:6.5vh ;\nposition: relative ;\n"]))),BT=At.div(oT||(oT=X(["\nborder-top: 1px solid rgba(190, 190, 191, 1);\nborder-right: 1px solid rgba(190, 190, 191, 1);\npadding:3px ;\n"]))),zT=At.div(uT||(uT=X(["\nbackground:",";\nheight:5vh ;\nwidth:100% ;\ntransition: background 0.5s;\n"])),(function(e){return e.bg})),qT=At.div(sT||(sT=X(["\nfont-size:2vh ;\nposition:absolute ;\ntop: -1.5vh;\nleft: 1vh;\ncolor: rgba(190, 190, 191, 1) ;\n\n"]))),KT=At.div(cT||(cT=X(["\nwidth :2vh;\nheight:2vh;\ndisplay:flex ;\nalign-items:center ;\njustify-content:center ;\ncolor: white;\n"]))),WT=At.div(lT||(lT=X(["\ncolor: white;\n"]))),GT=At(KT)(fT||(fT=X(["\nborder-radius:50%;\ncolor: rgba(7, 195, 255, 1);\n"]))),HT=At(WT)(hT||(hT=X(["\ncolor: rgba(7, 195, 255, 1);\n"]))),QT=At.div(dT||(dT=X(["\nposition:absolute ;\nheight:100% ;\ndisplay:flex ;\nalign-items:center ;\npadding-left:1vw ;\nbox-sizing:border-box ;\n"]))),$T=At.img(pT||(pT=X(["\nopacity:0.5 ;\nwidth:4vh ;\nheight:5vh;\n\n&:hover{\n    opacity:1 ;\n}\n&:active{\n    opacity:1 ;  \n}\n"]))),YT=At.img(vT||(vT=X(["\nwidth:25px ;\nheight:25px;\nmargin-left:10px ;\nfilter: invert(100%);\n&:hover{\n    filter: invert(0);\n}\n&:active{\n    filter: invert(0); \n}\n"]))),JT=At.div(mT||(mT=X(["\nposition:absolute ;\nmin-width:250px ;\nborder-radius:20px ;\nmargin: 0 auto;\nanimation: 1s "," alternate;\n"])),TT),XT=At.div(yT||(yT=X(["\nheight: 15%;\nwidth:85% ;\ndisplay:flex ;\nmargin-top:10px ;\njustify-content:space-between ;\nalign-items:center ;\n"]))),ZT=At.div(gT||(gT=X(["\nheight: 90%;\npadding-left:10px ;\nwidth:100% ;\nbackground:rgba(189, 189, 189, 1) ;\nborder-radius:5px;\n"]))),eC=At.div(kT||(kT=X(["\nfont-size:2.2vh ;\nheight: 55%;\nwidth: 85%;\nborder-radius:10px ;\npadding: 1vh 1vw;\nmargin-top:5px ;\ndisplay:flex ;\nflex-direction:column ;\njustify-content:center ;\n\n\n\ninput{\n    border-radius: 10px;\n    border: none; \n    margin-right: 10px;\n    background:rgba(189, 189, 189, 1);\n}\n\n\n textarea{\n    border:none ;\n    width: 100%;\n    margin: 5px auto;\n    resize:none;\n    border-radius: 10px;\n    background:rgba(189, 189, 189, 1);\n  \n}\n"]))),tC=At.div(bT||(bT=X(["\nheight: auto;\nmargin-bottom:5px;\n\ndisplay:flex ;\nflex-direction:row ;\njustify-content:space-between ;\nalign-items:center ;\nwidth:90% ;\ncolor:white ;\n"])));function nC(){var e=l((0,i.useState)(!1),2),t=(e[0],e[1],(0,i.useContext)(UA).auth),n=ST(t),r=l((0,i.useState)([]),2),a=r[0],o=r[1],u=(0,i.useContext)(UA),s=(u.firebaseApp,u.firestore),c=l((0,i.useState)(!0),2),f=c[0],h=c[1],d=l((0,i.useState)(!1),2),p=d[0],v=d[1],m=l((0,i.useState)(!1),2),y=m[0],g=m[1],k=l((0,i.useState)(""),2),b=k[0],w=k[1],x=l((0,i.useState)([]),2),_=x[0],S=x[1],I=l((0,i.useState)({}),2),E=I[0],T=I[1];function C(){return A.apply(this,arguments)}function A(){return(A=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,fb(qk(Vg(s,n[0].uid)));case 3:e.sent.forEach((function(e){t[e.id]=e.data()})),T(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){C()}),[f]);var O=l((0,i.useState)([0,7]),2),N=O[0],D=O[1],P=l((0,i.useState)([!0,0]),2),R=P[0],L=P[1],M=l((0,i.useState)([!1,0,0]),2),F=M[0],j=M[1],U=l((0,i.useState)(new Date),1)[0],V=l((0,i.useState)([0,0]),2),B=V[0],z=V[1];var q=["January ","February ","March ","April ","May ","June ","July  ","August ","September ","October ","November ","December "],K=["\u0421\u0431","\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442"],W=[];function G(e,t){return H.apply(this,arguments)}function H(){return(H=J($().mark((function e(t,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.next=3,pb(Bg(s,n[0].uid,t),(Ot(i={},r,wb()),Ot(i,r+"time",wb()),i));case 3:j(F[0]=!1),z([0,0]),h(!f);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){var e=[],t=0,n=0,r=new Date(U.getFullYear(),U.getMonth());return function(){if(r.setDate(r.getDate()+N[0]),!0===R[0]){if(l(),r.getFullYear()<U.getFullYear()){var i=N.map((function(e){return e+365}));D(i)}else if(r.getFullYear()>U.getFullYear()){var a=N.map((function(e){return e-365}));D(a)}else if(r.getFullYear()===U.getFullYear())if(r.getMonth()<U.getMonth()){var o=N.map((function(e){return e+32-new Date(r.getFullYear(),r.getMonth(),32).getDate()}));D(o)}else if(r.getMonth()>U.getMonth()){var u=N.map((function(e){return e-32-new Date(r.getFullYear(),r.getMonth(),32).getDate()}));D(u)}else if(r.getMonth()===U.getMonth())if(!0===e.includes(U.getDate()))console.log(e),L([!1,0]);else if(r.getDate()<U.getDate()){var s=N.map((function(e){return e+7}));D(s)}else if(r.getDate()>U.getDate()){var c=N.map((function(e){return e-7}));D(c)}}else l();function l(){for(var t=0;t<7;t++)e.push(r.getDate()),W.push(K[r.getDay()]),r.setDate(r.getDate()+1);if("\u041f\u043d"!==K[r.getDay()]){var n=N.map((function(e){return e-1}));D(n)}}t=r.getMonth(),n=r.getFullYear()}(),{Days:e,Month:t,Year:n}}function Y(){return(Y=J($().mark((function e(t,n,r,i,a){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===t?X(n,r,i,a):ee(n,r,i,a),S([]),g(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,n,r){return Z.apply(this,arguments)}function Z(){return(Z=J($().mark((function e(t,r,i,a){var o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,db(Bg(s,n[0].uid,t),(o={},Ot(o,r,[i]),Ot(o,r+"time",[a]),o)).then(C);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=J($().mark((function e(t,r,i,a){var o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pb(Bg(s,n[0].uid,t),(o={},Ot(o,r,[i]),Ot(o,r+"time",a),o)).then(C);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){var e=N.map((function(e){return e+7}));D(e)}function re(){var e=N.map((function(e){return e-7}));D(e)}function ie(e){if("time"===e.target.type){_[0]=e.target.value;var t=e.target.value.split(":")[0]+":00";_[3]=!0,Object.keys(E).forEach((function(e){if(e===t)return _[3]=!1}))}if("date"===e.target.type){var n,r,i,a=e.target.value.split("-");n=a[0],r="0"===a[1][0]?"0".concat(a[1]-1):a[1]-1,i=a[2];var o="".concat(i)+"".concat(r)+"".concat(n);_[1]=o}"text"!==e.target.type&&"textarea"!==e.target.type||(_[2]=e.target.value)}return(0,Yr.jsxs)(CT,{onClick:function(e){return function(e){"close"===e.target.id&&(v(!1),g(!1),w(""))}(e)},children:[(0,Yr.jsxs)(AT,{onTouchMove:function(e){return function(e){e.touches[0].screenX>a[0]&&e.touches[0].screenX/a[0]>=1.7&&(e.touches[0].screenY>a[1]&&e.touches[0].screenY/a[1]<=1.2||e.touches[0].screenY<a[1]&&a[1]/e.touches[0].screenY<=1.2)&&(a[2]="prev"),e.touches[0].screenX<a[0]&&a[0]/e.touches[0].screenX>=1.7&&(e.touches[0].screenY>a[1]&&e.touches[0].screenY/a[1]<=1.2||e.touches[0].screenY<a[1]&&a[1]/e.touches[0].screenY<=1.2)&&(a[2]="next")}(e)},children:[(0,Yr.jsxs)(OT,{children:[(0,Yr.jsx)(NT,{src:$r}),(0,Yr.jsxs)("div",{children:[(0,Yr.jsx)("button",{onClick:function(){return g(!0)},children:"Add"}),(0,Yr.jsx)("button",{onClick:function(){return t.signOut()},children:"Exit"})]})]}),(0,Yr.jsx)(RT,{children:(0,Yr.jsxs)(VT,{children:[Q().Days.map((function(e){return U.getDate()===e&&U.getMonth()===Q().Month?(0,Yr.jsxs)(UT,{children:[(0,Yr.jsx)(HT,{children:W[Q().Days.indexOf(e)+1]}),(0,Yr.jsx)(GT,{children:e})]}):(0,Yr.jsxs)(UT,{children:[(0,Yr.jsx)(WT,{children:W[Q().Days.indexOf(e)+1]}),(0,Yr.jsx)(KT,{children:e})]})})),(0,Yr.jsxs)(QT,{children:[(0,Yr.jsx)($T,{onClick:re,src:ei}),(0,Yr.jsx)($T,{onClick:ne,src:ei,style:{transform:"rotate(180deg)"}})]})]})}),(0,Yr.jsxs)(LT,{children:[(0,Yr.jsx)(FT,{onClick:function(){var e=new Date(U.getFullYear(),U.getMonth());e.setDate(e.getDate()+N[0]);var t=32-new Date(e.getFullYear(),e.getMonth(),32).getDate(),n=N.map((function(e){return e-t}));D(n)},children:"<"}),(0,Yr.jsxs)("span",{children:[(0,Yr.jsx)(DT,{children:q[Q().Month]})," ",(0,Yr.jsx)(PT,{children:Q().Year})]}),(0,Yr.jsx)(FT,{onClick:function(){var e=new Date(U.getFullYear(),U.getMonth());e.setDate(e.getDate()+N[0]);var t=32-new Date(e.getFullYear(),e.getMonth(),32).getDate(),n=N.map((function(e){return e+t}));D(n)},children:">"})]}),(0,Yr.jsx)(MT,{onTouchStart:function(e){return function(e){a[0]=e.touches[0].screenX,a[1]=e.touches[0].screenY}(e)},onTouchEnd:function(){"next"===a[2]&&(o([]),ne()),"prev"===a[2]&&(o([]),re())},children:function(){var e=[],t=new Date(U.getFullYear(),U.getMonth());t.setDate(t.getDate()+N[0]);for(var n=0;n<7;n++){var r=void 0,i=void 0;r=t.getMonth()<10?"0".concat(t.getMonth()):t.getMonth(),i=t.getDate()<10?"0".concat(t.getDate()):t.getDate();var a="".concat(i)+"".concat(r)+"".concat(t.getFullYear());e.push(a),t.setDate(t.getDate()+1)}var o=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"].map((function(t){return(0,Yr.jsxs)(VT,{id:t,children:[(0,Yr.jsx)(qT,{children:t}),e.map((function(e){return(0,Yr.jsx)(BT,{className:"mainright1",onClick:function(n){return function(e,t,n){!1===p&&(E[e]&&E[e][t]&&E[e]["".concat(t,"time")]?(z([e,t,E[e]["".concat(t,"time")]]),w(E[e][t]),j([!0,e,t]),v(!0)):E[e]&&E[e][t]?(z([e,t]),w(E[e][t]),j([!0,e,t]),v(!0)):(j([!1,e,t]),z([0,0])))}(t,e)},id:e,children:(0,Yr.jsx)(zT,{id:"gridCell",bg:u(t,e)})})}))]})}));function u(e,t){return B[0]===e&&B[1]===t?"rgba(7, 195, 255, 1)":E[e]&&E[e][t]?"rgba(124, 124, 124, 1)":"white"}return(0,Yr.jsx)(Yr.Fragment,{children:o.map((function(e){return e}))})}()}),(0,Yr.jsxs)(jT,{children:[(0,Yr.jsx)("span",{onClick:function(){L([!0,0])},children:"Today"}),(0,Yr.jsx)(DT,{children:F[0]&&(0,Yr.jsx)("span",{onClick:function(){return G(F[1],F[2])},children:"Delete"})})]})]}),p&&(0,Yr.jsxs)(JT,{className:"alert1",children:[(0,Yr.jsxs)(XT,{children:[(0,Yr.jsxs)(ZT,{children:[B[2],"  ",q[+"".concat(B[1][2]).concat(B[1][3])]," ",+"".concat(B[1][4]).concat(B[1][5]).concat(B[1][6]).concat(B[1][7])]}),(0,Yr.jsx)(YT,{id:"close",onClick:function(){return v(!1)},src:ti})]}),(0,Yr.jsx)(eC,{children:(0,Yr.jsx)(Lb,{disabled:0,style:{"border-radius":"10px",background:"rgba(189, 189, 189, 1)"},minRows:1,maxRows:20,onChange:function(e){return function(e){w(e.target.value)}(e)},children:E[B[0]][B[1]]})}),(0,Yr.jsxs)(tC,{children:[(0,Yr.jsx)("span",{onClick:function(){return ee(B[0],B[1],b,B[2])},children:"Update"}),(0,Yr.jsx)(DT,{children:F[0]&&(0,Yr.jsx)("span",{onClick:function(){return G(F[1],F[2])},children:"Delete"})})]})]}),y&&(0,Yr.jsxs)(JT,{className:"alert1",children:[(0,Yr.jsxs)(XT,{children:[(0,Yr.jsx)(ZT,{children:(0,Yr.jsx)("span",{children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f, \u0434\u0430\u0442\u0443"})}),(0,Yr.jsx)(YT,{id:"close",onClick:function(){return v(!1)},src:ti})]}),(0,Yr.jsx)(eC,{children:(0,Yr.jsxs)("form",{children:[(0,Yr.jsx)("input",{type:"time",onChange:function(e){return ie(e)}}),(0,Yr.jsx)("input",{type:"date",in:"123",onChange:function(e){return ie(e)}}),(0,Yr.jsx)(Lb,{placeholder:"\u0438 \u0442\u043e, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",disabled:0,style:{"border-radius":"10px",background:"rgba(189, 189, 189, 1)"},minRows:1,maxRows:20,onChange:function(e){return ie(e)}})]})}),(0,Yr.jsx)(tC,{children:(0,Yr.jsx)("span",{onClick:function(){return function(e,t,n,r,i){return Y.apply(this,arguments)}(_[3],_[0].split(":")[0]+":00",_[1],_[2],_[0])},children:"Create"})})]})]})}var rC=[{path:G,Component:(0,Yr.jsx)(Zr,{})}],iC=[{path:H,Component:(0,Yr.jsx)(nC,{})}];function aC(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=v({window:r}));var o=a.current,u=l((0,i.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(q,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var oC=function(){var e=(0,i.useContext)(UA).auth,t=ST(e);return console.log(t),(0,Yr.jsx)(aC,{children:null!==t[0]?(0,Yr.jsxs)(K,{children:[iC.map((function(e){var t=e.path,n=e.Component;return(0,Yr.jsx)(z,{path:t,element:n,exact:!0},t)})),(0,Yr.jsx)(z,{path:G,element:(0,Yr.jsx)(B,{replace:!0,to:H}),exact:!0})]}):(0,Yr.jsxs)(K,{children:[rC.map((function(e){var t=e.path,n=e.Component;return(0,Yr.jsx)(z,{path:t,element:n,exact:!0},t)})),(0,Yr.jsx)(z,{path:H,element:(0,Yr.jsx)(B,{replace:!0,to:G}),exact:!0}),(0,Yr.jsx)(z,{path:"/",element:(0,Yr.jsx)(B,{replace:!0,to:G}),exact:!0})]})})};var uC=function(){return(0,Yr.jsx)(oC,{})};function sC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ds("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function cC(){if("undefined"===typeof Uint8Array)throw new Ds("unimplemented","Uint8Arrays are not available in this environment.")}function lC(){if("undefined"==typeof atob)throw new Ds("unimplemented","Blobs are unavailable in Firestore in this environment.")}var fC=function(){function e(t){Nt(this,e),this._delegate=t}return Pt(e,[{key:"toBase64",value:function(){return lC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return cC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return lC(),new e(rk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return cC(),new e(rk.fromUint8Array(t))}}]),e}();function hC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Rt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var dC=function(){function e(){Nt(this,e)}return Pt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){tk(e=Dg(e,Hg));var n=Qg(e),r=e._freezeSettings(),i=new rg;return Yg(n,i,new tg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){tk(e=Dg(e,Hg));var t=Qg(e),n=e._freezeSettings(),r=new rg;return Yg(t,r,new ng(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ds(Ns.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ps;return e._queue.enqueueAndForgetEvenWhileRestricted(J($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vc.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,vc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Xp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),pC=function(){function e(t,n,r){var i=this;Nt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Wc||(this._appCompat=t)}return Pt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mg(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Jg(this._delegate)}},{key:"disableNetwork",value:function(){return Xg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Cg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ps;return e.asyncQueue.enqueueAndForget(J($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=wy,n.next=3,wg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Qg(e=Dg(e,Hg)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return mb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ds("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new CC(this,Vg(this._delegate,e))}catch(t){throw bC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new kC(this,Bg(this._delegate,e))}catch(t){throw bC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new IC(this,function(e,t){if(e=Dg(e,Lg),Tg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ds(Ns.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new jg(e,null,function(e){return new Bl(Ys.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw bC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return bb(this._delegate,(function(n){return e(new mC(t,n))}))}},{key:"batch",value:function(){var e=this;return Qg(this._delegate),new yC(new ub(this._delegate,(function(t){return yb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Zg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ek(this._delegate,e).then((function(e){return e?new IC(t,e):null}))}}]),e}(),vC=function(e){Ft(n,e);var t=Bt(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new fC(new rk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kC.forKey(t,this.firestore,null)}}]),n}(ib);var mC=function(){function e(t,n){Nt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new vC(t)}return Pt(e,[{key:"get",value:function(e){var t=this,n=AC(e);return this._delegate.get(n).then((function(e){return new _C(t._firestore,new Mk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=AC(e);return n?(sC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=AC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AC(e);return this._delegate.delete(t),this}}]),e}(),yC=function(){function e(t){Nt(this,e),this._delegate=t}return Pt(e,[{key:"set",value:function(e,t,n){var r=AC(e);return n?(sC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=AC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),gC=function(){function e(t,n,r){Nt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Pt(e,[{key:"fromFirestore",value:function(e,t){var n=new Fk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new vC(t),n),i.set(n,a)),a}}]),e}();gC.INSTANCES=new WeakMap;var kC=function(){function e(t,n){Nt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new vC(t)}return Pt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new CC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new CC(this.firestore,Vg(this._delegate,e))}catch(t){throw bC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gn(e))instanceof Fg&&zg(this._delegate,e)}},{key:"set",value:function(e,t){t=sC("DocumentReference.set",t);try{return t?db(this._delegate,e,t):db(this._delegate,e)}catch(n){throw bC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pb(this._delegate,e):pb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw bC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return yb(Dg(e.firestore,Hg),[new Mf(e._key,wf.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=wC(n),a=xC(n,(function(t){return new _C(e.firestore,new Mk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?lb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Dg(e,Fg);var t=Dg(e.firestore,Hg);return Sg(Qg(t),e._key,{source:"server"}).then((function(n){return gb(t,e,n)}))}(this._delegate):function(e){e=Dg(e,Fg);var t=Dg(e.firestore,Hg);return Sg(Qg(t),e._key).then((function(n){return gb(t,e,n)}))}(this._delegate),t.then((function(e){return new _C(n.firestore,new Mk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(gC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ds("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Fg(n._delegate,r,new Zs(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Fg(n._delegate,r,t))}}]),e}();function bC(e,t,n){return e.message=e.message.replace(t,n),e}function wC(e){var t,n=Rt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!hC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=hC(e[0])?e[0]:hC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _C=function(){function e(t,n){Nt(this,e),this._firestore=t,this._delegate=n}return Pt(e,[{key:"ref",get:function(){return new kC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Vk(this._delegate,e._delegate)}}]),e}(),SC=function(e){Ft(n,e);var t=Bt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Cs()}(void 0!==t),t}}]),n}(_C),IC=function(){function e(t,n){Nt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new vC(t)}return Pt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,qk(this._delegate,function(e,t,n){var r=t,i=Rk("where",e);return new Kk(i,r,n)}(t,n,r)))}catch(i){throw bC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,qk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Rk("orderBy",e);return new Wk(n,t)}(t,n)))}catch(r){throw bC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,qk(this._delegate,function(e){return Pg("limit",e),new Gk("limit",e,"F")}(t)))}catch(n){throw bC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,qk(this._delegate,function(e){return Pg("limitToLast",e),new Gk("limitToLast",e,"L")}(t)))}catch(n){throw bC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,qk(this._delegate,Qk.apply(void 0,arguments)))}catch(t){throw bC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,qk(this._delegate,$k.apply(void 0,arguments)))}catch(t){throw bC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,qk(this._delegate,Jk.apply(void 0,arguments)))}catch(t){throw bC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,qk(this._delegate,Xk.apply(void 0,arguments)))}catch(t){throw bC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return qg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?hb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Dg(e,jg);var t=Dg(e.firestore,Hg),n=Qg(t),r=new cb(t);return Ig(n,e._query,{source:"server"}).then((function(n){return new jk(t,r,e,n)}))}(this._delegate):fb(this._delegate),t.then((function(e){return new TC(n.firestore,new jk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=wC(n),a=xC(n,(function(t){return new TC(e.firestore,new jk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(gC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),EC=function(){function e(t,n){Nt(this,e),this._firestore=t,this._delegate=n}return Pt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new SC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),TC=function(){function e(t,n){Nt(this,e),this._firestore=t,this._delegate=n}return Pt(e,[{key:"query",get:function(){return new IC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new SC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new EC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new SC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Vk(this._delegate,e._delegate)}}]),e}(),CC=function(e){Ft(n,e);var t=Bt(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Pt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new kC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new kC(this.firestore,void 0===e?Bg(this._delegate):Bg(this._delegate,e))}catch(t){throw bC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Dg(e.firestore,Hg),r=Bg(e),i=ab(e.converter,t);return yb(n,[dk(hk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(gC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(IC);function AC(e){return Dg(e,Fg)}var OC,NC=function(){function e(){Nt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=zt(nk,n)}return Pt(e,[{key:"isEqual",value:function(e){return(e=gn(e))instanceof nk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Xs.keyField().canonicalString())}}]),e}(),DC=function(){function e(t){Nt(this,e),this._delegate=t}return Pt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new mk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=wb();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=_b.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new kk("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),PC={Firestore:pC,GeoPoint:ak,Timestamp:Hs,Blob:fC,Transaction:mC,WriteBatch:yC,DocumentReference:kC,DocumentSnapshot:_C,Query:IC,QueryDocumentSnapshot:SC,QuerySnapshot:TC,CollectionReference:CC,FieldPath:NC,FieldValue:DC,setLogLevel:function(e){!function(e){xs.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function RC(){return window}(function(e,t){e.INTERNAL.registerComponent(new wn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},PC)))})(OC=Gr,(function(e,t){return new pC(e,t,new dC)})),OC.registerVersion("@firebase/firestore-compat","0.1.20");function LC(e,t,n){return MC.apply(this,arguments)}function MC(){return MC=J($().mark((function e(t,n,r){var i,a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=RC(),o=a.BuildInfo,sw(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zC(n.sessionId);case 4:return u=e.sent,s={},hx()?s.ibi=o.packageName:cx()?s.apn=o.packageName:tw(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",RE(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(){return FC=J($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=RC(),r=n.BuildInfo,i={},hx()?i.iosBundleId=r.packageName:cx()?i.androidPackageName=r.packageName:tw(t,"operation-not-supported-in-this-environment"),e.next=5,lE(t,i);case 5:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function jC(e){var t=RC().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function UC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=J($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=RC(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(nw(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),cx()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),VC.apply(this,arguments)}function BC(e){var t,n,r,i,a,o,u,s,c,l,f=RC();ow("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ow("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ow("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ow("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ow("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zC(e){return qC.apply(this,arguments)}function qC(){return(qC=J($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=KC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(e){if(sw(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var WC=function(e){Ft(n,e);var t=Bt(n);function n(){var e;return Nt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Pt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ii(jt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(uE);function GC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:JC(),postBody:null,tenantId:e.tenantId,error:nw(e,"no-auth-event")}}function HC(e,t){return XC()._set(ZC(e),t)}function QC(e){return $C.apply(this,arguments)}function $C(){return $C=J($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XC()._get(ZC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,XC()._remove(ZC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),$C.apply(this,arguments)}function YC(e,t){var n,r,i=function(e){var t=eA(e),n=t.link?decodeURIComponent(t.link):void 0,r=eA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return eA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=eA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?nw(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function JC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function XC(){return lw(TS)}function ZC(e){return nx("authEvent",e.config.apiKey,e.name)}function eA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||kn(t)||s(t)||c();r[0];return dn(r.slice(1).join("?"))}var tA=function(){function e(){Nt(this,e),this._redirectPersistence=AS,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rE,this._overrideRedirectResult=GI}return Pt(e,[{key:"_initialize",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new WC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){tw(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=J($().mark((function e(t,n,r,i){var a,o,u,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),VI.clear(),e.next=10,this._originValidation(t);case 10:return o=GC(t,r,i),e.next=13,HC(t,o);case 13:return e.next=15,LC(t,o,n);case 15:return u=e.sent,e.next=18,jC(u);case 18:return s=e.sent,e.abrupt("return",UC(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return FC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=RC(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(J($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,QC(e);case 2:t.onEvent(rA());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=J($().mark((function n(r){var i,a;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,QC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=YC(i,r.url)),t.onEvent(a||rA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");RC().handleOpenURL=function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),nA=tA;function rA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nw("no-auth-event")}}function iA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function aA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return!("file:"!==iA()&&"ionic:"!==iA()&&"capacitor:"!==iA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function oA(){return nn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function uA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/Edge\/\d+/.test(e)}function sA(){try{var e=self.localStorage,t=DS();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return oA()||uA(e)}()||rn()}catch(n){return cA()&&rn()}return!1}function cA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function lA(){return("http:"===iA()||"https:"===iA()||en()||aA())&&!(tn()||Zt())&&sA()&&!cA()}function fA(){return aA()&&"undefined"!==typeof document}function hA(){return dA.apply(this,arguments)}function dA(){return(dA=J($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pA={LOCAL:"local",NONE:"none",SESSION:"session"},vA=ow,mA="persistence";function yA(e,t){vA(Object.values(pA).includes(t),e,"invalid-persistence-type"),tn()?vA(t!==pA.SESSION,e,"unsupported-persistence-type"):Zt()?vA(t===pA.NONE,e,"unsupported-persistence-type"):cA()?vA(t===pA.NONE||t===pA.LOCAL&&rn(),e,"unsupported-persistence-type"):vA(t===pA.NONE||sA(),e,"unsupported-persistence-type")}function gA(e){return kA.apply(this,arguments)}function kA(){return kA=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=bA(),r=nx(mA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function bA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var wA=ow,xA=function(){function e(){Nt(this,e),this.browserResolver=lw(FE),this.cordovaResolver=lw(nA),this.underlyingResolver=null,this._redirectPersistence=AS,this._completeRedirectFn=rE,this._overrideRedirectResult=GI}return Pt(e,[{key:"_initialize",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=J($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return fA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return wA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _A(e){return e.unwrap()}function SA(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new AA(e,function(e,t){var n,r=gn(e),i=t;return ow(t.customData.operationType,r,"argument-error"),ow(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),kS._fromError(r,i)}(e,t));else if(i){var a=IA(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function IA(e){var t=(e instanceof an?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof an)&&"temporaryProof"in t&&"phoneNumber"in t)return II.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Bb)return null;switch(r){case Vb:n=l_;break;case jb:n=c_;break;case Ub:n=f_;break;case zb:n=p_;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?h_._create(r,u):Yx._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new s_(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof an?n.credentialFromError(e):n.credentialFromResult(e)}function EA(e,t){return t.catch((function(t){throw t instanceof an&&SA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,IA(t)),additionalUserInfo:yS(e),user:OA.getOrCreate(r)}}))}function TA(e,t){return CA.apply(this,arguments)}function CA(){return CA=J($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return EA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}var AA=function(){function e(t,n){Nt(this,e),this.resolver=n,this.auth=t.wrapped()}return Pt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return EA(_A(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),OA=function(){function e(t){Nt(this,e),this._delegate=t,this.multiFactor=function(e){var t=gn(e);return _S.has(t)||_S.set(t,xS._fromUser(t)),_S.get(t)}(t)}return Pt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EA(this.auth,L_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TA(this.auth,kI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EA(this.auth,FI(this._delegate,t,xA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gA(kx(this.auth));case 2:return e.abrupt("return",ZI(this._delegate,t,xA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EA(this.auth,F_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return TA(this.auth,function(e,t,n){return wI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return EA(this.auth,function(e,t,n){return MI.apply(this,arguments)}(this._delegate,e,xA))}},{key:"reauthenticateWithRedirect",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gA(kx(this.auth));case 2:return e.abrupt("return",JI(this._delegate,t,xA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return iS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return cS(gn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return cS(gn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return SI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return sS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return aS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();OA.USER_MAP=new WeakMap;var NA=ow,DA=function(){function e(t,n){if(Nt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;NA(r,"invalid-api-key",{appName:t.name}),NA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?xA:void 0;this._delegate=n.initialize({options:{persistence:RA(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Yb),this.linkUnderlyingAuth()}return Pt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?OA.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){wx(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return H_.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Q_(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return G_.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=J($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EA(this._delegate,J_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return rS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=i_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=J($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NA(lA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tE(this._delegate,xA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",EA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){kx(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=PA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=PA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Z_.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return W_.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=J($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yA(this._delegate,t),e.t0=t,e.next=e.t0===pA.SESSION?4:e.t0===pA.LOCAL?6:e.t0===pA.NONE?11:13;break;case 4:return n=AS,e.abrupt("break",14);case 6:return e.next=8,lw(XS)._isAvailable();case 8:return r=e.sent,n=r?XS:TS,e.abrupt("break",14);case 11:return n=tx,e.abrupt("break",14);case 13:return e.abrupt("return",tw("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return EA(this._delegate,function(e){return k_.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return EA(this._delegate,P_(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return EA(this._delegate,function(e,t){return B_.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return EA(this._delegate,function(e,t,n){return P_(gn(e),a_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return EA(this._delegate,function(e,t,n){return eS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return TA(this._delegate,function(e,t,n){return gI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NA(lA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",EA(this._delegate,RI(this._delegate,t,xA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=J($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NA(lA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gA(this._delegate);case 3:return e.abrupt("return",$I(this._delegate,t,xA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Y_.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function PA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&OA.getOrCreate(e))},error:t,complete:n}}function RA(e,t){var n=function(e,t){var n=bA();if(!n)return[];var r=nx(mA,e,t);switch(n.getItem(r)){case pA.NONE:return[tx];case pA.LOCAL:return[XS,AS];case pA.SESSION:return[AS];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(XS)||n.push(XS),"undefined"!==typeof window)for(var r=0,i=[TS,AS];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(tx)||n.push(tx),n}DA.Persistence=pA;var LA=function(){function e(){Nt(this,e),this.providerId="phone",this._delegate=new II(_A(Gr.auth()))}return Pt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return II.credential(e,t)}}]),e}();LA.PHONE_SIGN_IN_METHOD=II.PHONE_SIGN_IN_METHOD,LA.PROVIDER_ID=II.PROVIDER_ID;var MA=ow,FA=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gr.app();Nt(this,e),MA(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vI(t,n,i.auth()),this.type=this._delegate.type}return Pt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new wn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new DA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qb,PASSWORD_RESET:Kb,RECOVER_EMAIL:Wb,REVERT_SECOND_FACTOR_ADDITION:Gb,VERIFY_AND_CHANGE_EMAIL:Hb,VERIFY_EMAIL:Qb}},EmailAuthProvider:a_,FacebookAuthProvider:c_,GithubAuthProvider:f_,GoogleAuthProvider:l_,OAuthProvider:s_,SAMLAuthProvider:d_,PhoneAuthProvider:LA,PhoneMultiFactorGenerator:VE,RecaptchaVerifier:FA,TwitterAuthProvider:p_,Auth:DA,AuthCredential:Sx,Error:an}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.17")}(Gr);var jA=Gr.initializeApp({apiKey:"AIzaSyDhcemwbx2PkqMJ3zLwrX5fJ5O1PBYvWzc",authDomain:"calendar-app-6279d.firebaseapp.com",databaseURL:"https://calendar-app-6279d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"calendar-app-6279d",storageBucket:"calendar-app-6279d.appspot.com",messagingSenderId:"135237774723",appId:"1:135237774723:web:27ba218ce83db7ddfe1ab6",measurementId:"G-T4K2LTLPLP"}),UA=(0,i.createContext)(null),VA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return lr(e,"firestore").getImmediate()}(jA),BA=Gr.auth(jA);a.createRoot(document.getElementById("root")).render((0,Yr.jsx)(i.StrictMode,{children:(0,Yr.jsx)(UA.Provider,{value:{auth:BA,firebaseApp:jA,firestore:VA},children:(0,Yr.jsx)(uC,{})})}))}()}();
//# sourceMappingURL=main.9ab701ef.js.map